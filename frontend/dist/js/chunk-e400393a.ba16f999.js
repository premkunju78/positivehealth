(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e400393a"],{"11de":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("2b0e"),a=r("b42e"),i=r("c637"),o=r("a723"),s=r("cf75"),c=Object(s["d"])({id:Object(s["c"])(o["u"]),inline:Object(s["c"])(o["g"],!1),novalidate:Object(s["c"])(o["g"],!1),validated:Object(s["c"])(o["g"],!1)},i["B"]),u=n["default"].extend({name:i["B"],functional:!0,props:c,render:function(e,t){var r=t.props,n=t.data,i=t.children;return e("form",Object(a["a"])(n,{class:{"form-inline":r.inline,"was-validated":r.validated},attrs:{id:r.id,novalidate:r.novalidate}}),i)}})},"459e":function(e,t,r){"use strict";r("e6eb")},5319:function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),i=r("7b0b"),o=r("50c4"),s=r("a691"),c=r("1d80"),u=r("8aa5"),l=r("14c3"),d=Math.max,f=Math.min,v=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,b=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=n.REPLACE_KEEPS_$0,w=g?"$":"$0";return[function(r,n){var a=c(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,a,n):t.call(String(a),r,n)},function(e,n){if(!g&&h||"string"===typeof n&&-1===n.indexOf(w)){var i=r(t,e,this,n);if(i.done)return i.value}var c=a(e),v=String(this),p="function"===typeof n;p||(n=String(n));var m=c.global;if(m){var R=c.unicode;c.lastIndex=0}var q=[];while(1){var S=l(c,v);if(null===S)break;if(q.push(S),!m)break;var $=String(S[0]);""===$&&(c.lastIndex=u(v,o(c.lastIndex),R))}for(var k="",y=0,_=0;_<q.length;_++){S=q[_];for(var E=String(S[0]),B=d(f(s(S.index),v.length),0),D=[],j=1;j<S.length;j++)D.push(b(S[j]));var O=S.groups;if(p){var C=[E].concat(D,B,v);void 0!==O&&C.push(O);var I=String(n.apply(void 0,C))}else I=x(E,v,B,D,O,n);B>=y&&(k+=v.slice(y,B)+I,y=B+E.length)}return k+v.slice(y)}];function x(e,r,n,a,o,s){var c=n+e.length,u=a.length,l=m;return void 0!==o&&(o=i(o),l=p),t.call(s,l,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return t;if(l>u){var d=v(l/10);return 0===d?t:d<=u?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):t}s=a[l-1]}return void 0===s?"":s}))}}))},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,i=r("1dde"),o=r("ae40"),s=i("map"),c=o("map");n({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},dc6e:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",[r("b-row",{staticStyle:{"margin-top":"2%"}},[r("b-col",{attrs:{cols:"2"}}),r("b-col",{attrs:{cols:"8"}},[e.errors&&e.errors.content?r("span",{staticClass:"text-danger"},[e._v(" "+e._s(e.errors.content)+" ")]):e._e(),r("div",{attrs:{id:"fb-view"}})])],1),r("b-row",[r("b-col",[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}},{name:"permission",rawName:"v-permission",value:["edit-questionnaire"],expression:"['edit-questionnaire']"}],staticStyle:{float:"right"},attrs:{type:"submit",variant:"primary"},on:{click:e.onSubmit}},[e._v(" Submit ")]),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1",staticStyle:{float:"right"},attrs:{type:"reset",variant:"outline-secondary"},on:{click:e.resetQuestionnaire}},[e._v(" Reset ")])],1)],1)],1)},a=[],i=r("1da1"),o=(r("96cf"),r("b0c0"),r("d81d"),r("ac1f"),r("5319"),r("205f")),s=r("d6e4"),c=r("a15b7"),u=r("b28b"),l=r("11de"),d=r("1947"),f=r("e009"),v=r("223c"),p=r("1157"),m=r.n(p),b=r("0910");r("ff52");window.jQuery=m.a,window.$=m.a,r("3afa"),r("17c5");var g={name:"FillQuestionnaire",components:{BCard:o["a"],BCardText:s["a"],BRow:c["a"],BCol:u["a"],BForm:l["a"],BButton:d["a"]},directives:{Ripple:f["a"]},props:["id"],data:function(){return{formRenderer:null,formData:null,questionnaire:{},errors:{content:""}}},created:function(){this.getFormData()},methods:{getFormData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/questionnaire/".concat(e.id));case 3:r=t.sent,n=r.data,e.formData=n.content,a=[{label:"Star Rating",attrs:{type:"starRating"},icon:"ðŸŒŸ"}],i={starRating:function(e){return{field:'<span id="'+e.name+'">',onRender:function(){Object(b["a"])(document.getElementById(e.name),{numStars:10,onChange:function(e,t){console.log(e)}})}}}},e.formRenderer=m()("#fb-view").formRender({fields:a,templates:i,formData:n.content,render:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.$toast({component:v["a"],props:{title:"something went wrong contact admin",icon:"BellIcon",variant:"danger"}});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},onSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.questionnaire.result=e.formRenderer.userData,e.questionnaire.client_id=e.$route.query.clientid,e.questionnaire["new"]=e.$route.query["new"],r=!0,e.questionnaire.result.map((function(e){e.required&&(console.log(e),e.userData.length&&""!=e.userData[0]||(r=!1))})),!r){t.next=27;break}if(e.questionnaire.id=e.id,!e.questionnaire.result.length){t.next=24;break}return t.prev=8,t.next=11,axios.post("/questionnaire/result",e.questionnaire);case 11:n=t.sent,a=n.data,console.log(a),e.errors={},e.$toast({component:v["a"],props:{title:a.message,icon:"BellIcon",variant:a.success?"success":"danger"}}),1==e.$store.getters.user.role.is_consultant?e.$router.replace("/assessments/".concat(e.questionnaire.client_id)):e.$router.replace({name:"questionnaires"}),t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](8),e.errors=t.t0.response.data.errors;case 22:t.next=25;break;case 24:e.errors.content="Please fill form first";case 25:t.next=28;break;case 27:e.errors.content="Please fill all the required fields first";case 28:case"end":return t.stop()}}),t,null,[[8,19]])})))()},resetQuestionnaire:function(){this.formRenderer=m()("#fb-view").formRender({formData:this.formData,render:!0}),this.questionnaire.result=this.formData}}},h=g,w=(r("459e"),r("2877")),x=Object(w["a"])(h,n,a,!1,null,null,null);t["default"]=x.exports},e6eb:function(e,t,r){}}]);
//# sourceMappingURL=chunk-e400393a.ba16f999.js.map