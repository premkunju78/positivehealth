{"version":3,"sources":["webpack:///./node_modules/bootstrap-vue/esm/components/form/form.js","webpack:///./src/views/appointments/calendarEventHandler.vue?c6f5","webpack:///./src/views/appointments/availability.vue?cf19","webpack:///./src/assets/images/avatars/1-small.png","webpack:///./node_modules/@fullcalendar/daygrid/main.js","webpack:///./node_modules/@fullcalendar/timegrid/main.js","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./src/@core/comp-functions/forms/form-validation.js","webpack:///./node_modules/vue-select/dist/vue-select.js","webpack:///./node_modules/flatpickr/dist/esm/types/options.js","webpack:///./node_modules/flatpickr/dist/esm/l10n/default.js","webpack:///./node_modules/flatpickr/dist/esm/utils/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dom.js","webpack:///./node_modules/flatpickr/dist/esm/utils/formatting.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dates.js","webpack:///./node_modules/flatpickr/dist/esm/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack:///./src/views/appointments/availability.vue?3787","webpack:///./src/views/appointments/calendarEventHandler.vue?92d4","webpack:///src/views/appointments/calendarEventHandler.vue","webpack:///./src/views/appointments/calendarEventHandler.vue?2702","webpack:///./src/views/appointments/calendarEventHandler.vue","webpack:///./src/views/appointments/useCalendar.js","webpack:///src/views/appointments/availability.vue","webpack:///./src/views/appointments/availability.vue?de9c","webpack:///./src/views/appointments/availability.vue","webpack:///./src/views/appointments/useCalendarEventHandler.js","webpack:///./src/views/appointments/availabilityStoreModule.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/bootstrap-vue/esm/directives/visible/visible.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-textarea/form-textarea.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/@fullcalendar/interaction/main.js","webpack:///./src/assets/images/avatars/3-small.png","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-custom.js","webpack:///./src/assets/images/avatars/7-small.png","webpack:///./src/assets/images/avatars/11-small.png","webpack:///./node_modules/bootstrap-vue/esm/components/sidebar/sidebar.js","webpack:///./node_modules/vue-flatpickr-component/dist/vue-flatpickr.min.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox.js","webpack:///./node_modules/bootstrap-vue/esm/utils/loose-index-of.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check.js","webpack:///./node_modules/@fullcalendar/common/vdom.js","webpack:///./node_modules/@fullcalendar/common/main.js","webpack:///./src/assets/images/avatars/5-small.png","webpack:///./node_modules/vue-ripple-directive/src/ripple.js","webpack:///./node_modules/@fullcalendar/list/main.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/preact/compat/dist/compat.module.js","webpack:///./node_modules/@fullcalendar/core/vdom.js","webpack:///./node_modules/@fullcalendar/core/main.js","webpack:///./node_modules/@fullcalendar/vue/dist/options.js","webpack:///./node_modules/@fullcalendar/vue/dist/utils.js","webpack:///./node_modules/@fullcalendar/vue/dist/custom-content-type.js","webpack:///./node_modules/@fullcalendar/vue/dist/FullCalendar.js","webpack:///./node_modules/@fullcalendar/vue/dist/main.js","webpack:///./src/assets/images/avatars/9-small.png"],"names":["props","id","inline","novalidate","validated","BForm","extend","name","functional","render","h","_ref","data","children","class","attrs","module","exports","TableView","_super","_this","apply","this","arguments","headerElRef","prototype","renderSimpleLayout","headerRowContent","bodyContent","_a","context","sections","stickyHeaderDates","options","push","type","key","isSticky","chunk","elRef","tableClassName","rowContent","liquid","content","viewSpec","rootElRef","classNames","ref","className","concat","join","isHeightAuto","forPrint","collapsibleWidth","cols","renderHScrollLayout","colCnt","dayMinWidth","ScrollGrid","pluginHooks","scrollGridImpl","Error","stickyFooterScrollbar","chunks","colGroups","span","minWidth","splitSegsByRow","segs","rowCnt","byRow","i","_i","segs_1","length","seg","row","splitSegsByFirstCol","byCol","segs_2","firstCol","splitInteractionByRow","ui","affectedInstances","isEvent","TableCellTop","navLinkAttrs","date","dateProfile","todayRange","showDayNumber","extraHookProps","defaultContent","renderTopInner","innerElRef","innerContent","forceDayTop","dayNumberId","dayNumberText","DEFAULT_TABLE_EVENT_TIME_FORMAT","hour","minute","omitZeroMinute","meridiem","hasListItemDisplay","display","eventRange","def","allDay","lastCol","isStart","isEnd","TableBlockEvent","extraClassNames","defaultTimeFormat","defaultDisplayEventEnd","disableResizing","TableListItemEvent","timeFormat","eventTimeFormat","timeText","renderInnerContent","isDragging","isResizing","isDateSelecting","isSelected","isPast","isFuture","isToday","innerProps","style","borderColor","backgroundColor","event","title","TableCellMoreLink","compileSegs","singlePlacements","allSegs","invisibleSegs","allDayDate","moreCnt","hiddenSegs","alignmentElRef","alignGridTop","extraDateSpan","popoverContent","isForcedInvisible","eventDrag","eventResize","map","instanceId","instance","visibility","eventSelection","handleClick","isExpanded","popoverId","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","week","TableCell","state","handleRootEl","el","dayElRef","dayClassNames","rootDataAttrs","isDisabled","role","extraDataAttrs","showWeekNumber","defaultFormat","weekElRef","weekClassNames","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","dayMaxEvents","dayMaxEventRows","strictOrder","eventInstanceHeights","maxContentHeight","cells","hierarchy","DayGridSegHierarchy","allowReslicing","maxCoord","hiddenConsumes","maxStackCnt","segInputs","unknownHeightSegs","eventHeight","index","thickness","start","end","hiddenEntries","addSegs","segRects","toRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","isAbsolute","absoluteTop","col","resliceSeg","_b","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","rects","currentHeight","currentMarginTop","rects_1","rect","levelCoord","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","origRange","range","slicedRange","durationEditable","valueOf","forceHidden","call","entriesByLevel","excludeHidden","entry","level","filter","handleInvalidInsertion","insertion","touchingEntry","touchingLevel","touchingLateral","touchingEntryId","placeholderEntry","placeholderEntryId","splitEntry","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","businessHourSegs","bgEventSegsByCol","bgEventSegs","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","fgEventSegs","eventOrder","eventOrderStrict","renderIntro","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","Boolean","createRef","showDayNumbers","showWeekNumbers","renderFillSegs","componentDidMount","updateSizing","componentDidUpdate","prevProps","prevState","currentProps","dateSelectionSegs","segPlacements","isMirror","nodes","segPlacements_1","left","right","isRtl","lefts","rights","top","fillType","leftRightCss","isExternalSizingChange","clientWidth","frameEls","currentMap","originEl","current","setState","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","height","Math","round","getBoundingClientRect","split","max","firstKey","cellEl","fcContainerEl","bottom","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","addStateEquality","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","rootEl","registerInteractiveComponent","isHitComboAllowed","unregisterInteractiveComponent","expandRows","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","width","tableMinWidth","unit","nowDate","clientHeight","colGroupNode","toISOString","renderRowIntro","isSegAllDay","prepareHits","rowPositions","collect","rowObj","colPositions","queryHit","positionLeft","positionTop","leftToIndex","topToIndex","dateSpan","getCellRange","dayEl","getCellEl","tops","bottoms","layer","DayTableSlicer","forceDayIfListItem","sliceRange","dateRange","dayTableModel","DayTable","slicer","tableRef","sliceProps","nextDayThreshold","headerAlignElRef","DayTableView","buildDayTableModel","headerRef","dateProfileGenerator","headerContent","dayHeaders","dates","headerDates","datesRepDistinctDays","contentArg","businessHours","dateSelection","eventStore","eventUiBases","tableColGroupNode","weekNumbers","daySeries","renderRange","test","currentRangeUnit","TableDateProfileGenerator","buildRenderRange","currentRange","isRangeAllDay","endOfWeek","dateEnv","startOfWeek","monthMode","fixedWeekCount","ceil","main","initialView","views","dayGrid","component","dateProfileGeneratorClass","dayGridDay","duration","days","dayGridWeek","weeks","dayGridMonth","months","AllDaySplitter","getKeyInfo","timed","getKeysForDateSpan","getKeysForEventDef","eventDef","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","Consumer","isoTimeStr","viewApi","labelFormat","slotLabelFormat","Array","isArray","hookProps","time","toDate","view","text","format","slotLabelClassNames","slotLabelContent","didMount","slotLabelDidMount","willUnmount","slotLabelWillUnmount","customClassNames","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","scrollerElRef","slatCoords","handleScrollTopRequest","scrollTop","scrollerEl","renderHeadAxis","rowKey","frameHeight","dayCnt","renderTableRowAxis","rowHeight","allDayText","allDayClassNames","allDayContent","renderAllDayInner","allDayDidMount","allDayWillUnmount","handleSlatCoords","timeContent","outerContent","theme","getClass","syncRowHeights","arg","rowSyncHeights","colSpan","isNowIndicator","nowIndicator","nowIndicatorTop","safeComputeTop","isAxis","getAllDayMaxEventProps","undefined","TimeColsSlatsCoords","positions","slotDuration","startOfDayDate","timeMs","slotMinTime","slotMaxTime","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","len","els","slatCoverage","milliseconds","min","floor","getHeight","TimeColsSlatsBody","slatElRefs","axis","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","TimeColsSlats","minHeight","componentWillUnmount","onCoords","offsetHeight","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderMoreLinkInner","renderPlainFgSegs","onClick","shortText","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","lateral","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","sort","cmpDescPressures","extractNode","a","b","subjectLevel","subjectLateral","levelCoords","subjectEntry","afterSubject","levelCnt","entries","searchIndex","topLevelNodes","totalThickness","stretchNode","node","startCoord","prevThickness","endCoord","allThickness","thicknessFraction","newChildren","nextLevelNodes_1","childNode","res","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","args","computeSegVCoords","colDate","eventMinHeight","vcoords","computeFgSegPlacements","segVCoords","eventMaxStack","dumbSegs","segRects_1","segRect","dumbSegs_1","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeColMisc","TimeCol","sortEventSegs","isSelectMirror","selectMirror","interactionAffectedInstances","sortedFgSegs","dataAttrs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","eventShortHeight","_c","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","slotEventOverlap","nearCoord","farCoord","zIndex","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","handleScrollRequest","request","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","createScrollResponder","update","detach","snapDuration","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","add","snapDurationOverride","DayTimeColsSlicer","dayRanges","segRange","DayTimeCols","buildDayRanges","timeColsRef","sliceNowDate","ranges","STOCK_SUB_DURATIONS","hours","minutes","seconds","buildSlatMetas","explicitLabelInterval","dayStart","Date","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","splitProps","slotLabelInterval","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","OPTION_REFINERS","optionRefiners","timeGrid","usesMinMaxTime","timeGridDay","timeGridWeek","$","global","userAgent","slice","MSIE","wrap","scheduler","handler","timeout","boundArgs","Function","bind","forced","setTimeout","setInterval","formValidation","resetFormData","clearFormData","refFormObserver","resetObserver","value","reset","getValidationState","dirty","fieldRequired","required","changed","valid","result","resetForm","nextTick","clearForm","t","e","self","n","o","l","m","c","d","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","__esModule","create","default","hasOwnProperty","p","s","iterator","constructor","configurable","writable","toString","from","TypeError","autoscroll","watch","typeAheadPointer","maybeAdjustScroll","methods","$refs","dropdownMenu","getDropdownViewport","offsetTop","u","filteredOptions","selectable","typeAheadUp","typeAheadDown","typeAheadSelect","select","loading","mutableLoading","search","$emit","toggleLoading","staticRenderFns","_compiled","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","beforeCreate","Deselect","$createElement","_self","xmlns","OpenIndicator","f","inserted","appendToBody","toggle","window","scrollX","pageXOffset","scrollY","pageYOffset","unbindPosition","calculatePosition","document","body","appendChild","unbind","parentNode","removeChild","y","keys","forEach","JSON","stringify","g","v","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","_","components","mixins","directives","disabled","clearable","searchable","multiple","placeholder","String","transition","clearSearchOnSelect","closeOnSelect","label","autocomplete","reduce","getOptionLabel","console","warn","getOptionKey","onTab","selectOnTab","isComposing","taggable","tabindex","Number","pushTags","filterable","filterBy","toLowerCase","indexOf","createOption","optionList","resetOnOptionsChange","validator","includes","clearSearchOnBlur","noDrop","inputId","dir","selectOnKeyCodes","searchInputQuerySelector","mapKeydown","uid","open","pushedTags","_value","selectedValue","clearSelection","isTrackingValues","setInternalValueFromOptions","created","$on","pushTag","$data","findOptionFromReducedValue","isOptionSelected","optionExists","updateValue","onAfterSelect","deselect","optionComparator","searchEl","blur","toggleDropdown","target","preventDefault","deselectButtons","clearButton","some","contains","focus","find","closeSearchOptions","maybeDeleteValue","normalizeOptionForSlot","onEscape","onSearchBlur","mousedown","searching","onSearchFocus","onMousedown","onMouseUp","onSearchKeyDown","8","9","27","38","40","keyCode","computed","propsData","$scopedSlots","selectedOptions","querySelector","scope","attributes","searchPlaceholder","readonly","dropdownOpen","events","compositionstart","compositionend","keydown","input","spinner","noOptions","openIndicator","listHeader","listFooter","header","footer","childComponents","stateClasses","isValueEmpty","unshift","showClearButton","O","staticClass","_t","_v","on","_l","_s","refInFor","click","tag","_e","option","_g","rawName","expression","mouseup","mouseover","stopPropagation","staticStyle","w","ajax","pointer","pointerScroll","HOOKS","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","navigator","ariaDateFormat","autoFillDefaultTime","clickOpens","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","getWeek","givenDate","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","hourIncrement","ignoredFocusElements","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","english","weekdays","shorthand","longhand","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","bool","debounce","fn","wait","clearTimeout","arrayify","obj","toggleClass","elem","classList","remove","createElement","textContent","clearNode","firstChild","findParent","condition","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","getEventTarget","composedPath","path","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","parseFloat","H","J","day","K","getHours","RegExp","M","shortMonth","S","setSeconds","U","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","setMinutes","j","month","unixMillSeconds","tokenRegex","getMonth","getSeconds","getMinutes","substring","createDateFormatter","config","l10n","isMobile","frmt","overrideLocale","formatDate","arr","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","exec","val","isNaN","compareDates","date1","date2","isBetween","ts","ts1","ts2","DAY","getDefaultHours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","assign","flatpickr","defaultConfig","setupHelperFunctions","utils","currentMonth","yr","currentYear","init","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","setHoursFromDate","latestSelectedDateObj","setCalendarWidth","isSafari","positionCalendar","triggerEvent","bindToInstance","requestAnimationFrame","calendarContainer","daysContainer","daysWidth","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","defaults","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","onYearInput","eventTarget","delta","changeYear","ev","addEventListener","_handlers","removeEventListener","triggerChange","evt","querySelectorAll","setupMobile","debouncedResize","onResize","onMouseOver","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","timeIncrement","onBlur","jumpToDate","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","redraw","incrementNumInput","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","abs","changeMonth","focusOnDay","offset","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","getDaysInMonth","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","getAttribute","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","clear","triggerChangeEvent","toInitial","mobileInput","_initialDate","close","destroy","lastChild","_type","removeAttribute","k","isCalendarElem","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","to","allowKeydown","allowInlineKeydown","isTimeObj","focusAndClose","ctrlKey","elems","pluginElements","x","shiftKey","charAt","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","_positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","parse","dataset","formats","_enable","set","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","l10ns","customPositionElement","calendarHeight","acc","child","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","innerHeight","showOnTop","isCenter","isRight","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","single","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","_createElement","CALLBACKS","setSelectedDate","inputDate","rule","preloadedDate","nodeName","inputType","mobileFormatStr","defaultValue","step","hooks","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr","source","_vm","_h","calendarOptions","isCalendarOverlaySidebarActive","$event","clearEventData","removeEvent","addEvent","updateEvent","model","callback","$$v","isEventHandlerSidebarActive","scopedSlots","_u","hide","eventLocal","handleSubmit","onSubmit","validationContext","$set","errors","timePicker","$store","appConfig","isRTL","weekDays","day_name","frequencyLists","modifiers","BButton","BSidebar","BFormGroup","BFormInput","BFormCheckbox","BFormTextarea","BAvatar","vSelect","flatPickr","ValidationProvider","BFormInvalidFeedback","ValidationObserver","Ripple","prop","selectedDay","setup","guestsOptions","userCalendar","toast","useToast","refCalendar","calendarApi","userId","onMounted","getApi","blankEvent","user_id","startDate","endDate","startTime","endTime","selectedDays","group","attendee","frequency","extendedProps","calendar","setUser","refetchEvents","updateEventInCalendar","updatedEventData","propsToUpdate","extendedPropsToUpdate","ToastificationContent","icon","variant","removeEventInCalendar","eventId","getEventById","grabEventDataFromEventApi","eventApi","axios","eventData","log","store","dispatch","then","success","response","updatedEvent","selectedCalendars","fetchEvents","info","successCallback","calendars","dayGridPlugin","interactionPlugin","timeGridPlugin","listPlugin","headerToolbar","eventColor","getters","user","color","eventTextColor","eventDisplay","editable","eventResizableFromStart","dragScroll","navLinks","eventContent","eventClick","clickedEvent","customButtons","sidebarToggle","dateClick","moment","isSameOrAfter","eventDrop","droppedEvent","resizedEvent","direction","rerenderDelay","FullCalendar","CalendarEventHandler","useCalendarEventHandler","emit","resetEventLocal","avatar","require","namespaced","mutations","SET_SELECTED_EVENTS","actions","ctx","Promise","resolve","reject","params","post","put","extendStatics","setPrototypeOf","__proto__","__extends","__","__assign","__spreadArray","pack","ar","_classCallCheck","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","OBSERVER_PROP_NAME","VisibilityObserver","vnode","margin","once","observer","visible","doneOnce","createObserver","stop","IntersectionObserver","root","rootMargin","threshold","_unused","$nextTick","observe","isIntersecting","intersectionRatio","disconnect","mod","_prevModifiers","_ref2","oldValue","VBVisible","componentUpdated","ownKeys","object","enumerableOnly","symbols","sym","_objectSpread","_defineProperty","maxRows","noAutoShrink","noResize","rows","listeners","heightInPx","computedStyle","styles","resize","computedRows","overflowY","computedMinRows","math","computedMaxRows","computedAttrs","safeId","form","plaintext","computedAriaInvalid","computedListeners","bvListeners","onInput","change","localValue","setHeight","mounted","visibleCallback","computeHeight","$isServer","$el","lineHeight","border","borderTopWidth","borderBottomWidth","padding","paddingTop","paddingBottom","oldHeight","scrollHeight","contentRows","computedClass","domProps","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","proto","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","pev","createEventFromMouse","emitter","trigger","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","origEvent","isTouch","deltaX","origPageX","deltaY","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","button","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","getMirrorEl","cloneNode","boxSizing","ScrollGeomCache","scrollController","doesListening","getScrollTop","scrollLeft","getScrollLeft","handleScrollChange","origScrollTop","origScrollLeft","scrollWidth","getScrollWidth","getScrollHeight","getClientWidth","getClientHeight","clientRect","computeClientRect","setScrollTop","getMaxScrollTop","setScrollLeft","getMaxScrollLeft","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","sign","bestSide","leftDist","rightDist","topDist","bottomDist","canScrollUp","canScrollDown","canScrollLeft","canScrollRight","queryScrollEls","query","FeaturefulElementDragging","delay","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","point","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","bestHit","offsetTracker","originLeft","originTop","activeRange","componentId","hit0","hit1","buildDatePointApiWithContext","datePointTransforms","transform","buildDatePointApi","dateStr","formatIso","omitTime","DateClicking","settings","isValidDateDownEl","hitDragging","jsEvent","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","unselect","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSelectionTransformers","selection","selectMinDistance","selectLongPressDelay","longPressDelay","dateSpan0","dateSpan1","ms","dateSelectionTransformers_1","transformer","EventDragging","subjectSeg","relevantEvents","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","eventInstanceId","getCurrentData","eventDragMinDistance","getComponentTouchDelay","fixedMirrorParent","dragRevertDuration","isValid","isValidSegDownEl","mutation","interaction","affectedEvents","mutatedEvents","receivingOptions","droppable","computeEventMutation","eventDragMutationMassagers","displayDrag","initialContext_1","receivingContext_1","eventInstance","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","defs","defId","eventChangeArg","oldEvent","relatedEvents","revert","transformed","eventDropTransformers","datesDelta","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","useEventCenter","nextContext","prevContext","initialCalendar","massagers","date0","standardProps","hasEnd","allDayMaintainDuration","largeUnit","massagers_1","massager","eventLongPressDelay","EventResizing","draggingSegEl","draggingSeg","segEl","querySegEl","computeMutation","startDelta","endDelta","isFromStart","instanceRange","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","unselectCancel","onDocumentPointerUp","documentPointer","calendarState","unselectAuto","off","LISTENER_REFINERS","eventDragStart","eventDragStop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","dropAccept","defProps","leftoverProps","externalDefTransforms","refined","extra","sourceId","forceEventDuration","str","getEmbeddedElData","prefix","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","componentInteractions","calendarInteractions","elementDraggingImpl","listenerRefiners","plain","formCustomMixin","custom","_watch","CLASS_NAME","ROOT_ACTION_EVENT_NAME_REQUEST_STATE","ROOT_ACTION_EVENT_NAME_TOGGLE","ROOT_EVENT_NAME_STATE","ROOT_EVENT_NAME_SYNC_STATE","_makeModelMixin","modelMixin","mixin","modelProps","MODEL_PROP_NAME","MODEL_EVENT_NAME","ariaLabel","ariaLabelledby","backdrop","backdropVariant","bgVariant","bodyClass","closeLabel","footerClass","headerClass","lazy","noCloseOnBackdrop","noCloseOnEsc","noCloseOnRouteChange","noEnforceFocus","noHeader","noHeaderClose","noSlide","shadow","sidebarClass","textVariant","renderHeaderTitle","normalizeSlot","slotScope","renderHeaderClose","renderHeader","$content","$title","$close","renderBody","renderFooter","$footer","renderContent","$header","renderBackdrop","localShow","onBackdropClick","inheritAttrs","transitionProps","css","enterClass","enterActiveClass","enterToClass","leaveClass","leaveActiveClass","leaveToClass","hasTitle","$slots","hasNormalizedSlot","titleId","bvAttrs","emitState","fullPath","$_returnFocusEl","listenOnRoot","handleToggle","handleSync","activated","emitSync","beforeDestroy","emitOnRoot","_this2","onKeydown","onTopTrapFocus","tabables","enforceFocus","reverse","onBottomTrapFocus","onBeforeEnter","onAfterEnter","onAfterLeave","$sidebar","beforeEnter","afterEnter","afterLeave","$backdrop","noFade","$tabTrapTop","$tabTrapBottom","replace","fp","getElem","fpInput","$watch","watchDisabled","immediate","deep","install","_objectSpread2","MODEL_PROP_NAME_INDETERMINATE","MODEL_EVENT_NAME_INDETERMINATE","inject","bvGroup","isChecked","checked","computedLocalChecked","isRadio","setIndeterminate","computedLocalCheckedWatcher","$input","indeterminate","handleChange","_ref$target","uncheckedValue","localChecked","isGroup","_methods","buttonVariant","formRadioCheckMixin","hasFocus","isBtnMode","buttons","isPlain","isCustom","isSwitch","switches","switch","isInline","isRequired","computedName","groupName","computedForm","computedSize","size","computedState","computedButtonVariant","buttonClasses","stateClass","handleFocus","$button","$label","for","FullCalendarVDom","Component","Fragment","createContext","createPortal","flushToDom","unmountComponentAtNode","EventSourceApi","internalEventSource","refetch","sourceIds","isRefetch","publicId","meta","url","removeElement","elementClosest","closest","documentElement","elementMatches","parentElement","method","matches","matchesSelector","msMatchesSelector","findElements","containers","allMatches","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","getEventTargetViaRoot","getElRoot","getRootNode","guid$1","getUniqueDomId","buildDelegationHandler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","createAriaClickAttrs","createAriaKeyboardAttrs","guidNumber","guid","disableCursor","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","field","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","substr","formatWithOrdinals","formatter","fallbackText","compareNumbers","isInt","computeSmallestCellWidth","allWidthEl","contentWidthEl","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","fwd","fwdlw","getUTCDay","dateToLocalArray","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","createEventInstance","forcedStartTzo","forcedEndTzo","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","name_2","filterHash","hash","filtered","mapHash","newHash","arrayToHash","a_1","item","hashValuesToArray","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","parseRecurring","defaultAllDay","recurringTypes","allDayGuess","typeData","typeId","expandRecurring","framingRange","recurringDef","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","parseString","parseObject","second","millisecond","specifiedWeeks","durationsEqual","d0","d1","addDurations","subtractDurations","multiplyDuration","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","mins","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","parts","simpleNumberFormat","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","scrollTime","scrollTimeReset","dayPopoverFormat","footerToolbar","defaultRangeSeparator","titleRangeSeparator","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","aspectRatio","weekends","weekNumberCalculation","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","viewClassNames","viewDidMount","viewWillUnmount","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","handleWindowResize","windowResizeDelay","contentHeight","weekNumberFormat","displayEventTime","displayEventEnd","progressiveEventRendering","eventDataTransform","viewHeight","eventSourceFailure","eventSourceSuccess","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventClassNames","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","slotMinWidth","moreLinkText","moreLinkHint","eventMinWidth","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventMouseEnter","eventMouseLeave","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","initialEvents","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","buttonTextKey","mergeRawOptions","optionSets","refineProps","refiners","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","constraint","overlap","allow","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","eventDefMemberAdders","memberAdder","freeze","startMeta","endMeta","startMarker","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","constraintRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","normalRange","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","fcSeg","getElSeg","eventDefs","compileEventUi","eventOrderSpecs","objs","buildSegCompareObj","_seg","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","defaultDisplayEventTime","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","getEventClassNames","isDraggable","isStartResizable","isEndResizable","buildEventRangeKey","getSegAnchorAttrs","href","hasHandlers","STANDARD_PROPS","parseDateSpan","defaultDuration","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","startStr","endStr","fabricateEventRange","triggerDateSelect","buildDateSpanApiWithContext","triggerDateUnselect","dateSpanTransforms","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","ViewApi","viewTitle","getOption","EVENT_SOURCE_REFINERS","failure","parseEventSource","rawObj","buildEventSourceRefiners","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","gotoDate","zonedDateInput","incrementDate","deltaInput","dateOrObj","selectionInput","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApiToStore","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","scrollToTime","timeInput","EventApi","_context","setProp","mutate","setExtendedProp","setStart","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","canVGrowWithinCell","DEF_DEFAULTS","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","pointInsideRect","intersectRects","rect1","rect2","constrainPoint","getRectCenter","diffPoints","point1","point2","getCanVGrowWithinCell","computeCanVGrowWithinCell","div","possible","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","_splitInteraction","eventUiBuilders","keyInfos","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","buildEventUiForKey","keyInfo","buildEventUi","dateSpans","keys_1","splitStores","splitHashes","splitStates","affectedStores_1","mutatedKeysByDefId","mutatedStores_1","populate","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isOther","getDayClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","zonedDate","handleInteraction","customAction","_scrollbarWidths","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","overflow","innerEl","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","computeEdges","getPadding","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderBottom","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","parents","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","PositionCache","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","originClientTop","leftPosition","topPosition","getWidth","leftIndex","topIndex","ScrollController","canScrollVertically","canScrollHorizontally","ElementScrollController","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","iconOverridePrefix","classes","getIconClass","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","queuedRequest","drain","fireInitialScroll","isDatesNew","ViewContextType","buildViewContext","viewOptions","addResizeHandler","removeResizeHandler","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","propEquality","stateEquality","addPropsEquality","contextType","BaseComponent","setRef","DateComponent","elWidth","elHeight","createPlugin","deps","reducers","isLoadingFuncs","contextInit","viewPropsTransformers","isPropsValid","viewContainerAppends","themeClasses","namedTimeZonedImpl","optionChangeHandlers","contentTypeHandlers","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","overrideConfig","queryProp","theComponent","superType","superDef","rawOptions","overrides","tableCellShaded","buttonGroup","buttonActive","RenderHook","ContentHook","backupElRef","normalizeClassNames","CustomContentRenderContext","renderId","ContentHookInner","updateCustomContent","customContentInfo","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","MountHook","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","buildNext","nextDate","currentInfo","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","hint","textFallback","prevOrNext","navUnit","eventSourceDef$2","arrayEventSourcePlugin","eventSourceDef$1","funcEventSourcePlugin","requestJson","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","setRequestHeader","onload","status","responseText","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","html","buildHtmlRenderer","domNodes","buildDomNodeRenderer","currentEl","currentHtml","currentDomNodes","newDomNodes","newDomNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","isPaused","tryDrain","pause","resume","force","depth","drained","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","newOptionOverrides","NamedTimeZoneImpl","SegHierarchy","stackCnts","insertEntry","findInsertion","isInsertionValid","insertEntryAt","stackCnt","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","insertAt","buildEntryKey","newEntry","candidateCoord","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","parseInteractionSettings","interactionSettingsToStore","interactionSettingsStore","ElementDragging","DRAG_META_REFINERS","parseDragMeta","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","groupClassName","Toolbar","startContent","endContent","extraClassName","forceLtr","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","labeledById","EventClicking","handleSegClick","hasUrlContainer","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","renderInner$1","TableDateCell","dayMeta","WEEKDAY_FORMAT","TableDowCell","dateMeta","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","explicitFormat","dateCnt","DaySeriesModel","indices","cnt","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","dayOffset","DayTableModel","breakOnWeeks","daysPerRow","buildCells","buildHeaderDates","buildCell","seriesSeg","nextIndex","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","extraArgs","eventSegs","computeActiveRange","rangeRes","sliceEventRanges","eventRanges","eventRanges_1","sliceEventRange","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","depths","callbackMap","handleValue","removed","added","refCallback","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","isColPropsEqual","cols0","cols1","renderMicroColGroup","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","microColGroupNode","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","renderChunkTd","isLiquid","sectionKey","reportRowHeightChange","section","getSectionByKey","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","disableDragging","standardClassNames","StandardEvent","renderInnerContent$1","NowIndicatorRoot","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","extraProps","DayCellRoot","refineHookProps","renderFill","BgEvent","WeekNumberRoot","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","extraAttrs","parentEl","alignmentEl","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","MoreLinkRoot","linkElRef","isPopoverOpen","computeRange","buildPublicSeg","handlePopoverClose","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","binding","setProps","rippler","targetBorder","dx","clientX","dy","clientY","maxX","maxY","radius","sqrt","ripple","rippleContainer","borderRadius","pointerEvents","storedTargetPosition","clearRipple","clearPosition","childNodes","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ListViewHeaderRow","textId","cellId","listDayFormat","sideText","listDaySideFormat","sideNavLinkAttrs","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","renderEventInnerContent","buildTimeContent","headers","interactiveAttrs","doAllDay","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","defaultProps","__k","__b","__e","__d","__c","__h","__v","base","__r","debounceRendering","__P","__n","ownerSVGElement","z","C","A","N","setProperty","cssText","T","I","__E","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","__html","unmount","P","B","getDerivedStateFromError","componentDidCatch","forceUpdate","__H","__V","cancelAnimationFrame","E","isPureReactComponent","__f","__u","__a","__R","__O","pop","delete","revealOrder","containerInfo","Map","isReactComponent","cancelBubble","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","$$typeof","Q","globalObj","globalThis","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs_1","_props","old","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","wasRendering","pauseRendering","resumeRendering","classNames_1","OPTION_IS_COMPLEX","resources","shallowCopy","output","wrapVDomGenerator","vDomGenerator","vue","createVueContentTypePlugin","buildVDomHandler","vDomContent","$destroy","initVue","$mount","initialContent","initData","internal","scopedSlotOptions","buildOptions","beforeUpdate","buildWatchers","suppliedOptions","watchers","_loop_1","complexOptionName","GlobalVue","installed","Vue","use"],"mappings":"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","file":"js/chunk-46f74470.a6e9ae57.js","sourcesContent":["import { Vue, mergeData } from '../../vue';\nimport { NAME_FORM } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  id: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  novalidate: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n}, NAME_FORM); // --- Main component ---\n// @vue/component\n\nexport var BForm = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h('form', mergeData(data, {\n      class: {\n        'form-inline': props.inline,\n        'was-validated': props.validated\n      },\n      attrs: {\n        id: props.id,\n        novalidate: props.novalidate\n      }\n    }), children);\n  }\n});","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./availability.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/1-small.1b74d2ba.png\";","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkAttrs, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, getSegAnchorAttrs, memoize, MoreLinkRoot, getSegMeta, createAriaClickAttrs, getUniqueDomId, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ id: props.dayNumberId, className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg, context)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", __assign({ ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId }, createAriaClickAttrs(handleClick)), innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, context = _a.context, props = _a.props, state = _a.state, rootElRef = _a.rootElRef;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, role: \"gridcell\", className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs, (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, dayNumberId: state.dayNumberId, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var oldInstanceHeights = this.state.eventInstanceHeights;\n            var newInstanceHeights = this.queryEventInstanceHeights();\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: __assign(__assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" }, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkAttrs, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? buildNavLinkAttrs(_this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick, title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, role: \"gridcell\", className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","import { ref, nextTick } from '@vue/composition-api'\r\n\r\n// ===========================================================\r\n// ! This is coupled with \"veeValidate\" plugin\r\n// ===========================================================\r\n\r\nexport default function formValidation(resetFormData, clearFormData = () => {}) {\r\n  // ------------------------------------------------\r\n  // refFormObserver\r\n  // ! This is for veeValidate Observer\r\n  // * Used for veeValidate form observer\r\n  // ------------------------------------------------\r\n  const refFormObserver = ref(null)\r\n\r\n  // ------------------------------------------------\r\n  // resetObserver\r\n  // ! This function is coupled with veeValidate\r\n  // * It resets form observer\r\n  // ------------------------------------------------\r\n  const resetObserver = () => {\r\n    refFormObserver.value.reset()\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // getValidationState\r\n  // ! This function is coupled with veeValidate\r\n  // * It returns true/false based on validation\r\n  // ------------------------------------------------\r\n  // eslint-disable-next-line object-curly-newline\r\n  const getValidationState = ({ dirty, validated, required: fieldRequired, changed, valid = null }) => {\r\n    const result = dirty || validated ? valid : null\r\n    return !fieldRequired && !changed ? null : result\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // resetForm\r\n  // ! This function is coupled with veeValidate\r\n  // * This uses resetFormData arg to reset form data\r\n  // ------------------------------------------------\r\n  const resetForm = () => {\r\n    resetFormData()\r\n    nextTick(() => {\r\n      resetObserver()\r\n    })\r\n  }\r\n\r\n  // ------------------------------------------------\r\n  // clearForm\r\n  // ! This function is coupled with veeValidate\r\n  // * This uses clearFormData arg to reset form data\r\n  // ------------------------------------------------\r\n  const clearForm = () => {\r\n    clearFormData()\r\n    nextTick(() => {\r\n      resetObserver()\r\n    })\r\n  }\r\n\r\n  return {\r\n    refFormObserver,\r\n    resetObserver,\r\n    getValidationState,\r\n    resetForm,\r\n    clearForm,\r\n  }\r\n}\r\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.VueSelect=e():t.VueSelect=e()}(\"undefined\"!=typeof self?self:this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/\",n(n.s=8)}([function(t,e,n){var o=n(4),i=n(5),s=n(6);t.exports=function(t){return o(t)||i(t)||s()}},function(t,e){function n(e){return\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n(e)}t.exports=n},function(t,e,n){},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}},function(t,e,n){\"use strict\";var o=n(2);n.n(o).a},function(t,e,n){\"use strict\";n.r(e);var o=n(0),i=n.n(o),s=n(1),r=n.n(s),a=n(3),l=n.n(a),c={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()}},methods:{maybeAdjustScroll:function(){var t,e=(null===(t=this.$refs.dropdownMenu)||void 0===t?void 0:t.children[this.typeAheadPointer])||!1;if(e){var n=this.getDropdownViewport(),o=e.getBoundingClientRect(),i=o.top,s=o.bottom,r=o.height;if(i<n.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(s>n.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(n.height-r)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},u={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect:function(){var t=this.filteredOptions[this.typeAheadPointer];t&&this.select(t)}}},p={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit(\"search\",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function h(t,e,n,o,i,s,r,a){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId=\"data-v-\"+s),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:c}}var d={Deselect:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"10\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z\"}})])}),[],!1,null,null,null).exports,OpenIndicator:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z\"}})])}),[],!1,null,null,null).exports},f={inserted:function(t,e,n){var o=n.context;if(o.appendToBody){var i=o.$refs.toggle.getBoundingClientRect(),s=i.height,r=i.top,a=i.left,l=i.width,c=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=o.calculatePosition(t,o,{width:l+\"px\",left:c+a+\"px\",top:u+r+s+\"px\"}),document.body.appendChild(t)}},unbind:function(t,e,n){n.context.appendToBody&&(t.unbindPosition&&\"function\"==typeof t.unbindPosition&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};var y=function(t){var e={};return Object.keys(t).sort().forEach((function(n){e[n]=t[n]})),JSON.stringify(e)},b=0;var g=function(){return++b};function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={components:m({},d),mixins:[c,u,p],directives:{appendToBody:f},props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:\"\"},transition:{type:String,default:\"vs__fade\"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:\"label\"},autocomplete:{type:String,default:\"off\"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return\"object\"===r()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key \"option.'.concat(this.label,'\" does not')+\" exist in options object \".concat(JSON.stringify(t),\".\\n\")+\"https://vue-select.org/api/props.html#getoptionlabel\"):t}},getOptionKey:{type:Function,default:function(t){if(\"object\"!==r()(t))return t;try{return t.hasOwnProperty(\"id\")?t.id:y(t)}catch(e){return console.warn(\"[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\\nhttps://vue-select.org/api/props.html#getoptionkey\",t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,n){return(e||\"\").toLowerCase().indexOf(n.toLowerCase())>-1}},filter:{type:Function,default:function(t,e){var n=this;return t.filter((function(t){var o=n.getOptionLabel(t);return\"number\"==typeof o&&(o=o.toString()),n.filterBy(t,o,e)}))}},createOption:{type:Function,default:function(t){return\"object\"===r()(this.optionList[0])?l()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return[\"function\",\"boolean\"].includes(r()(t))}},clearSearchOnBlur:{type:Function,default:function(t){var e=t.clearSearchOnSelect,n=t.multiple;return e&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:\"auto\"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:\"[type=search]\"},mapKeydown:{type:Function,default:function(t,e){return t}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(t,e,n){var o=n.width,i=n.top,s=n.left;t.style.top=i,t.style.left=s,t.style.width=o}}},data:function(){return{uid:g(),search:\"\",open:!1,isComposing:!1,pushedTags:[],_value:[]}},watch:{options:function(t,e){var n=this;!this.taggable&&(\"function\"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(t,e,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)},multiple:function(){this.clearSelection()},open:function(t){this.$emit(t?\"open\":\"close\")}},created:function(){this.mutableLoading=this.loading,void 0!==this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value),this.$on(\"option:created\",this.pushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(t){return e.findOptionFromReducedValue(t)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.$emit(\"option:selecting\",t),this.isOptionSelected(t)||(this.taggable&&!this.optionExists(t)&&this.$emit(\"option:created\",t),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit(\"option:selected\",t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.$emit(\"option:deselecting\",t),this.updateValue(this.selectedValue.filter((function(n){return!e.optionComparator(n,t)}))),this.$emit(\"option:deselected\",t)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search=\"\")},updateValue:function(t){var e=this;void 0===this.value&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map((function(t){return e.reduce(t)})):this.reduce(t)),this.$emit(\"input\",t)},toggleDropdown:function(t){var e=t.target!==this.searchEl;e&&t.preventDefault();var n=[].concat(i()(this.$refs.deselectButtons||[]),i()([this.$refs.clearButton]||!1));void 0===this.searchEl||n.filter(Boolean).some((function(e){return e.contains(t.target)||e===t.target}))?t.preventDefault():this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(n){return e.optionComparator(n,t)}))},optionComparator:function(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue:function(t){var e=this,n=[].concat(i()(this.options),i()(this.pushedTags)).filter((function(n){return JSON.stringify(e.reduce(n))===JSON.stringify(t)}));return 1===n.length?n[0]:n.find((function(t){return e.optionComparator(t,e.$data._value)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit(\"search:blur\")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var t=null;this.multiple&&(t=i()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(n){return e.optionComparator(n,t)}))},normalizeOptionForSlot:function(t){return\"object\"===r()(t)?t:l()({},this.label,t)},pushTag:function(t){this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search=\"\":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var t=this.clearSearchOnSelect,e=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=\"\"),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit(\"search:focus\")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,n=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},o={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(t){return o[t]=n}));var i=this.mapKeydown(o,this);if(\"function\"==typeof i[t.keyCode])return i[t.keyCode](t)}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty(\"reduce\")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this,e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:m({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,\"aria-autocomplete\":\"list\",\"aria-labelledby\":\"vs\".concat(this.uid,\"__combobox\"),\"aria-controls\":\"vs\".concat(this.uid,\"__listbox\"),ref:\"search\",type:\"search\",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{\"aria-activedescendant\":\"vs\".concat(this.uid,\"__option-\").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.loading,searching:this.searching},openIndicator:{attributes:{ref:\"openIndicator\",role:\"presentation\",class:\"vs__open-indicator\"}},listHeader:e,listFooter:e,header:m({},e,{deselect:this.deselect}),footer:m({},e,{deselect:this.deselect})}},childComponents:function(){return m({},d,{},this.components)},stateClasses:function(){return{\"vs--open\":this.dropdownOpen,\"vs--single\":!this.multiple,\"vs--searching\":this.searching&&!this.noDrop,\"vs--searchable\":this.searchable&&!this.noDrop,\"vs--unsearchable\":!this.searchable,\"vs--loading\":this.mutableLoading,\"vs--disabled\":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return!this.noDrop&&(this.open&&!this.mutableLoading)},searchPlaceholder:function(){if(this.isValueEmpty&&this.placeholder)return this.placeholder},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||e.unshift(n)}return e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}}},O=(n(7),h(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"v-select\",class:t.stateClasses,attrs:{dir:t.dir}},[t._t(\"header\",null,null,t.scope.header),t._v(\" \"),n(\"div\",{ref:\"toggle\",staticClass:\"vs__dropdown-toggle\",attrs:{id:\"vs\"+t.uid+\"__combobox\",role:\"combobox\",\"aria-expanded\":t.dropdownOpen.toString(),\"aria-owns\":\"vs\"+t.uid+\"__listbox\",\"aria-label\":\"Search for option\"},on:{mousedown:function(e){return t.toggleDropdown(e)}}},[n(\"div\",{ref:\"selectedOptions\",staticClass:\"vs__selected-options\"},[t._l(t.selectedValue,(function(e){return t._t(\"selected-option-container\",[n(\"span\",{key:t.getOptionKey(e),staticClass:\"vs__selected\"},[t._t(\"selected-option\",[t._v(\"\\n            \"+t._s(t.getOptionLabel(e))+\"\\n          \")],null,t.normalizeOptionForSlot(e)),t._v(\" \"),t.multiple?n(\"button\",{ref:\"deselectButtons\",refInFor:!0,staticClass:\"vs__deselect\",attrs:{disabled:t.disabled,type:\"button\",title:\"Deselect \"+t.getOptionLabel(e),\"aria-label\":\"Deselect \"+t.getOptionLabel(e)},on:{click:function(n){return t.deselect(e)}}},[n(t.childComponents.Deselect,{tag:\"component\"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(\" \"),t._t(\"search\",[n(\"input\",t._g(t._b({staticClass:\"vs__search\"},\"input\",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(\" \"),n(\"div\",{ref:\"actions\",staticClass:\"vs__actions\"},[n(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showClearButton,expression:\"showClearButton\"}],ref:\"clearButton\",staticClass:\"vs__clear\",attrs:{disabled:t.disabled,type:\"button\",title:\"Clear Selected\",\"aria-label\":\"Clear Selected\"},on:{click:t.clearSelection}},[n(t.childComponents.Deselect,{tag:\"component\"})],1),t._v(\" \"),t._t(\"open-indicator\",[t.noDrop?t._e():n(t.childComponents.OpenIndicator,t._b({tag:\"component\"},\"component\",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(\" \"),t._t(\"spinner\",[n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.mutableLoading,expression:\"mutableLoading\"}],staticClass:\"vs__spinner\"},[t._v(\"Loading...\")])],null,t.scope.spinner)],2)]),t._v(\" \"),n(\"transition\",{attrs:{name:t.transition}},[t.dropdownOpen?n(\"ul\",{directives:[{name:\"append-to-body\",rawName:\"v-append-to-body\"}],key:\"vs\"+t.uid+\"__listbox\",ref:\"dropdownMenu\",staticClass:\"vs__dropdown-menu\",attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\",tabindex:\"-1\"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._t(\"list-header\",null,null,t.scope.listHeader),t._v(\" \"),t._l(t.filteredOptions,(function(e,o){return n(\"li\",{key:t.getOptionKey(e),staticClass:\"vs__dropdown-option\",class:{\"vs__dropdown-option--selected\":t.isOptionSelected(e),\"vs__dropdown-option--highlight\":o===t.typeAheadPointer,\"vs__dropdown-option--disabled\":!t.selectable(e)},attrs:{role:\"option\",id:\"vs\"+t.uid+\"__option-\"+o,\"aria-selected\":o===t.typeAheadPointer||null},on:{mouseover:function(n){t.selectable(e)&&(t.typeAheadPointer=o)},mousedown:function(n){n.preventDefault(),n.stopPropagation(),t.selectable(e)&&t.select(e)}}},[t._t(\"option\",[t._v(\"\\n          \"+t._s(t.getOptionLabel(e))+\"\\n        \")],null,t.normalizeOptionForSlot(e))],2)})),t._v(\" \"),0===t.filteredOptions.length?n(\"li\",{staticClass:\"vs__no-options\"},[t._t(\"no-options\",[t._v(\"Sorry, no matching options.\")],null,t.scope.noOptions)],2):t._e(),t._v(\" \"),t._t(\"list-footer\",null,null,t.scope.listFooter)],2):n(\"ul\",{staticStyle:{display:\"none\",visibility:\"hidden\"},attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\"}})]),t._v(\" \"),t._t(\"footer\",null,null,t.scope.footer)],2)}),[],!1,null,null,null).exports),w={ajax:p,pointer:u,pointerScroll:c};n.d(e,\"VueSelect\",(function(){return O})),n.d(e,\"mixins\",(function(){return w}));e.default=O}])}));\n//# sourceMappingURL=vue-select.js.map","export const HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport const defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: (err) => typeof console !== \"undefined\" && console.warn(err),\n    getWeek: (givenDate) => {\n        const date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export const english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: (nth) => {\n        const s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export const pad = (number, length = 2) => `000${number}`.slice(length * -1);\nexport const int = (bool) => (bool === true ? 1 : 0);\nexport function debounce(fn, wait) {\n    let t;\n    return function () {\n        clearTimeout(t);\n        t = setTimeout(() => fn.apply(this, arguments), wait);\n    };\n}\nexport const arrayify = (obj) => obj instanceof Array ? obj : [obj];\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    const e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    const wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (const key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            const path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nconst doNothing = () => undefined;\nexport const monthToStr = (monthNumber, shorthand, locale) => locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\nexport const revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    H: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: (dateObj, amPM, locale) => {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: (_, unixSeconds) => new Date(parseFloat(unixSeconds) * 1000),\n    W: function (dateObj, weekNum, locale) {\n        const weekNumber = parseInt(weekNum);\n        const date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: (dateObj, year) => {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: (_, ISODate) => new Date(ISODate),\n    d: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    i: (dateObj, minutes) => {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: (_, unixMillSeconds) => new Date(parseFloat(unixMillSeconds)),\n    w: doNothing,\n    y: (dateObj, year) => {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport const tokenRegex = {\n    D: \"(\\\\w+)\",\n    F: \"(\\\\w+)\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"(\\\\w+)\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"(\\\\w+)\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport const formats = {\n    Z: (date) => date.toISOString(),\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: (date) => pad(date.getHours()),\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: (date, locale) => locale.amPM[int(date.getHours() > 11)],\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: (date) => pad(date.getSeconds()),\n    U: (date) => date.getTime() / 1000,\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: (date) => pad(date.getFullYear(), 4),\n    d: (date) => pad(date.getDate()),\n    h: (date) => (date.getHours() % 12 ? date.getHours() % 12 : 12),\n    i: (date) => pad(date.getMinutes()),\n    j: (date) => date.getDate(),\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: (date) => pad(date.getMonth() + 1),\n    n: (date) => date.getMonth() + 1,\n    s: (date) => date.getSeconds(),\n    u: (date) => date.getTime(),\n    w: (date) => date.getDay(),\n    y: (date) => String(date.getFullYear()).substring(2),\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport const createDateFormatter = ({ config = defaults, l10n = english, isMobile = false, }) => (dateObj, frmt, overrideLocale) => {\n    const locale = overrideLocale || l10n;\n    if (config.formatDate !== undefined && !isMobile) {\n        return config.formatDate(dateObj, frmt, locale);\n    }\n    return frmt\n        .split(\"\")\n        .map((c, i, arr) => formats[c] && arr[i - 1] !== \"\\\\\"\n        ? formats[c](dateObj, locale, config)\n        : c !== \"\\\\\"\n            ? c\n            : \"\")\n        .join(\"\");\n};\nexport const createDateParser = ({ config = defaults, l10n = english }) => (date, givenFormat, timeless, customLocale) => {\n    if (date !== 0 && !date)\n        return undefined;\n    const locale = customLocale || l10n;\n    let parsedDate;\n    const dateOrig = date;\n    if (date instanceof Date)\n        parsedDate = new Date(date.getTime());\n    else if (typeof date !== \"string\" &&\n        date.toFixed !== undefined)\n        parsedDate = new Date(date);\n    else if (typeof date === \"string\") {\n        const format = givenFormat || (config || defaults).dateFormat;\n        const datestr = String(date).trim();\n        if (datestr === \"today\") {\n            parsedDate = new Date();\n            timeless = true;\n        }\n        else if (/Z$/.test(datestr) ||\n            /GMT$/.test(datestr))\n            parsedDate = new Date(date);\n        else if (config && config.parseDate)\n            parsedDate = config.parseDate(date, format);\n        else {\n            parsedDate =\n                !config || !config.noCalendar\n                    ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                    : new Date(new Date().setHours(0, 0, 0, 0));\n            let matched, ops = [];\n            for (let i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                const token = format[i];\n                const isBackSlash = token === \"\\\\\";\n                const escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                if (tokenRegex[token] && !escaped) {\n                    regexStr += tokenRegex[token];\n                    const match = new RegExp(regexStr).exec(date);\n                    if (match && (matched = true)) {\n                        ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                            fn: revFormat[token],\n                            val: match[++matchIndex],\n                        });\n                    }\n                }\n                else if (!isBackSlash)\n                    regexStr += \".\";\n                ops.forEach(({ fn, val }) => (parsedDate = fn(parsedDate, val, locale) || parsedDate));\n            }\n            parsedDate = matched ? parsedDate : undefined;\n        }\n    }\n    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n        config.errorHandler(new Error(`Invalid date provided: ${dateOrig}`));\n        return undefined;\n    }\n    if (timeless === true)\n        parsedDate.setHours(0, 0, 0, 0);\n    return parsedDate;\n};\nexport function compareDates(date1, date2, timeless = true) {\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport const isBetween = (ts, ts1, ts2) => {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport const duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    let hours = config.defaultHour;\n    let minutes = config.defaultMinute;\n    let seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        const minHour = config.minDate.getHours();\n        const minMinutes = config.minDate.getMinutes();\n        const minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        const maxHr = config.maxDate.getHours();\n        const maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours, minutes, seconds };\n}\n","import { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nconst DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    const self = {\n        config: Object.assign(Object.assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self._createElement = createElement;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth(month = self.currentMonth, yr = self.currentYear) {\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        const config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    const daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            const defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            const defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        const prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        let hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        const limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        const limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (limitMaxHours) {\n            const maxTime = self.config.maxTime !== undefined\n                ? self.config.maxTime\n                : self.config.maxDate;\n            hours = Math.min(hours, maxTime.getHours());\n            if (hours === maxTime.getHours())\n                minutes = Math.min(minutes, maxTime.getMinutes());\n            if (minutes === maxTime.getMinutes())\n                seconds = Math.min(seconds, maxTime.getSeconds());\n        }\n        if (limitMinHours) {\n            const minTime = self.config.minTime !== undefined\n                ? self.config.minTime\n                : self.config.minDate;\n            hours = Math.max(hours, minTime.getHours());\n            if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                minutes = minTime.getMinutes();\n            if (minutes === minTime.getMinutes())\n                seconds = Math.max(seconds, minTime.getSeconds());\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        const date = dateObj || self.latestSelectedDateObj;\n        if (date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        const eventTarget = getEventTarget(event);\n        const year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach((ev) => bind(element, ev, handler, options));\n        if (element instanceof Array)\n            return element.forEach((el) => bind(el, event, handler, options));\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: () => element.removeEventListener(event, handler),\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach((evt) => {\n                Array.prototype.forEach.call(self.element.querySelectorAll(`[data-${evt}]`), (el) => bind(el, \"click\", self[evt]));\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        const debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", (e) => {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(window.document.body, \"keydown\", onKeyDown);\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            const selText = (e) => getEventTarget(e).select();\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", () => self.secondElement && self.secondElement.select());\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", (e) => {\n                    updateTime(e);\n                    triggerChange();\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        const jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        const oldYear = self.currentYear;\n        const oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        const eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        const target = e && getEventTarget(e);\n        const input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        const event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        const fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                const { weekWrapper, weekNumbers } = buildWeeks();\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        const customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                const wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, dayNumber, i) {\n        const dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            dayNumber % 7 === 1) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        const startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (let m = startMonth; m != endMonth; m += delta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = delta > 0 ? 0 : month.children.length - 1;\n            const endIndex = delta > 0 ? month.children.length : -1;\n            for (let i = startIndex; i != endIndex; i += delta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        const givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        const loopDelta = delta > 0 ? 1 : -1;\n        for (let m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            const numMonthDays = month.children.length;\n            for (let i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        const dayFocused = isInView(document.activeElement || document.body);\n        const startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? document.activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        const firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        const prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        const daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        let dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (let dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        const dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        const frag = document.createDocumentFragment();\n        for (let i = 0; i < self.config.showMonths; i++) {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        const shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (let i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            const month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        const container = createElement(\"div\", \"flatpickr-month\");\n        const monthNavFragment = window.document.createDocumentFragment();\n        let monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", (e) => {\n                const target = getEventTarget(e);\n                const selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        const yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        const yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        const currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container,\n            yearElement,\n            monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (let m = self.config.showMonths; m--;) {\n            const month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: () => self.__hidePrevMonthArrow,\n            set(bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: () => self.__hideNextMonthArrow,\n            set(bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        const defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        const separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        const hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        const minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            const secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (let i = self.config.showMonths; i--;) {\n            const container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        const firstDayOfWeek = self.l10n.firstDayOfWeek;\n        let weekdays = [...self.l10n.weekdays.shorthand];\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = [\n                ...weekdays.splice(firstDayOfWeek, weekdays.length),\n                ...weekdays.splice(0, firstDayOfWeek),\n            ];\n        }\n        for (let i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = `\n      <span class='flatpickr-weekday'>\n        ${weekdays.join(\"</span><span class='flatpickr-weekday'>\")}\n      </span>\n      `;\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        const weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        const weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper,\n            weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset = true) {\n        const delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent = true, toInitial = true) {\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            const { hours, minutes, seconds } = getDefaultHours(self.config);\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (let i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                const wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach((k) => {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\n            return true;\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            const eventTarget = getEventTarget(e);\n            const isCalendarElement = isCalendarElem(eventTarget);\n            const isInput = eventTarget === self.input ||\n                eventTarget === self.altInput ||\n                self.element.contains(eventTarget) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            const lostFocus = e.type === \"blur\"\n                ? isInput &&\n                    e.relatedTarget &&\n                    !isCalendarElem(e.relatedTarget)\n                : !isInput &&\n                    !isCalendarElement &&\n                    !isCalendarElem(e.relatedTarget);\n            const isIgnored = !self.config.ignoredFocusElements.some((elem) => elem.contains(eventTarget));\n            if (lostFocus && isIgnored) {\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1) {\n                    self.clear(false);\n                    self.redraw();\n                }\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        const newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless = true) {\n        var _a;\n        const dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        const bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (let i = 0, d; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                const parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        const isInput = e.target === self._input;\n        if (isInput &&\n            (self.selectedDates.length > 0 || self._input.value.length > 0) &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        const eventTarget = getEventTarget(e);\n        const isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        const allowInput = self.config.allowInput;\n        const allowKeydown = self.isOpen && (!allowInput || !isInput);\n        const allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            const isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (document.activeElement && isInView(document.activeElement)))) {\n                            const delta = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    const delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        const elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter((x) => x);\n                        const i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            const target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem) {\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(\"flatpickr-day\") ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        const hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        let containsDisabled = false;\n        let minRange = 0, maxRange = 0;\n        for (let t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        for (let m = 0; m < self.config.showMonths; m++) {\n            const month = self.daysContainer.children[m];\n            for (let i = 0, l = month.children.length; i < l; i++) {\n                const dayElem = month.children[i], date = dayElem.dateObj;\n                const timestamp = date.getTime();\n                const outOfRange = (minRange > 0 && timestamp < minRange) ||\n                    (maxRange > 0 && timestamp > maxRange);\n                if (outOfRange) {\n                    dayElem.classList.add(\"notAllowed\");\n                    [\"inRange\", \"startRange\", \"endRange\"].forEach((c) => {\n                        dayElem.classList.remove(c);\n                    });\n                    continue;\n                }\n                else if (containsDisabled && !outOfRange)\n                    continue;\n                [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach((c) => {\n                    dayElem.classList.remove(c);\n                });\n                if (elem !== undefined) {\n                    elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                        ? \"startRange\"\n                        : \"endRange\");\n                    if (initialDate < hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"startRange\");\n                    else if (initialDate > hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"endRange\");\n                    if (timestamp >= minRange &&\n                        (maxRange === 0 || timestamp <= maxRange) &&\n                        isBetween(timestamp, initialDate, hoverDate))\n                        dayElem.classList.add(\"inRange\");\n                }\n            }\n        }\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement = self._positionElement) {\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                const eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        const wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(() => self.hourElement.select(), 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return (date) => {\n            const dateObj = (self.config[`_${type}Date`] = self.parseDate(date, self.config.dateFormat));\n            const inverseDateObj = self.config[`_${type === \"min\" ? \"max\" : \"min\"}Date`];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter((d) => isEnabled(d));\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        const boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        const userConfig = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        const formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: () => self.config._enable,\n            set: (dates) => {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: () => self.config._disable,\n            set: (dates) => {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        const timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            const defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            const defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + ` h:i${userConfig.enableSeconds ? \":S\" : \"\"} K`;\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: () => self.config._minDate,\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: () => self.config._maxDate,\n            set: minMaxDateSetter(\"max\"),\n        });\n        const minMaxTimeSetter = (type) => (val) => {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: () => self.config._minTime,\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: () => self.config._maxTime,\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (let i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter((hook) => self.config[hook] !== undefined).forEach((hook) => {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (let i = 0; i < self.config.plugins.length; i++) {\n            const pluginConf = self.config.plugins[i](self) || {};\n            for (const key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(`flatpickr: invalid locale ${self.config.locale}`));\n        self.l10n = Object.assign(Object.assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.K = `(${self.l10n.amPM[0]}|${self.l10n.amPM[1]}|${self.l10n.amPM[0].toLowerCase()}|${self.l10n.amPM[1].toLowerCase()})`;\n        const userConfig = Object.assign(Object.assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        const positionElement = customPositionElement || self._positionElement;\n        const calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, ((acc, child) => acc + child.offsetHeight), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        const top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        let left = window.pageXOffset + inputBounds.left;\n        let isCenter = false;\n        let isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        const right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        const rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        const centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = `${top}px`;\n        if (!rightMost) {\n            self.calendarContainer.style.left = `${left}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = `${right}px`;\n        }\n        else {\n            const doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            const bodyWidth = window.document.body.offsetWidth;\n            const centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            const centerBefore = \".flatpickr-calendar.centerMost:before\";\n            const centerAfter = \".flatpickr-calendar.centerMost:after\";\n            const centerIndex = doc.cssRules.length;\n            const centerStyle = `{left:${inputBounds.left}px;right:auto;}`;\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(`${centerBefore},${centerAfter}${centerStyle}`, centerIndex);\n            self.calendarContainer.style.left = `${centerLeft}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        let editableSheet = null;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            const sheet = document.styleSheets[i];\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const isSelectable = (day) => day.classList &&\n            day.classList.contains(\"flatpickr-day\") &&\n            !day.classList.contains(\"flatpickr-disabled\") &&\n            !day.classList.contains(\"notAllowed\");\n        const t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        const target = t;\n        const selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        const shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            const selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            const isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            const single = self.config.mode === \"single\" && !self.config.enableTime;\n            const range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    const CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        clickOpens: [\n            () => {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (const key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach((x) => x());\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach((x) => x());\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        let dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map((d) => self.parseDate(d, format));\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(inputDate)}`));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter((d) => d instanceof Date && isEnabled(d, false)));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n    }\n    function setDate(date, triggerChange = false, format = self.config.dateFormat) {\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map((rule) => {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter((x) => x);\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        const preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        const inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", (e) => {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        const hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (let i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        const e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (let i = 0; i < self.selectedDates.length; i++) {\n            if (compareDates(self.selectedDates[i], date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach((yearElement, i) => {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(format) {\n        return self.selectedDates\n            .map((dObj) => self.formatDate(dObj, format))\n            .filter((d, i, arr) => self.config.mode !== \"range\" ||\n            self.config.enableTime ||\n            arr.indexOf(d) === i)\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange = true) {\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        const eventTarget = getEventTarget(e);\n        const isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        const isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        const isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        const min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        let newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            const isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    const nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter((x) => x instanceof HTMLElement);\n    const instances = [];\n    for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: Object.assign({}, English),\n    default: Object.assign({}, English),\n};\nflatpickr.localize = (l10n) => {\n    flatpickr.l10ns.default = Object.assign(Object.assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = (config) => {\n    flatpickr.defaultConfig = Object.assign(Object.assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target, ...args) {\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        for (const source of args) {\n            if (source) {\n                Object.keys(source).forEach((key) => (target[key] = source[key]));\n            }\n        }\n        return target;\n    };\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-calendar overflow-hidden border\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col position-relative\"},[_c('div',{staticClass:\"card mb-0\",staticStyle:{\"max-width\":\"1200px\"}},[_c('div',{staticClass:\"card-header text-white bg-primary mb-3\"},[_vm._v(\"Give your Availability Timings\")]),_c('div',{staticClass:\"card-body pb-0\"},[_c('full-calendar',{ref:\"refCalendar\",staticClass:\"full-calendar\",attrs:{\"options\":_vm.calendarOptions}})],1)])]),_c('div',{staticClass:\"body-content-overlay\",class:{'show': _vm.isCalendarOverlaySidebarActive},on:{\"click\":function($event){_vm.isCalendarOverlaySidebarActive = false}}}),_c('calendar-event-handler',{attrs:{\"event\":_vm.event,\"clear-event-data\":_vm.clearEventData},on:{\"remove-event\":_vm.removeEvent,\"add-event\":_vm.addEvent,\"update-event\":_vm.updateEvent},model:{value:(_vm.isEventHandlerSidebarActive),callback:function ($$v) {_vm.isEventHandlerSidebarActive=$$v},expression:\"isEventHandlerSidebarActive\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-sidebar',{attrs:{\"id\":\"sidebar-add-new-event\",\"sidebar-class\":\"sidebar-lg\",\"visible\":_vm.isEventHandlerSidebarActive,\"bg-variant\":\"white\",\"shadow\":\"\",\"backdrop\":\"\",\"no-header\":\"\",\"right\":\"\"},on:{\"change\":function (val) { return _vm.$emit('update:is-event-handler-sidebar-active', val); }},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hide = ref.hide;\nreturn [_c('div',{staticClass:\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update': 'Add')+\" Availability \")]),_c('div',[(_vm.eventLocal.id)?_c('feather-icon',{staticClass:\"cursor-pointer\",attrs:{\"icon\":\"TrashIcon\"},on:{\"click\":function($event){_vm.$emit('remove-event'); hide();}}}):_vm._e(),_c('feather-icon',{staticClass:\"ml-1 cursor-pointer\",attrs:{\"icon\":\"XIcon\",\"size\":\"16\"},on:{\"click\":hide}})],1)]),_c('validation-observer',{ref:\"refFormObserver\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{staticClass:\"p-2\",on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.onSubmit)},\"reset\":function($event){$event.preventDefault();return _vm.resetForm.apply(null, arguments)}}},[_c('validation-provider',{attrs:{\"name\":\"Start Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Start Date\",\"label-for\":\"start-date\"}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{enableTime: false, dateFormat: 'd-m-Y'}},model:{value:(_vm.eventLocal.startDate),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"startDate\", $$v)},expression:\"eventLocal.startDate\"}}),_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"End Date\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"End Date\",\"label-for\":\"end-date\"}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":{enableTime: false, dateFormat: 'd-m-Y'}},model:{value:(_vm.eventLocal.endDate),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"endDate\", $$v)},expression:\"eventLocal.endDate\"}}),_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"Start Time\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Start Time\",\"label-for\":\"start-time\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":_vm.config.timePicker},model:{value:(_vm.eventLocal.startTime),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"startTime\", $$v)},expression:\"eventLocal.startTime\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('validation-provider',{attrs:{\"name\":\"End Time\",\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"End Time\",\"label-for\":\"end-time\",\"state\":_vm.getValidationState(validationContext)}},[_c('flat-pickr',{staticClass:\"form-control\",attrs:{\"config\":_vm.config.timePicker},model:{value:(_vm.eventLocal.endTime),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"endTime\", $$v)},expression:\"eventLocal.endTime\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),(!_vm.eventLocal.id)?_c('validation-provider',{attrs:{\"name\":\"days\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Days to Exclude\",\"label-for\":\"days\",\"state\":_vm.getValidationState(validationContext)}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"multiple\":\"\",\"options\":_vm.weekDays,\"index\":\"id\",\"reduce\":function (day_name){ return day_name.id; },\"label\":\"day_name\"},model:{value:(_vm.eventLocal.selectedDays),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"selectedDays\", $$v)},expression:\"eventLocal.selectedDays\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}):_vm._e(),_c('validation-provider',{attrs:{\"name\":\"frequency\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Frequency Of Slot\",\"label-for\":\"frequency\",\"state\":_vm.getValidationState(validationContext)}},[_c('v-select',{attrs:{\"dir\":_vm.$store.state.appConfig.isRTL ? 'rtl' : 'ltr',\"options\":_vm.frequencyLists,\"reduce\":function (val) { return val.value; },\"clearable\":true},model:{value:(_vm.eventLocal.frequency),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"frequency\", $$v)},expression:\"eventLocal.frequency\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}),_c('b-form-group',[_c('b-form-checkbox',{attrs:{\"name\":\"check-button\",\"value\":1,\"unchecked-value\":0,\"switch\":\"\",\"inline\":\"\"},model:{value:(_vm.eventLocal.group),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"group\", $$v)},expression:\"eventLocal.group\"}},[_vm._v(\" Group \")])],1),(_vm.eventLocal.group)?_c('validation-provider',{attrs:{\"name\":\"days\"},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":\"Maximum Attendee\",\"label-for\":\"group-members\",\"state\":_vm.getValidationState(validationContext)}},[_c('b-form-input',{class:_vm.errors.name ? 'is-invalid' : '',attrs:{\"id\":\"group-members\",\"state\":_vm.getValidationState(\n                            validationContext\n                        ),\"type\":\"number\",\"min\":0,\"area-invalid\":_vm.errors.name ? true : false},model:{value:(_vm.eventLocal.attendee),callback:function ($$v) {_vm.$set(_vm.eventLocal, \"attendee\", $$v)},expression:\"eventLocal.attendee\"}}),(_vm.errors.name)?_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(_vm.errors.name[0])+\" \")]):_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.getValidationState(validationContext)}},[_vm._v(\" \"+_vm._s(validationContext.errors[0])+\" \")])],1)]}}],null,true)}):_vm._e(),_c('div',{staticClass:\"d-flex mt-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(255, 255, 255, 0.15)'),expression:\"'rgba(255, 255, 255, 0.15)'\",modifiers:{\"400\":true}}],staticClass:\"mr-2\",attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.eventLocal.id ? 'Update' : 'Add ')+\" \")])],1)],1)]}}],null,true)})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-sidebar\r\n      id=\"sidebar-add-new-event\"\r\n      sidebar-class=\"sidebar-lg\"\r\n      :visible=\"isEventHandlerSidebarActive\"\r\n      bg-variant=\"white\"\r\n      shadow\r\n      backdrop\r\n      no-header\r\n      right\r\n      @change=\"(val) => $emit('update:is-event-handler-sidebar-active', val)\"\r\n    >\r\n      <template #default=\"{ hide }\">\r\n        <!-- Header -->\r\n        <div class=\"d-flex justify-content-between align-items-center content-sidebar-header px-2 py-1\">\r\n          <h5 class=\"mb-0\">\r\n            {{ eventLocal.id ? 'Update': 'Add' }} Availability\r\n          </h5>\r\n          <div>\r\n            <feather-icon\r\n              v-if=\"eventLocal.id\"\r\n              icon=\"TrashIcon\"\r\n              class=\"cursor-pointer\"\r\n              @click=\"$emit('remove-event'); hide();\"\r\n            />\r\n            <feather-icon\r\n              class=\"ml-1 cursor-pointer\"\r\n              icon=\"XIcon\"\r\n              size=\"16\"\r\n              @click=\"hide\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Body -->\r\n        <validation-observer\r\n          #default=\"{ handleSubmit }\"\r\n          ref=\"refFormObserver\"\r\n        >\r\n          <!-- Form -->\r\n          <b-form\r\n            class=\"p-2\"\r\n            @submit.prevent=\"handleSubmit(onSubmit)\"\r\n            @reset.prevent=\"resetForm\"\r\n          >\r\n          <!-- Start Date -->\r\n          <validation-provider\r\n            #default=\"validationContext\"\r\n            name=\"Start Date\"\r\n            rules=\"required\"\r\n          >\r\n            <b-form-group\r\n              label=\"Start Date\"\r\n              label-for=\"start-date\"\r\n            >\r\n              <flat-pickr\r\n                v-model=\"eventLocal.startDate\"\r\n                class=\"form-control\"\r\n                :config=\"{enableTime: false, dateFormat: 'd-m-Y'}\"\r\n              />\r\n\r\n\r\n              <b-form-invalid-feedback>\r\n                {{ validationContext.errors[0] }}\r\n              </b-form-invalid-feedback>\r\n            </b-form-group>\r\n          </validation-provider>\r\n\r\n          <!-- End Date -->\r\n          <validation-provider\r\n            #default=\"validationContext\"\r\n            name=\"End Date\"\r\n            rules=\"required\"\r\n          >\r\n            <b-form-group\r\n              label=\"End Date\"\r\n              label-for=\"end-date\"\r\n            >\r\n              <flat-pickr\r\n                v-model=\"eventLocal.endDate\"\r\n                class=\"form-control\"\r\n                :config=\"{enableTime: false, dateFormat: 'd-m-Y'}\"\r\n              />\r\n              <b-form-invalid-feedback>\r\n                {{ validationContext.errors[0] }}\r\n              </b-form-invalid-feedback>\r\n            </b-form-group>\r\n          </validation-provider>\r\n\r\n            <!-- Start Time -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"Start Time\"\r\n              rules=\"required\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"Start Time\"\r\n                label-for=\"start-time\"\r\n                :state=\"getValidationState(validationContext)\"\r\n              >\r\n                <flat-pickr\r\n                  v-model=\"eventLocal.startTime\"\r\n                  class=\"form-control\"\r\n                   :config=\"config.timePicker\"\r\n                />\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- End Time -->\r\n            <validation-provider\r\n              #default=\"validationContext\"\r\n              name=\"End Time\"\r\n              rules=\"required\"\r\n            >\r\n\r\n              <b-form-group\r\n                label=\"End Time\"\r\n                label-for=\"end-time\"\r\n                :state=\"getValidationState(validationContext)\"\r\n              >\r\n                <flat-pickr\r\n                  v-model=\"eventLocal.endTime\"\r\n                  class=\"form-control\"\r\n                  :config=\"config.timePicker\"\r\n                />\r\n                <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                  {{ validationContext.errors[0] }}\r\n                </b-form-invalid-feedback>\r\n              </b-form-group>\r\n            </validation-provider>\r\n\r\n            <!-- All Day -->\r\n            <!-- <b-form-group>\r\n              <b-form-checkbox\r\n                v-model=\"eventLocal.allDay\"\r\n                name=\"check-button\"\r\n                switch\r\n                inline\r\n              >\r\n                Apply to All Selected Day\r\n              </b-form-checkbox>\r\n            </b-form-group> -->\r\n\r\n            <!-- Select Day -->\r\n            <validation-provider\r\n                #default=\"validationContext\"\r\n                name=\"days\"\r\n                v-if=\"!eventLocal.id\"\r\n            >\r\n                <b-form-group\r\n                    label=\"Days to Exclude\"\r\n                    label-for=\"days\"\r\n                    :state=\"getValidationState(validationContext)\"\r\n                >\r\n                <v-select\r\n                  v-model=\"eventLocal.selectedDays\"\r\n                  :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\r\n                  multiple\r\n                  :options=\"weekDays\"\r\n                  index=\"id\"\r\n                  :reduce=\"day_name=> day_name.id\"\r\n                  label=\"day_name\"\r\n\r\n                />\r\n                    <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                        {{ validationContext.errors[0] }}\r\n                    </b-form-invalid-feedback>\r\n                </b-form-group>\r\n            </validation-provider>\r\n\r\n              <validation-provider\r\n                  #default=\"validationContext\"\r\n                  name=\"frequency\"\r\n              >\r\n                  <b-form-group\r\n                      label=\"Frequency Of Slot\"\r\n                      label-for=\"frequency\"\r\n                      :state=\"getValidationState(validationContext)\"\r\n                  >\r\n                      <v-select\r\n                          v-model=\"eventLocal.frequency\"\r\n                          :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\r\n                          :options=\"frequencyLists\"\r\n                          :reduce=\"val => val.value\"\r\n                          :clearable=\"true\"\r\n                      />\r\n                      <b-form-invalid-feedback :state=\"getValidationState(validationContext)\">\r\n                          {{ validationContext.errors[0] }}\r\n                      </b-form-invalid-feedback>\r\n                  </b-form-group>\r\n              </validation-provider>\r\n            <b-form-group>\r\n              <b-form-checkbox\r\n                v-model=\"eventLocal.group\"\r\n                name=\"check-button\"\r\n                :value=\"1\"\r\n                :unchecked-value=\"0\"\r\n                switch\r\n                inline\r\n              >\r\n                Group\r\n              </b-form-checkbox>\r\n            </b-form-group>\r\n\r\n               <validation-provider\r\n                #default=\"validationContext\"\r\n                name=\"days\"\r\n                v-if=\"eventLocal.group\"\r\n            >\r\n                <b-form-group\r\n                    label=\"Maximum Attendee\"\r\n                    label-for=\"group-members\"\r\n                    :state=\"getValidationState(validationContext)\"\r\n                >\r\n                  <b-form-input\r\n                      id=\"group-members\"\r\n                      :state=\"\r\n                          getValidationState(\r\n                              validationContext\r\n                          )\r\n                      \"\r\n                      type=\"number\"\r\n                      :min=\"0\"\r\n                      v-model=\"eventLocal.attendee\"\r\n                      :class=\"errors.name ? 'is-invalid' : ''\"\r\n                      :area-invalid=\"errors.name ? true : false\"\r\n                  />\r\n                    <b-form-invalid-feedback v-if=\"errors.name\">\r\n                      {{errors.name[0] }}\r\n                    </b-form-invalid-feedback>\r\n                    <b-form-invalid-feedback v-else :state=\"getValidationState(validationContext)\">\r\n                        {{ validationContext.errors[0] }}\r\n                    </b-form-invalid-feedback>\r\n                </b-form-group>\r\n            </validation-provider>\r\n\r\n\r\n            <!-- Form Actions -->\r\n            <div class=\"d-flex mt-2\">\r\n              <b-button\r\n                v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\r\n                variant=\"primary\"\r\n                class=\"mr-2\"\r\n                type=\"submit\"\r\n              >\r\n                {{ eventLocal.id ? 'Update' : 'Add ' }}\r\n              </b-button>\r\n              <!-- <b-button\r\n                v-ripple.400=\"'rgba(186, 191, 199, 0.15)'\"\r\n                type=\"reset\"\r\n                variant=\"outline-secondary\"\r\n              >\r\n                Reset\r\n              </b-button> -->\r\n            </div>\r\n          </b-form>\r\n        </validation-observer>\r\n      </template>\r\n    </b-sidebar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BSidebar, BForm, BFormGroup, BFormInput, BFormCheckbox, BAvatar, BFormTextarea, BButton, BFormInvalidFeedback,\r\n} from 'bootstrap-vue'\r\nimport vSelect from 'vue-select'\r\nimport flatPickr from 'vue-flatpickr-component'\r\nimport Ripple from 'vue-ripple-directive'\r\nimport { ValidationProvider, ValidationObserver } from 'vee-validate'\r\nimport { required, email, url } from '@validations'\r\nimport formValidation from '@core/comp-functions/forms/form-validation'\r\nimport { ref, toRefs } from '@vue/composition-api'\r\nimport useCalendarEventHandler from './useCalendarEventHandler'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  components: {\r\n    BButton,\r\n    BSidebar,\r\n    BForm,\r\n    BFormGroup,\r\n    BFormInput,\r\n    BFormCheckbox,\r\n    BFormTextarea,\r\n    BAvatar,\r\n    vSelect,\r\n    flatPickr,\r\n    ValidationProvider,\r\n    BFormInvalidFeedback,\r\n    ValidationObserver,\r\n  },\r\n  directives: {\r\n    Ripple,\r\n  },\r\n  model: {\r\n    prop: 'isEventHandlerSidebarActive',\r\n    event: 'update:is-event-handler-sidebar-active',\r\n  },\r\n  props: {\r\n    isEventHandlerSidebarActive: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    event: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    clearEventData: {\r\n      type: Function,\r\n      required: true,\r\n    },\r\n    selectedDay : {\r\n        default : function() {\r\n        return moment().format('dddd');\r\n        }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n        errors:{},\r\n        required,\r\n        email,\r\n        url,\r\n        selectedDays: [\r\n          {id:6, day_name: 'Saturday' },\r\n          {id:7, day_name: 'Sunday' },\r\n        ],\r\n        weekDays: [\r\n          { id:1, day_name: 'Monday' },\r\n          { id:2, day_name: 'Tuesday' },\r\n          { id:3, day_name: 'Wednesday' },\r\n          { id:4, day_name: 'Thursday' },\r\n          { id:5, day_name: 'Friday' },\r\n          { id:6, day_name: 'Saturday' },\r\n          { id:7, day_name: 'Sunday' },\r\n        ],\r\n        config: {\r\n            timePicker: {\r\n                wrap: true,\r\n                enableTime: true,\r\n                enableSeconds: true,\r\n                noCalendar: true,\r\n            },\r\n        },\r\n        frequencyLists: [\r\n          { value: 5, 'label': '5 Min'},\r\n          { value: 10, 'label': '10 Min'},\r\n          { value: 15, 'label': '15 Min'},\r\n          { value: 20, 'label': '20 Min'},\r\n          { value: 25, 'label': '25 Min'},\r\n          { value: 30, 'label': '30 Min'},\r\n          { value: 35, 'label': '35 Min'},\r\n          { value: 40, 'label': '40 Min'},\r\n          { value: 45, 'label': '45 Min'},\r\n          { value: 50, 'label': '50 Min'},\r\n          { value: 55, 'label': '55 Min'},\r\n          { value: 60, 'label': '60 Min'},\r\n        ]\r\n    }\r\n  },\r\n  setup(props, { emit }) {\r\n    /*\r\n     ? This is handled quite differently in SFC due to deadlock of `useFormValidation` and this composition function.\r\n     ? If we don't handle it the way it is being handled then either of two composition function used by this SFC get undefined as one of it's argument.\r\n     * The Trick:\r\n\r\n     * We created reactive property `clearFormData` and set to null so we can get `resetEventLocal` from `useCalendarEventHandler` composition function.\r\n     * Once we get `resetEventLocal` function which is required by `useFormValidation` we will pass it to `useFormValidation` and in return we will get `clearForm` function which shall be original value of `clearFormData`.\r\n     * Later we just assign `clearForm` to `clearFormData` and can resolve the deadlock. 😎\r\n\r\n     ? Behind The Scene\r\n     ? When we passed it to `useCalendarEventHandler` for first time it will be null but right after it we are getting correct value (which is `clearForm`) and assigning that correct value.\r\n     ? As `clearFormData` is reactive it is being changed from `null` to corrent value and thanks to reactivity it is also update in `useCalendarEventHandler` composition function and it is getting correct value in second time and can work w/o any issues.\r\n    */\r\n    const clearFormData = ref(null)\r\n\r\n    const {\r\n      eventLocal,\r\n      resetEventLocal,\r\n      calendarOptions,\r\n\r\n      // UI\r\n      onSubmit,\r\n      guestsOptions,\r\n\r\n    } = useCalendarEventHandler(toRefs(props), clearFormData, emit)\r\n\r\n    const {\r\n      refFormObserver,\r\n      getValidationState,\r\n      resetForm,\r\n      clearForm,\r\n    } = formValidation(resetEventLocal, props.clearEventData)\r\n\r\n    clearFormData.value = clearForm\r\n\r\n    return {\r\n      // Add New Event\r\n      eventLocal,\r\n      calendarOptions,\r\n      onSubmit,\r\n      guestsOptions,\r\n\r\n      // Form Validation\r\n      resetForm,\r\n      refFormObserver,\r\n      getValidationState,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@core/scss/vue/libs/vue-select.scss';\r\n@import '@core/scss/vue/libs/vue-flatpicker.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calendarEventHandler.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calendarEventHandler.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./calendarEventHandler.vue?vue&type=template&id=519a23d9&\"\nimport script from \"./calendarEventHandler.vue?vue&type=script&lang=js&\"\nexport * from \"./calendarEventHandler.vue?vue&type=script&lang=js&\"\nimport style0 from \"./calendarEventHandler.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Full Calendar Plugins\r\nimport dayGridPlugin from '@fullcalendar/daygrid'\r\nimport timeGridPlugin from '@fullcalendar/timegrid'\r\nimport listPlugin from '@fullcalendar/list'\r\nimport interactionPlugin from '@fullcalendar/interaction'\r\n\r\n// Notification\r\nimport { useToast } from 'vue-toastification/composition'\r\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\r\n\r\n// eslint-disable-next-line object-curly-newline\r\nimport { ref, computed, watch, onMounted } from '@vue/composition-api'\r\nimport store from '@/store'\r\nimport moment from 'moment'\r\n\r\nexport default function userCalendar() {\r\n    // Use toast\r\n    const toast = useToast()\r\n        // ------------------------------------------------\r\n        // refCalendar\r\n        // ------------------------------------------------\r\n    const refCalendar = ref(null)\r\n\r\n    // ------------------------------------------------\r\n    // calendarApi\r\n    // ------------------------------------------------\r\n    let calendarApi = null\r\n    let userId = null;\r\n\r\n    onMounted(() => {\r\n        calendarApi = refCalendar.value ? refCalendar.value.getApi() : null\r\n    })\r\n\r\n    // ------------------------------------------------\r\n    // calendars\r\n    // ------------------------------------------------\r\n    const calendarsColor = {\r\n        Bookings: 'primary',\r\n        Availability: 'success'\r\n    }\r\n\r\n    // ------------------------------------------------\r\n    // event\r\n    // ------------------------------------------------\r\n    const blankEvent = {\r\n        user_id: null,\r\n        title: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        startTime: '',\r\n        endTime: '',\r\n        allDay: false,\r\n        selectedDays: [6, 7],\r\n        group: 0,\r\n        attendee: 0,\r\n        frequency: 30,\r\n        extendedProps: {\r\n            calendar: 'Availability'\r\n        },\r\n    }\r\n    const event = ref(JSON.parse(JSON.stringify(blankEvent)))\r\n    const clearEventData = () => {\r\n        event.value = JSON.parse(JSON.stringify(blankEvent))\r\n    }\r\n\r\n    const setUser = async(id) => {\r\n        userId = id;\r\n\r\n        calendarApi = refCalendar.value ? await refCalendar.value.getApi() : null;\r\n\r\n        if (calendarApi) {\r\n            refetchEvents();\r\n        }\r\n    }\r\n\r\n    // *===========================================================================---*\r\n    // *--------- Calendar API Function/Utils --------------------------------------------*\r\n    // Template Future Update: We might move this utils function in its own file\r\n    // *===========================================================================---*\r\n\r\n    // ------------------------------------------------\r\n    // (UI) addEventInCalendar\r\n    // ? This is useless because this just add event in calendar and not in our data\r\n    // * If we try to call it on new event then callback & try to toggle from calendar we get two events => One from UI and one from data\r\n    // ------------------------------------------------\r\n    // const addEventInCalendar = eventData => {\r\n    //   toast({\r\n    //     component: ToastificationContent,\r\n    //     position: 'bottom-right',\r\n    //     props: {\r\n    //       title: 'Event Added',\r\n    //       icon: 'CheckIcon',\r\n    //       variant: 'success',\r\n    //     },\r\n    //   })\r\n    //   calendarApi.addEvent(eventData)\r\n    // }\r\n\r\n    // ------------------------------------------------\r\n    // (UI) updateEventInCalendar\r\n    // ------------------------------------------------\r\n    const updateEventInCalendar = (updatedEventData, propsToUpdate, extendedPropsToUpdate) => {\r\n        toast({\r\n            component: ToastificationContent,\r\n            props: {\r\n                title: 'Event Updated',\r\n                icon: 'CheckIcon',\r\n                variant: 'success',\r\n            },\r\n        })\r\n\r\n        refetchEvents();\r\n    }\r\n\r\n\r\n\r\n    // ------------------------------------------------\r\n    // (UI) removeEventInCalendar\r\n    // ------------------------------------------------\r\n    const removeEventInCalendar = eventId => {\r\n        toast({\r\n            component: ToastificationContent,\r\n            props: {\r\n                title: 'Event Removed',\r\n                icon: 'TrashIcon',\r\n                variant: 'danger',\r\n            },\r\n        })\r\n        calendarApi.getEventById(eventId).remove()\r\n    }\r\n\r\n    // ------------------------------------------------\r\n    // grabEventDataFromEventApi\r\n    // ? It will return just event data from fullCalendar's EventApi which is not required for event mutations and other tasks\r\n    // ! You need to update below function as per your extendedProps\r\n    // ------------------------------------------------\r\n    const grabEventDataFromEventApi = async(eventApi) => {\r\n\r\n        const {\r\n            id\r\n        } = eventApi\r\n        //  console.log(eventApi)\r\n\r\n        const { data } = await axios.get(`/availability/${id}`)\r\n        return data;\r\n        return {\r\n            id,\r\n            user_id,\r\n            title,\r\n            startDate,\r\n            endDate,\r\n            startTime,\r\n            endTime,\r\n            group,\r\n            selectedDays,\r\n            extendedProps,\r\n        }\r\n    }\r\n\r\n    // ------------------------------------------------\r\n    // addEvent\r\n    // ------------------------------------------------\r\n    const addEvent = eventData => {\r\n        console.log(\"add Events\");\r\n        store.dispatch('calendar/addEvent', { event: eventData }).then(({ data }) => {\r\n            toast({\r\n                component: ToastificationContent,\r\n                props: {\r\n                    title: data.message,\r\n                    icon: \"BellIcon\",\r\n                    variant: data.success ? \"success\" : \"danger\"\r\n                }\r\n            });\r\n            // eslint-disable-next-line no-use-before-define\r\n            refetchEvents()\r\n        })\r\n    }\r\n\r\n    // ------------------------------------------------\r\n    // updateEvent\r\n    // ------------------------------------------------\r\n    const updateEvent = eventData => {\r\n        console.log(\"Update Events\");\r\n        store.dispatch('calendar/updateEvent', { event: eventData }).then(response => {\r\n            const updatedEvent = response.data.event\r\n\r\n            const propsToUpdate = ['id', 'startTime', 'endTime']\r\n            const extendedPropsToUpdate = ['calendar']\r\n\r\n            updateEventInCalendar(updatedEvent, propsToUpdate, extendedPropsToUpdate)\r\n        })\r\n    }\r\n\r\n    // ------------------------------------------------\r\n    // removeEvent\r\n    // ------------------------------------------------\r\n    const removeEvent = () => {\r\n        const eventId = event.value.id\r\n        store.dispatch('calendar/removeEvent', { id: eventId }).then(() => {\r\n            removeEventInCalendar(eventId)\r\n        })\r\n    }\r\n\r\n    // ------------------------------------------------\r\n    // refetchEvents\r\n    // ------------------------------------------------\r\n    const refetchEvents = () => {\r\n        calendarApi.refetchEvents()\r\n    }\r\n\r\n    // ------------------------------------------------\r\n    // selectedCalendars\r\n    // ------------------------------------------------\r\n    const selectedCalendars = computed(() => store.state.calendar.selectedCalendars)\r\n\r\n    watch(selectedCalendars, () => {\r\n        refetchEvents()\r\n    })\r\n\r\n    // --------------------------------------------------------------------------------------------------\r\n    // AXIOS: fetchEvents\r\n    // * This will be called by fullCalendar to fetch events. Also this can be used to refetch events.\r\n    // --------------------------------------------------------------------------------------------------\r\n    const fetchEvents = (info, successCallback) => {\r\n\r\n        // If there's no info => Don't make useless API call\r\n        if (!info) return\r\n\r\n        // Fetch Events from API endpoint\r\n        store\r\n            .dispatch('calendar/fetchEvents', {\r\n                calendars: selectedCalendars.value,\r\n                id: userId\r\n            })\r\n            .then(response => {\r\n                successCallback(response.data)\r\n            })\r\n            .catch((error) => {\r\n                console.log(error)\r\n                toast({\r\n                    component: ToastificationContent,\r\n                    props: {\r\n                        title: 'Error fetching calendar events',\r\n                        icon: 'AlertTriangleIcon',\r\n                        variant: 'danger',\r\n                    },\r\n                })\r\n            })\r\n    }\r\n\r\n    // ------------------------------------------------------------------------\r\n    // calendarOptions\r\n    // * This isn't considered in UI because this is the core of calendar app\r\n    // For headerToolbar end we can setup dayGridMonth,timeGridWeek,timeGridDay,listMonth\r\n    // ------------------------------------------------------------------------\r\n    const calendarOptions = ref({\r\n        plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin, listPlugin],\r\n        initialView: 'dayGridMonth',\r\n        headerToolbar: {\r\n            start: 'prev,next, title',\r\n            end: 'dayGridMonth',\r\n        },\r\n        events: fetchEvents,\r\n\r\n        eventColor: store.getters.user.role.color || '#28c76f',\r\n\r\n        eventTextColor: '#fff',\r\n\r\n        eventDisplay: {\r\n            backgroundColor: store.getters.user.role.color || '#28c76f',\r\n        },\r\n\r\n        /*\r\n          Enable dragging and resizing event\r\n          ? Docs: https://fullcalendar.io/docs/editable\r\n        */\r\n        editable: true,\r\n\r\n        /*\r\n          Enable resizing event from start\r\n          ? Docs: https://fullcalendar.io/docs/eventResizableFromStart\r\n        */\r\n        eventResizableFromStart: true,\r\n\r\n        /*\r\n          Automatically scroll the scroll-containers during event drag-and-drop and date selecting\r\n          ? Docs: https://fullcalendar.io/docs/dragScroll\r\n        */\r\n        dragScroll: true,\r\n\r\n        /*\r\n          Max number of events within a given day\r\n          ? Docs: https://fullcalendar.io/docs/dayMaxEvents\r\n        */\r\n        dayMaxEvents: 2,\r\n\r\n        /*\r\n          Determines if day names and week names are clickable\r\n          ? Docs: https://fullcalendar.io/docs/navLinks\r\n        */\r\n        navLinks: true,\r\n\r\n        // eventClassNames({ event: calendarEvent }) {\r\n        //     // eslint-disable-next-line no-underscore-dangle\r\n        //     const colorName = calendarsColor[calendarEvent._def.extendedProps.calendar]\r\n\r\n        //     return [\r\n        //         // Background Color\r\n        //         `bg-light-${colorName}`,\r\n        //     ]\r\n        // },\r\n        eventContent(arg) {\r\n            arg.backgroundColor = store.getters.user.role.color\r\n            console.log(arg)\r\n\r\n        },\r\n        eventClick({ event: clickedEvent }) {\r\n            // * Only grab required field otherwise it goes in infinity loop\r\n            // ! Always grab all fields rendered by form (even if it get `undefined`) otherwise due to Vue3/Composition API you might get: \"object is not extensible\"\r\n            grabEventDataFromEventApi(clickedEvent)\r\n                .then(data => {\r\n                    event.value = data;\r\n                    // eslint-disable-next-line no-use-before-define\r\n                    isEventHandlerSidebarActive.value = true\r\n                })\r\n\r\n\r\n\r\n        },\r\n\r\n        customButtons: {\r\n            sidebarToggle: {\r\n                // --- This dummy text actual icon rendering is handled using SCSS ----- //\r\n                text: 'sidebar',\r\n                click() {\r\n                    // eslint-disable-next-line no-use-before-define\r\n                    isCalendarOverlaySidebarActive.value = !isCalendarOverlaySidebarActive.value\r\n                },\r\n            },\r\n        },\r\n\r\n        dateClick(info) {\r\n            /*\r\n              ! Vue3 Change\r\n              Using Vue.set isn't working for now so we will try to check reactivity in Vue 3 as it can handle this automatically\r\n              ```\r\n              event.value.start = info.date\r\n              ```\r\n            */\r\n            if (moment(info.date).isSameOrAfter(moment().format(\"YYYY-MM-DD\"))) {\r\n                event.value = JSON.parse(JSON.stringify(Object.assign(event.value, { startDate: info.date, endDate: info.date })))\r\n                    // console.log(event)\r\n                    // eslint-disable-next-line no-use-before-define\r\n                isEventHandlerSidebarActive.value = true\r\n            }\r\n        },\r\n\r\n        /*\r\n          Handle event drop (Also include dragged event)\r\n          ? Docs: https://fullcalendar.io/docs/eventDrop\r\n          ? We can use `eventDragStop` but it doesn't return updated event so we have to use `eventDrop` which returns updated event\r\n        */\r\n        eventDrop({ event: droppedEvent }) {\r\n            updateEvent(grabEventDataFromEventApi(droppedEvent))\r\n        },\r\n\r\n        /*\r\n          Handle event resize\r\n          ? Docs: https://fullcalendar.io/docs/eventResize\r\n        */\r\n        eventResize({ event: resizedEvent }) {\r\n            updateEvent(grabEventDataFromEventApi(resizedEvent))\r\n        },\r\n\r\n        // Get direction from app state (store)\r\n        direction: computed(() => (store.state.appConfig.isRTL ? 'rtl' : 'ltr')),\r\n        rerenderDelay: 350,\r\n    })\r\n\r\n    // ------------------------------------------------------------------------\r\n\r\n    // *===============================================---*\r\n    // *--------- UI ---------------------------------------*\r\n    // *===============================================---*\r\n\r\n    const isEventHandlerSidebarActive = ref(false)\r\n\r\n    const isCalendarOverlaySidebarActive = ref(false)\r\n\r\n    return {\r\n        refCalendar,\r\n        isCalendarOverlaySidebarActive,\r\n        calendarOptions,\r\n        event,\r\n        clearEventData,\r\n        addEvent,\r\n        updateEvent,\r\n        removeEvent,\r\n        refetchEvents,\r\n        fetchEvents,\r\n        setUser,\r\n\r\n        // ----- UI ----- //\r\n        isEventHandlerSidebarActive,\r\n    }\r\n}","<template>\r\n  <div class=\"app-calendar overflow-hidden border\">\r\n    <div class=\"row no-gutters\">\r\n      <!-- Calendar -->\r\n      <div class=\"col position-relative\">\r\n        <div class=\"card mb-0\" style=\"max-width: 1200px;\">\r\n          <div class=\"card-header text-white bg-primary mb-3\">Give your Availability Timings</div>\r\n          <div class=\"card-body pb-0\">\r\n            <full-calendar\r\n              ref=\"refCalendar\"\r\n              :options=\"calendarOptions\"\r\n              class=\"full-calendar\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Sidebar Overlay -->\r\n      <div\r\n        class=\"body-content-overlay\"\r\n        :class=\"{'show': isCalendarOverlaySidebarActive}\"\r\n        @click=\"isCalendarOverlaySidebarActive = false\"\r\n      />\r\n      <calendar-event-handler\r\n        v-model=\"isEventHandlerSidebarActive\"\r\n        :event=\"event\"\r\n        :clear-event-data=\"clearEventData\"\r\n        @remove-event=\"removeEvent\"\r\n        @add-event=\"addEvent\"\r\n        @update-event=\"updateEvent\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FullCalendar from '@fullcalendar/vue'\r\nimport store from '@/store'\r\nimport { onUnmounted } from '@vue/composition-api'\r\nimport calendarStoreModule from './availabilityStoreModule'\r\nimport CalendarEventHandler from './calendarEventHandler.vue'\r\nimport useCalendar from './useCalendar'\r\n\r\nexport default {\r\n  components: {\r\n    FullCalendar, // make the <FullCalendar> tag available\r\n    // CalendarSidebar,\r\n    CalendarEventHandler,\r\n  },\r\n  setup() {\r\n    const CALENDAR_APP_STORE_MODULE_NAME = 'calendar'\r\n\r\n    // Register module\r\n    if (!store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.registerModule(CALENDAR_APP_STORE_MODULE_NAME, calendarStoreModule)\r\n\r\n    // UnRegister on leave\r\n    onUnmounted(() => {\r\n      if (store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) store.unregisterModule(CALENDAR_APP_STORE_MODULE_NAME)\r\n    })\r\n\r\n    const {\r\n      refCalendar,\r\n      isCalendarOverlaySidebarActive,\r\n      event,\r\n      clearEventData,\r\n      addEvent,\r\n      updateEvent,\r\n      removeEvent,\r\n      fetchEvents,\r\n      refetchEvents,\r\n      calendarOptions,\r\n\r\n      // ----- UI ----- //\r\n      isEventHandlerSidebarActive,\r\n    } = useCalendar()\r\n\r\n    fetchEvents()\r\n\r\n    return {\r\n      refCalendar,\r\n      isCalendarOverlaySidebarActive,\r\n      event,\r\n      clearEventData,\r\n      addEvent,\r\n      updateEvent,\r\n      removeEvent,\r\n      refetchEvents,\r\n      calendarOptions,\r\n\r\n      // ----- UI ----- //\r\n      isEventHandlerSidebarActive,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@core/scss/vue/apps/calendar.scss\";\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./availability.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./availability.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./availability.vue?vue&type=template&id=60688304&\"\nimport script from \"./availability.vue?vue&type=script&lang=js&\"\nexport * from \"./availability.vue?vue&type=script&lang=js&\"\nimport style0 from \"./availability.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { ref, computed, watch } from '@vue/composition-api'\r\nimport store from '@/store'\r\n\r\nexport default function useCalendarEventHandler(props, clearForm, emit) {\r\n    // ------------------------------------------------\r\n    // eventLocal\r\n    // ------------------------------------------------\r\n    const eventLocal = ref(JSON.parse(JSON.stringify(props.event.value)))\r\n\r\n\r\n    const resetEventLocal = () => {\r\n        eventLocal.value = JSON.parse(JSON.stringify(props.event.value))\r\n    }\r\n    watch(props.event, () => {\r\n        resetEventLocal()\r\n    })\r\n\r\n    // ------------------------------------------------\r\n    // isEventHandlerSidebarActive\r\n    // * Clear form if sidebar is closed\r\n    // ------------------------------------------------\r\n    watch(props.isEventHandlerSidebarActive, val => {\r\n            // ? Don't reset event till transition is finished\r\n            if (!val) {\r\n                setTimeout(() => {\r\n                    clearForm.value()\r\n                }, 350)\r\n            }\r\n        })\r\n        // ------------------------------------------------\r\n        // calendarOptions\r\n        // ------------------------------------------------\r\n    const calendarOptions = computed(() => store.state.calendar.calendarOptions)\r\n\r\n    const onSubmit = () => {\r\n        // eventLocal.push('extendedProps:{calendar: Bookings}');\r\n\r\n        const eventData = JSON.parse(JSON.stringify(eventLocal))\r\n        console.log(\"eventData\")\r\n        console.log(eventData);\r\n\r\n        // * If event has id => Edit Event\r\n        // Emit event for add/update event\r\n        if (props.event.value.id) emit('update-event', eventData.value)\r\n        else emit('add-event', eventData.value)\r\n\r\n        // Close sidebar\r\n        emit('update:is-event-handler-sidebar-active', false)\r\n    }\r\n\r\n    // *===============================================---*\r\n    // *--------- UI ---------------------------------------*\r\n    // *===============================================---*\r\n\r\n    // ------------------------------------------------\r\n    // guestOptions\r\n    // ------------------------------------------------\r\n\r\n    /* eslint-disable global-require */\r\n    const guestsOptions = [\r\n            { avatar: require('@/assets/images/avatars/1-small.png'), name: 'Jane Foster' },\r\n            { avatar: require('@/assets/images/avatars/3-small.png'), name: 'Donna Frank' },\r\n            { avatar: require('@/assets/images/avatars/5-small.png'), name: 'Gabrielle Robertson' },\r\n            { avatar: require('@/assets/images/avatars/7-small.png'), name: 'Lori Spears' },\r\n            { avatar: require('@/assets/images/avatars/9-small.png'), name: 'Sandy Vega' },\r\n            { avatar: require('@/assets/images/avatars/11-small.png'), name: 'Cheryl May' },\r\n        ]\r\n        /* eslint-enable global-require */\r\n\r\n    return {\r\n        eventLocal,\r\n        resetEventLocal,\r\n        calendarOptions,\r\n\r\n        // UI\r\n        guestsOptions,\r\n        onSubmit,\r\n    }\r\n}","export default {\r\n    namespaced: true,\r\n    state: {\r\n        calendarOptions: [{\r\n                color: 'success',\r\n                label: 'Availability',\r\n            },\r\n\r\n        ],\r\n        selectedCalendars: ['Availability'],\r\n    },\r\n    getters: {},\r\n    mutations: {\r\n        SET_SELECTED_EVENTS(state, val) {\r\n            state.selectedCalendars = val\r\n        },\r\n    },\r\n    actions: {\r\n        fetchEvents(ctx, { calendars, id }) {\r\n            return new Promise((resolve, reject) => {\r\n                axios\r\n                    .get('/availability', {\r\n                        params: {\r\n                            calendars: calendars.join(','),\r\n                            id: id\r\n                        },\r\n                    })\r\n                    .then(response => resolve(response))\r\n                    .catch(error => reject(error))\r\n            })\r\n        },\r\n        addEvent(ctx, { event }) {\r\n            return new Promise((resolve, reject) => {\r\n                axios\r\n                    .post('/availability', event)\r\n                    .then(response => resolve(response))\r\n                    .catch(error => reject(error))\r\n            })\r\n        },\r\n        updateEvent(ctx, { event }) {\r\n            return new Promise((resolve, reject) => {\r\n                axios\r\n                    .put(`/availability/${event.id}`, event)\r\n                    .then(response => resolve(response))\r\n                    .catch(error => reject(error))\r\n            })\r\n        },\r\n        removeEvent(ctx, { id }) {\r\n            return new Promise((resolve, reject) => {\r\n                axios\r\n                    .delete(`/availability/${id}`)\r\n                    .then(response => resolve(response))\r\n                    .catch(error => reject(error))\r\n            })\r\n        },\r\n    },\r\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// v-b-visible\n// Private visibility check directive\n// Based on IntersectionObserver\n//\n// Usage:\n//  v-b-visibility.<margin>.<once>=\"<callback>\"\n//\n//  Value:\n//  <callback>: method to be called when visibility state changes, receives one arg:\n//     true:  element is visible\n//     false: element is not visible\n//     null:  IntersectionObserver not supported\n//\n//  Modifiers:\n//    <margin>: a positive decimal value of pixels away from viewport edge\n//              before being considered \"visible\". default is 0\n//    <once>:   keyword 'once', meaning when the element becomes visible and\n//              callback is called observation/notification will stop.\n//\n// When used in a render function:\n// export default {\n//   directives: { 'b-visible': VBVisible },\n//   render(h) {\n//     h(\n//       'div',\n//       {\n//         directives: [\n//           { name: 'b-visible', value=this.callback, modifiers: { '123':true, 'once':true } }\n//         ]\n//       }\n//     )\n//   }\nimport { RX_DIGITS } from '../../constants/regex';\nimport { requestAF } from '../../utils/dom';\nimport { isFunction } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { clone, keys } from '../../utils/object';\nvar OBSERVER_PROP_NAME = '__bv__visibility_observer';\n\nvar VisibilityObserver = /*#__PURE__*/function () {\n  function VisibilityObserver(el, options, vnode) {\n    _classCallCheck(this, VisibilityObserver);\n\n    this.el = el;\n    this.callback = options.callback;\n    this.margin = options.margin || 0;\n    this.once = options.once || false;\n    this.observer = null;\n    this.visible = undefined;\n    this.doneOnce = false; // Create the observer instance (if possible)\n\n    this.createObserver(vnode);\n  }\n\n  _createClass(VisibilityObserver, [{\n    key: \"createObserver\",\n    value: function createObserver(vnode) {\n      var _this = this;\n\n      // Remove any previous observer\n      if (this.observer) {\n        /* istanbul ignore next */\n        this.stop();\n      } // Should only be called once and `callback` prop should be a function\n\n\n      if (this.doneOnce || !isFunction(this.callback)) {\n        /* istanbul ignore next */\n        return;\n      } // Create the observer instance\n\n\n      try {\n        // Future: Possibly add in other modifiers for left/right/top/bottom\n        // offsets, root element reference, and thresholds\n        this.observer = new IntersectionObserver(this.handler.bind(this), {\n          // `null` = 'viewport'\n          root: null,\n          // Pixels away from view port to consider \"visible\"\n          rootMargin: this.margin,\n          // Intersection ratio of el and root (as a value from 0 to 1)\n          threshold: 0\n        });\n      } catch (_unused) {\n        // No IntersectionObserver support, so just stop trying to observe\n        this.doneOnce = true;\n        this.observer = undefined;\n        this.callback(null);\n        return;\n      } // Start observing in a `$nextTick()` (to allow DOM to complete rendering)\n\n      /* istanbul ignore next: IntersectionObserver not supported in JSDOM */\n\n\n      vnode.context.$nextTick(function () {\n        requestAF(function () {\n          // Placed in an `if` just in case we were destroyed before\n          // this `requestAnimationFrame` runs\n          if (_this.observer) {\n            _this.observer.observe(_this.el);\n          }\n        });\n      });\n    }\n    /* istanbul ignore next */\n\n  }, {\n    key: \"handler\",\n    value: function handler(entries) {\n      var entry = entries ? entries[0] : {};\n      var isIntersecting = Boolean(entry.isIntersecting || entry.intersectionRatio > 0.0);\n\n      if (isIntersecting !== this.visible) {\n        this.visible = isIntersecting;\n        this.callback(isIntersecting);\n\n        if (this.once && this.visible) {\n          this.doneOnce = true;\n          this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      /* istanbul ignore next */\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n    }\n  }]);\n\n  return VisibilityObserver;\n}();\n\nvar destroy = function destroy(el) {\n  var observer = el[OBSERVER_PROP_NAME];\n\n  if (observer && observer.stop) {\n    observer.stop();\n  }\n\n  delete el[OBSERVER_PROP_NAME];\n};\n\nvar bind = function bind(el, _ref, vnode) {\n  var value = _ref.value,\n      modifiers = _ref.modifiers;\n  // `value` is the callback function\n  var options = {\n    margin: '0px',\n    once: false,\n    callback: value\n  }; // Parse modifiers\n\n  keys(modifiers).forEach(function (mod) {\n    /* istanbul ignore else: Until <b-img-lazy> is switched to use this directive */\n    if (RX_DIGITS.test(mod)) {\n      options.margin = \"\".concat(mod, \"px\");\n    } else if (mod.toLowerCase() === 'once') {\n      options.once = true;\n    }\n  }); // Destroy any previous observer\n\n  destroy(el); // Create new observer\n\n  el[OBSERVER_PROP_NAME] = new VisibilityObserver(el, options, vnode); // Store the current modifiers on the object (cloned)\n\n  el[OBSERVER_PROP_NAME]._prevModifiers = clone(modifiers);\n}; // When the directive options may have been updated (or element)\n\n\nvar componentUpdated = function componentUpdated(el, _ref2, vnode) {\n  var value = _ref2.value,\n      oldValue = _ref2.oldValue,\n      modifiers = _ref2.modifiers;\n  // Compare value/oldValue and modifiers to see if anything has changed\n  // and if so, destroy old observer and create new observer\n\n  /* istanbul ignore next */\n  modifiers = clone(modifiers);\n  /* istanbul ignore next */\n\n  if (el && (value !== oldValue || !el[OBSERVER_PROP_NAME] || !looseEqual(modifiers, el[OBSERVER_PROP_NAME]._prevModifiers))) {\n    // Re-bind on element\n    bind(el, {\n      value: value,\n      modifiers: modifiers\n    }, vnode);\n  }\n}; // When directive un-binds from element\n\n\nvar unbind = function unbind(el) {\n  // Remove the observer\n  destroy(el);\n}; // Export the directive\n\n\nexport var VBVisible = {\n  bind: bind,\n  componentUpdated: componentUpdated,\n  unbind: unbind\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_TEXTAREA } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { getCS, getStyle, isVisible, requestAF, setStyle } from '../../utils/dom';\nimport { isNull } from '../../utils/inspect';\nimport { mathCeil, mathMax, mathMin } from '../../utils/math';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { VBVisible } from '../../directives/visible/visible'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  maxRows: makeProp(PROP_TYPE_NUMBER_STRING),\n  // When in auto resize mode, disable shrinking to content height\n  noAutoShrink: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable the resize handle of textarea\n  noResize: makeProp(PROP_TYPE_BOOLEAN, false),\n  rows: makeProp(PROP_TYPE_NUMBER_STRING, 2),\n  // 'soft', 'hard' or 'off'\n  // Browser default is 'soft'\n  wrap: makeProp(PROP_TYPE_STRING, 'soft')\n})), NAME_FORM_TEXTAREA); // --- Main component ---\n// @vue/component\n\nexport var BFormTextarea = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_TEXTAREA,\n  directives: {\n    'b-visible': VBVisible\n  },\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, listenOnRootMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  data: function data() {\n    return {\n      heightInPx: null\n    };\n  },\n  computed: {\n    computedStyle: function computedStyle() {\n      var styles = {\n        // Setting `noResize` to true will disable the ability for the user to\n        // manually resize the textarea. We also disable when in auto height mode\n        resize: !this.computedRows || this.noResize ? 'none' : null\n      };\n\n      if (!this.computedRows) {\n        // Conditionally set the computed CSS height when auto rows/height is enabled\n        // We avoid setting the style to `null`, which can override user manual resize handle\n        styles.height = this.heightInPx; // We always add a vertical scrollbar to the textarea when auto-height is\n        // enabled so that the computed height calculation returns a stable value\n\n        styles.overflowY = 'scroll';\n      }\n\n      return styles;\n    },\n    computedMinRows: function computedMinRows() {\n      // Ensure rows is at least 2 and positive (2 is the native textarea value)\n      // A value of 1 can cause issues in some browsers, and most browsers\n      // only support 2 as the smallest value\n      return mathMax(toInteger(this.rows, 2), 2);\n    },\n    computedMaxRows: function computedMaxRows() {\n      return mathMax(this.computedMinRows, toInteger(this.maxRows, 0));\n    },\n    computedRows: function computedRows() {\n      // This is used to set the attribute 'rows' on the textarea\n      // If auto-height is enabled, then we return `null` as we use CSS to control height\n      return this.computedMinRows === this.computedMaxRows ? this.computedMinRows : null;\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.disabled,\n          required = this.required;\n      return {\n        id: this.safeId(),\n        name: this.name || null,\n        form: this.form || null,\n        disabled: disabled,\n        placeholder: this.placeholder || null,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        rows: this.computedRows,\n        wrap: this.wrap || null,\n        'aria-required': this.required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    localValue: function localValue() {\n      this.setHeight();\n    }\n  },\n  mounted: function mounted() {\n    this.setHeight();\n  },\n  methods: {\n    // Called by intersection observer directive\n\n    /* istanbul ignore next */\n    visibleCallback: function visibleCallback(visible) {\n      if (visible) {\n        // We use a `$nextTick()` here just to make sure any\n        // transitions or portalling have completed\n        this.$nextTick(this.setHeight);\n      }\n    },\n    setHeight: function setHeight() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this.heightInPx = _this.computeHeight();\n        });\n      });\n    },\n\n    /* istanbul ignore next: can't test getComputedStyle in JSDOM */\n    computeHeight: function computeHeight() {\n      if (this.$isServer || !isNull(this.computedRows)) {\n        return null;\n      }\n\n      var el = this.$el; // Element must be visible (not hidden) and in document\n      // Must be checked after above checks\n\n      if (!isVisible(el)) {\n        return null;\n      } // Get current computed styles\n\n\n      var computedStyle = getCS(el); // Height of one line of text in px\n\n      var lineHeight = toFloat(computedStyle.lineHeight, 1); // Calculate height of border and padding\n\n      var border = toFloat(computedStyle.borderTopWidth, 0) + toFloat(computedStyle.borderBottomWidth, 0);\n      var padding = toFloat(computedStyle.paddingTop, 0) + toFloat(computedStyle.paddingBottom, 0); // Calculate offset\n\n      var offset = border + padding; // Minimum height for min rows (which must be 2 rows or greater for cross-browser support)\n\n      var minHeight = lineHeight * this.computedMinRows + offset; // Get the current style height (with `px` units)\n\n      var oldHeight = getStyle(el, 'height') || computedStyle.height; // Probe scrollHeight by temporarily changing the height to `auto`\n\n      setStyle(el, 'height', 'auto');\n      var scrollHeight = el.scrollHeight; // Place the original old height back on the element, just in case `computedProp`\n      // returns the same value as before\n\n      setStyle(el, 'height', oldHeight); // Calculate content height in 'rows' (scrollHeight includes padding but not border)\n\n      var contentRows = mathMax((scrollHeight - padding) / lineHeight, 2); // Calculate number of rows to display (limited within min/max rows)\n\n      var rows = mathMin(mathMax(contentRows, this.computedMinRows), this.computedMaxRows); // Calculate the required height of the textarea including border and padding (in pixels)\n\n      var height = mathMax(mathCeil(rows * lineHeight + offset), minHeight); // Computed height remains the larger of `oldHeight` and new `height`,\n      // when height is in `sticky` mode (prop `no-auto-shrink` is true)\n\n      if (this.noAutoShrink && toFloat(oldHeight, 0) > height) {\n        return oldHeight;\n      } // Return the new computed CSS height in px units\n\n\n      return \"\".concat(height, \"px\");\n    }\n  },\n  render: function render(h) {\n    return h('textarea', {\n      class: this.computedClass,\n      style: this.computedStyle,\n      directives: [{\n        name: 'b-visible',\n        value: this.visibleCallback,\n        // If textarea is within 640px of viewport, consider it visible\n        modifiers: {\n          '640': true\n        }\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = getEventTargetViaRoot(pev.origEvent);\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","module.exports = __webpack_public_path__ + \"img/3-small.33d29f56.png\";","import { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN } from '../constants/props';\nimport { makeProp, makePropsConfigurable } from '../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  plain: makeProp(PROP_TYPE_BOOLEAN, false)\n}, 'formControls'); // --- Mixin ---\n// @vue/component\n\nexport var formCustomMixin = Vue.extend({\n  props: props,\n  computed: {\n    custom: function custom() {\n      return !this.plain;\n    }\n  }\n});","module.exports = __webpack_public_path__ + \"img/7-small.c4993d9a.png\";","module.exports = __webpack_public_path__ + \"img/11-small.4ade0856.png\";","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_COLLAPSE, NAME_SIDEBAR } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_NAME_HIDDEN, EVENT_NAME_SHOWN } from '../../constants/events';\nimport { CODE_ESC } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_FOOTER, SLOT_NAME_HEADER, SLOT_NAME_HEADER_CLOSE, SLOT_NAME_TITLE } from '../../constants/slots';\nimport { attemptFocus, contains, getActiveElement, getTabables } from '../../utils/dom';\nimport { getRootActionEventName, getRootEventName } from '../../utils/events';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BIconX } from '../../icons/icons';\nimport { BButtonClose } from '../button/button-close';\nimport { BVTransition } from '../transition/bv-transition'; // --- Constants ---\n\nvar CLASS_NAME = 'b-sidebar';\nvar ROOT_ACTION_EVENT_NAME_REQUEST_STATE = getRootActionEventName(NAME_COLLAPSE, 'request-state');\nvar ROOT_ACTION_EVENT_NAME_TOGGLE = getRootActionEventName(NAME_COLLAPSE, 'toggle');\nvar ROOT_EVENT_NAME_STATE = getRootEventName(NAME_COLLAPSE, 'state');\nvar ROOT_EVENT_NAME_SYNC_STATE = getRootEventName(NAME_COLLAPSE, 'sync-state');\n\nvar _makeModelMixin = makeModelMixin('visible', {\n  type: PROP_TYPE_BOOLEAN,\n  defaultValue: false,\n  event: EVENT_NAME_CHANGE\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event; // --- Props ---\n\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // If `true`, shows a basic backdrop\n  backdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  backdropVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  bgVariant: makeProp(PROP_TYPE_STRING, 'light'),\n  bodyClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  // `aria-label` for close button\n  closeLabel: makeProp(PROP_TYPE_STRING),\n  footerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  headerClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnBackdrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnEsc: makeProp(PROP_TYPE_BOOLEAN, false),\n  noCloseOnRouteChange: makeProp(PROP_TYPE_BOOLEAN, false),\n  noEnforceFocus: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeader: makeProp(PROP_TYPE_BOOLEAN, false),\n  noHeaderClose: makeProp(PROP_TYPE_BOOLEAN, false),\n  noSlide: makeProp(PROP_TYPE_BOOLEAN, false),\n  right: makeProp(PROP_TYPE_BOOLEAN, false),\n  shadow: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  sidebarClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  textVariant: makeProp(PROP_TYPE_STRING, 'dark'),\n  title: makeProp(PROP_TYPE_STRING),\n  width: makeProp(PROP_TYPE_STRING),\n  zIndex: makeProp(PROP_TYPE_NUMBER_STRING)\n})), NAME_SIDEBAR); // --- Render methods ---\n\nvar renderHeaderTitle = function renderHeaderTitle(h, ctx) {\n  // Render a empty `<span>` when to title was provided\n  var title = ctx.normalizeSlot(SLOT_NAME_TITLE, ctx.slotScope) || ctx.title;\n\n  if (!title) {\n    return h('span');\n  }\n\n  return h('strong', {\n    attrs: {\n      id: ctx.safeId('__title__')\n    }\n  }, [title]);\n};\n\nvar renderHeaderClose = function renderHeaderClose(h, ctx) {\n  if (ctx.noHeaderClose) {\n    return h();\n  }\n\n  var closeLabel = ctx.closeLabel,\n      textVariant = ctx.textVariant,\n      hide = ctx.hide;\n  return h(BButtonClose, {\n    props: {\n      ariaLabel: closeLabel,\n      textVariant: textVariant\n    },\n    on: {\n      click: hide\n    },\n    ref: 'close-button'\n  }, [ctx.normalizeSlot(SLOT_NAME_HEADER_CLOSE) || h(BIconX)]);\n};\n\nvar renderHeader = function renderHeader(h, ctx) {\n  if (ctx.noHeader) {\n    return h();\n  }\n\n  var $content = ctx.normalizeSlot(SLOT_NAME_HEADER, ctx.slotScope);\n\n  if (!$content) {\n    var $title = renderHeaderTitle(h, ctx);\n    var $close = renderHeaderClose(h, ctx);\n    $content = ctx.right ? [$close, $title] : [$title, $close];\n  }\n\n  return h('header', {\n    staticClass: \"\".concat(CLASS_NAME, \"-header\"),\n    class: ctx.headerClass,\n    key: 'header'\n  }, $content);\n};\n\nvar renderBody = function renderBody(h, ctx) {\n  return h('div', {\n    staticClass: \"\".concat(CLASS_NAME, \"-body\"),\n    class: ctx.bodyClass,\n    key: 'body'\n  }, [ctx.normalizeSlot(SLOT_NAME_DEFAULT, ctx.slotScope)]);\n};\n\nvar renderFooter = function renderFooter(h, ctx) {\n  var $footer = ctx.normalizeSlot(SLOT_NAME_FOOTER, ctx.slotScope);\n\n  if (!$footer) {\n    return h();\n  }\n\n  return h('footer', {\n    staticClass: \"\".concat(CLASS_NAME, \"-footer\"),\n    class: ctx.footerClass,\n    key: 'footer'\n  }, [$footer]);\n};\n\nvar renderContent = function renderContent(h, ctx) {\n  // We render the header even if `lazy` is enabled as it\n  // acts as the accessible label for the sidebar\n  var $header = renderHeader(h, ctx);\n\n  if (ctx.lazy && !ctx.isOpen) {\n    return $header;\n  }\n\n  return [$header, renderBody(h, ctx), renderFooter(h, ctx)];\n};\n\nvar renderBackdrop = function renderBackdrop(h, ctx) {\n  if (!ctx.backdrop) {\n    return h();\n  }\n\n  var backdropVariant = ctx.backdropVariant;\n  return h('div', {\n    directives: [{\n      name: 'show',\n      value: ctx.localShow\n    }],\n    staticClass: 'b-sidebar-backdrop',\n    class: _defineProperty({}, \"bg-\".concat(backdropVariant), backdropVariant),\n    on: {\n      click: ctx.onBackdropClick\n    }\n  });\n}; // --- Main component ---\n// @vue/component\n\n\nexport var BSidebar = /*#__PURE__*/Vue.extend({\n  name: NAME_SIDEBAR,\n  mixins: [attrsMixin, idMixin, modelMixin, listenOnRootMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    var visible = !!this[MODEL_PROP_NAME];\n    return {\n      // Internal `v-model` state\n      localShow: visible,\n      // For lazy render triggering\n      isOpen: visible\n    };\n  },\n  computed: {\n    transitionProps: function transitionProps() {\n      return this.noSlide ?\n      /* istanbul ignore next */\n      {\n        css: true\n      } : {\n        css: true,\n        enterClass: '',\n        enterActiveClass: 'slide',\n        enterToClass: 'show',\n        leaveClass: 'show',\n        leaveActiveClass: 'slide',\n        leaveToClass: ''\n      };\n    },\n    slotScope: function slotScope() {\n      var hide = this.hide,\n          right = this.right,\n          visible = this.localShow;\n      return {\n        hide: hide,\n        right: right,\n        visible: visible\n      };\n    },\n    hasTitle: function hasTitle() {\n      var $scopedSlots = this.$scopedSlots,\n          $slots = this.$slots;\n      return !this.noHeader && !this.hasNormalizedSlot(SLOT_NAME_HEADER) && !!(this.normalizeSlot(SLOT_NAME_TITLE, this.slotScope, $scopedSlots, $slots) || this.title);\n    },\n    titleId: function titleId() {\n      return this.hasTitle ? this.safeId('__title__') : null;\n    },\n    computedAttrs: function computedAttrs() {\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        tabindex: '-1',\n        role: 'dialog',\n        'aria-modal': this.backdrop ? 'true' : 'false',\n        'aria-hidden': this.localShow ? null : 'true',\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || this.titleId || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.localShow = newValue;\n    }\n  }), _defineProperty(_watch, \"localShow\", function localShow(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.emitState(newValue);\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_watch, \"$route\", function $route() {\n    var newValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var oldValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (!this.noCloseOnRouteChange && newValue.fullPath !== oldValue.fullPath) {\n      this.hide();\n    }\n  }), _watch),\n  created: function created() {\n    // Define non-reactive properties\n    this.$_returnFocusEl = null;\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // Add `$root` listeners\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_TOGGLE, this.handleToggle);\n    this.listenOnRoot(ROOT_ACTION_EVENT_NAME_REQUEST_STATE, this.handleSync); // Send out a gratuitous state event to ensure toggle button is synced\n\n    this.$nextTick(function () {\n      _this.emitState(_this.localShow);\n    });\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    this.emitSync();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.localShow = false;\n    this.$_returnFocusEl = null;\n  },\n  methods: {\n    hide: function hide() {\n      this.localShow = false;\n    },\n    emitState: function emitState() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_STATE, this.safeId(), state);\n    },\n    emitSync: function emitSync() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.localShow;\n      this.emitOnRoot(ROOT_EVENT_NAME_SYNC_STATE, this.safeId(), state);\n    },\n    handleToggle: function handleToggle(id) {\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.localShow = !this.localShow;\n      }\n    },\n    handleSync: function handleSync(id) {\n      var _this2 = this;\n\n      // Note `safeId()` can be null until after mount\n      if (id && id === this.safeId()) {\n        this.$nextTick(function () {\n          _this2.emitSync(_this2.localShow);\n        });\n      }\n    },\n    onKeydown: function onKeydown(event) {\n      var keyCode = event.keyCode;\n\n      if (!this.noCloseOnEsc && keyCode === CODE_ESC && this.localShow) {\n        this.hide();\n      }\n    },\n    onBackdropClick: function onBackdropClick() {\n      if (this.localShow && !this.noCloseOnBackdrop) {\n        this.hide();\n      }\n    },\n\n    /* istanbul ignore next */\n    onTopTrapFocus: function onTopTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables.reverse()[0]);\n    },\n\n    /* istanbul ignore next */\n    onBottomTrapFocus: function onBottomTrapFocus() {\n      var tabables = getTabables(this.$refs.content);\n      this.enforceFocus(tabables[0]);\n    },\n    onBeforeEnter: function onBeforeEnter() {\n      // Returning focus to `document.body` may cause unwanted scrolls,\n      // so we exclude setting focus on body\n      this.$_returnFocusEl = getActiveElement(IS_BROWSER ? [document.body] : []); // Trigger lazy render\n\n      this.isOpen = true;\n    },\n    onAfterEnter: function onAfterEnter(el) {\n      if (!contains(el, getActiveElement())) {\n        this.enforceFocus(el);\n      }\n\n      this.$emit(EVENT_NAME_SHOWN);\n    },\n    onAfterLeave: function onAfterLeave() {\n      this.enforceFocus(this.$_returnFocusEl);\n      this.$_returnFocusEl = null; // Trigger lazy render\n\n      this.isOpen = false;\n      this.$emit(EVENT_NAME_HIDDEN);\n    },\n    enforceFocus: function enforceFocus(el) {\n      if (!this.noEnforceFocus) {\n        attemptFocus(el);\n      }\n    }\n  },\n  render: function render(h) {\n    var _ref;\n\n    var bgVariant = this.bgVariant,\n        width = this.width,\n        textVariant = this.textVariant,\n        localShow = this.localShow;\n    var shadow = this.shadow === '' ? true : this.shadow;\n    var $sidebar = h(this.tag, {\n      staticClass: CLASS_NAME,\n      class: [(_ref = {\n        shadow: shadow === true\n      }, _defineProperty(_ref, \"shadow-\".concat(shadow), shadow && shadow !== true), _defineProperty(_ref, \"\".concat(CLASS_NAME, \"-right\"), this.right), _defineProperty(_ref, \"bg-\".concat(bgVariant), bgVariant), _defineProperty(_ref, \"text-\".concat(textVariant), textVariant), _ref), this.sidebarClass],\n      style: {\n        width: width\n      },\n      attrs: this.computedAttrs,\n      directives: [{\n        name: 'show',\n        value: localShow\n      }],\n      ref: 'content'\n    }, [renderContent(h, this)]);\n    $sidebar = h('transition', {\n      props: this.transitionProps,\n      on: {\n        beforeEnter: this.onBeforeEnter,\n        afterEnter: this.onAfterEnter,\n        afterLeave: this.onAfterLeave\n      }\n    }, [$sidebar]);\n    var $backdrop = h(BVTransition, {\n      props: {\n        noFade: this.noSlide\n      }\n    }, [renderBackdrop(h, this)]);\n    var $tabTrapTop = h();\n    var $tabTrapBottom = h();\n\n    if (this.backdrop && localShow) {\n      $tabTrapTop = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onTopTrapFocus\n        }\n      });\n      $tabTrapBottom = h('div', {\n        attrs: {\n          tabindex: '0'\n        },\n        on: {\n          focus: this.onBottomTrapFocus\n        }\n      });\n    }\n\n    return h('div', {\n      staticClass: 'b-sidebar-outer',\n      style: {\n        zIndex: this.zIndex\n      },\n      attrs: {\n        tabindex: '-1'\n      },\n      on: {\n        keydown: this.onKeydown\n      }\n    }, [$tabTrapTop, $sidebar, $tabTrapBottom, $backdrop]);\n  }\n});","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"flatpickr\")):\"function\"==typeof define&&define.amd?define(\"VueFlatpickr\",[\"flatpickr\"],e):\"object\"==typeof exports?exports.VueFlatpickr=e(require(\"flatpickr\")):t.VueFlatpickr=e(t.flatpickr)}(\"undefined\"!=typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Component\",(function(){return c})),n.d(e,\"Plugin\",(function(){return p}));var r=n(0),o=n.n(r),i=[\"onChange\",\"onClose\",\"onDestroy\",\"onMonthChange\",\"onOpen\",\"onYearChange\"];function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=function(t){return t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase()},f=function(t){return u({},t)},l=i.concat([\"onValueUpdate\",\"onDayCreate\",\"onParseConfig\",\"onReady\",\"onPreCalendarPosition\",\"onKeyDown\"]),s=[\"locale\",\"showMonths\"],c={name:\"flat-pickr\",render:function(t){return t(\"input\",{attrs:{type:\"text\",\"data-input\":!0},props:{disabled:this.disabled},on:{input:this.onInput}})},props:{value:{default:null,required:!0,validator:function(t){return null===t||t instanceof Date||\"string\"==typeof t||t instanceof String||t instanceof Array||\"number\"==typeof t}},config:{type:Object,default:function(){return{wrap:!1,defaultDate:null}}},events:{type:Array,default:function(){return i}},disabled:{type:Boolean,default:!1}},data:function(){return{fp:null}},mounted:function(){var t=this;if(!this.fp){var e=f(this.config);this.events.forEach((function(n){var r,i=o.a.defaultConfig[n]||[];e[n]=(r=e[n]||[],r instanceof Array?r:[r]).concat(i,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.$emit.apply(t,[a(n)].concat(r))}))})),e.defaultDate=this.value||e.defaultDate,this.fp=new o.a(this.getElem(),e),this.fpInput().addEventListener(\"blur\",this.onBlur),this.$on(\"on-close\",this.onClose),this.$watch(\"disabled\",this.watchDisabled,{immediate:!0})}},methods:{getElem:function(){return this.config.wrap?this.$el.parentNode:this.$el},onInput:function(t){var e=this,n=t.target;this.$nextTick((function(){e.$emit(\"input\",n.value)}))},fpInput:function(){return this.fp.altInput||this.fp.input},onBlur:function(t){this.$emit(\"blur\",t.target.value)},onClose:function(t,e){this.$emit(\"input\",e)},watchDisabled:function(t){t?this.fpInput().setAttribute(\"disabled\",t):this.fpInput().removeAttribute(\"disabled\")}},watch:{config:{deep:!0,handler:function(t){var e=this,n=f(t);l.forEach((function(t){delete n[t]})),this.fp.set(n),s.forEach((function(t){void 0!==n[t]&&e.fp.set(t,n[t])}))}},value:function(t){t!==this.$el.value&&this.fp&&this.fp.setDate(t,!0)}},beforeDestroy:function(){this.fp&&(this.fpInput().removeEventListener(\"blur\",this.onBlur),this.fp.destroy(),this.fp=null)}},p=function(t,e){var n=\"flat-pickr\";\"string\"==typeof e&&(n=e),t.component(n,c)};c.install=p;e.default=c}]).default}));","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX } from '../../constants/components';\nimport { EVENT_NAME_CHANGE, MODEL_EVENT_NAME_PREFIX } from '../../constants/events';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { isArray } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { looseIndexOf } from '../../utils/loose-index-of';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check'; // --- Constants ---\n\nvar MODEL_PROP_NAME_INDETERMINATE = 'indeterminate';\nvar MODEL_EVENT_NAME_INDETERMINATE = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_INDETERMINATE; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME_INDETERMINATE, makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"switch\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"uncheckedValue\", makeProp(PROP_TYPE_ANY, false)), _defineProperty(_objectSpread2, \"value\", makeProp(PROP_TYPE_ANY, true)), _objectSpread2))), NAME_FORM_CHECKBOX); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckbox = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX,\n  mixins: [formRadioCheckMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvCheckGroup',\n      default: null\n    }\n  },\n  props: props,\n  computed: {\n    isChecked: function isChecked() {\n      var value = this.value,\n          checked = this.computedLocalChecked;\n      return isArray(checked) ? looseIndexOf(checked, value) > -1 : looseEqual(checked, value);\n    },\n    isRadio: function isRadio() {\n      return false;\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME_INDETERMINATE, function (newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.setIndeterminate(newValue);\n    }\n  }),\n  mounted: function mounted() {\n    // Set initial indeterminate state\n    this.setIndeterminate(this[MODEL_PROP_NAME_INDETERMINATE]);\n  },\n  methods: {\n    computedLocalCheckedWatcher: function computedLocalCheckedWatcher(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n        var $input = this.$refs.input;\n\n        if ($input) {\n          this.$emit(MODEL_EVENT_NAME_INDETERMINATE, $input.indeterminate);\n        }\n      }\n    },\n    handleChange: function handleChange(_ref) {\n      var _this = this;\n\n      var _ref$target = _ref.target,\n          checked = _ref$target.checked,\n          indeterminate = _ref$target.indeterminate;\n      var value = this.value,\n          uncheckedValue = this.uncheckedValue; // Update `computedLocalChecked`\n\n      var localChecked = this.computedLocalChecked;\n\n      if (isArray(localChecked)) {\n        var index = looseIndexOf(localChecked, value);\n\n        if (checked && index < 0) {\n          // Add value to array\n          localChecked = localChecked.concat(value);\n        } else if (!checked && index > -1) {\n          // Remove value from array\n          localChecked = localChecked.slice(0, index).concat(localChecked.slice(index + 1));\n        }\n      } else {\n        localChecked = checked ? value : uncheckedValue;\n      }\n\n      this.computedLocalChecked = localChecked; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n      this.$nextTick(function () {\n        // Change is only emitted on user interaction\n        _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n        if (_this.isGroup) {\n          _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n        }\n\n        _this.$emit(MODEL_EVENT_NAME_INDETERMINATE, indeterminate);\n      });\n    },\n    setIndeterminate: function setIndeterminate(state) {\n      // Indeterminate only supported in single checkbox mode\n      if (isArray(this.computedLocalChecked)) {\n        state = false;\n      }\n\n      var $input = this.$refs.input;\n\n      if ($input) {\n        $input.indeterminate = state; // Emit update event to prop\n\n        this.$emit(MODEL_EVENT_NAME_INDETERMINATE, state);\n      }\n    }\n  }\n});","import { looseEqual } from './loose-equal'; // Assumes that the first argument is an array\n\nexport var looseIndexOf = function looseIndexOf(array, value) {\n  for (var i = 0; i < array.length; i++) {\n    if (looseEqual(array[i], value)) {\n      return i;\n    }\n  }\n\n  return -1;\n};","var _watch, _methods;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../constants/props';\nimport { EVENT_NAME_CHANGE } from '../constants/events';\nimport { attemptBlur, attemptFocus } from '../utils/dom';\nimport { isBoolean } from '../utils/inspect';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { attrsMixin } from './attrs';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('checked', {\n  defaultValue: null\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // Only applicable in standalone mode (non group)\n  button: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  value: makeProp(PROP_TYPE_ANY)\n})), 'formRadioCheckControls'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckMixin = Vue.extend({\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this.isGroup ? this.bvGroup[MODEL_PROP_NAME] : this[MODEL_PROP_NAME],\n      hasFocus: false\n    };\n  },\n  computed: {\n    computedLocalChecked: {\n      get: function get() {\n        return this.isGroup ? this.bvGroup.localChecked : this.localChecked;\n      },\n      set: function set(value) {\n        if (this.isGroup) {\n          this.bvGroup.localChecked = value;\n        } else {\n          this.localChecked = value;\n        }\n      }\n    },\n    isChecked: function isChecked() {\n      return looseEqual(this.value, this.computedLocalChecked);\n    },\n    isRadio: function isRadio() {\n      return true;\n    },\n    isGroup: function isGroup() {\n      // Is this check/radio a child of check-group or radio-group?\n      return !!this.bvGroup;\n    },\n    isBtnMode: function isBtnMode() {\n      // Support button style in single input mode\n      return this.isGroup ? this.bvGroup.buttons : this.button;\n    },\n    isPlain: function isPlain() {\n      return this.isBtnMode ? false : this.isGroup ? this.bvGroup.plain : this.plain;\n    },\n    isCustom: function isCustom() {\n      return this.isBtnMode ? false : !this.isPlain;\n    },\n    isSwitch: function isSwitch() {\n      // Custom switch styling (checkboxes only)\n      return this.isBtnMode || this.isRadio || this.isPlain ? false : this.isGroup ? this.bvGroup.switches : this.switch;\n    },\n    isInline: function isInline() {\n      return this.isGroup ? this.bvGroup.inline : this.inline;\n    },\n    isDisabled: function isDisabled() {\n      // Child can be disabled while parent isn't, but is always disabled if group is\n      return this.isGroup ? this.bvGroup.disabled || this.disabled : this.disabled;\n    },\n    isRequired: function isRequired() {\n      // Required only works when a name is provided for the input(s)\n      // Child can only be required when parent is\n      // Groups will always have a name (either user supplied or auto generated)\n      return this.computedName && (this.isGroup ? this.bvGroup.required : this.required);\n    },\n    computedName: function computedName() {\n      // Group name preferred over local name\n      return (this.isGroup ? this.bvGroup.groupName : this.name) || null;\n    },\n    computedForm: function computedForm() {\n      return (this.isGroup ? this.bvGroup.form : this.form) || null;\n    },\n    computedSize: function computedSize() {\n      return (this.isGroup ? this.bvGroup.size : this.size) || '';\n    },\n    computedState: function computedState() {\n      return this.isGroup ? this.bvGroup.computedState : isBoolean(this.state) ? this.state : null;\n    },\n    computedButtonVariant: function computedButtonVariant() {\n      // Local variant preferred over group variant\n      var buttonVariant = this.buttonVariant;\n\n      if (buttonVariant) {\n        return buttonVariant;\n      }\n\n      if (this.isGroup && this.bvGroup.buttonVariant) {\n        return this.bvGroup.buttonVariant;\n      }\n\n      return 'secondary';\n    },\n    buttonClasses: function buttonClasses() {\n      var _ref;\n\n      var computedSize = this.computedSize;\n      return ['btn', \"btn-\".concat(this.computedButtonVariant), (_ref = {}, _defineProperty(_ref, \"btn-\".concat(computedSize), computedSize), _defineProperty(_ref, \"disabled\", this.isDisabled), _defineProperty(_ref, \"active\", this.isChecked), _defineProperty(_ref, \"focus\", this.hasFocus), _ref)];\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.isDisabled,\n          required = this.isRequired;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        type: this.isRadio ? 'radio' : 'checkbox',\n        name: this.computedName,\n        form: this.computedForm,\n        disabled: disabled,\n        required: required,\n        'aria-required': required || null,\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function () {\n    this[\"\".concat(MODEL_PROP_NAME, \"Watcher\")].apply(this, arguments);\n  }), _defineProperty(_watch, \"computedLocalChecked\", function computedLocalChecked() {\n    this.computedLocalCheckedWatcher.apply(this, arguments);\n  }), _watch),\n  methods: (_methods = {}, _defineProperty(_methods, \"\".concat(MODEL_PROP_NAME, \"Watcher\"), function Watcher(newValue) {\n    if (!looseEqual(newValue, this.computedLocalChecked)) {\n      this.computedLocalChecked = newValue;\n    }\n  }), _defineProperty(_methods, \"computedLocalCheckedWatcher\", function computedLocalCheckedWatcher(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_methods, \"handleChange\", function handleChange(_ref2) {\n    var _this = this;\n\n    var checked = _ref2.target.checked;\n    var value = this.value;\n    var localChecked = checked ? value : null;\n    this.computedLocalChecked = value; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n    this.$nextTick(function () {\n      // Change is only emitted on user interaction\n      _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n      if (_this.isGroup) {\n        _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n      }\n    });\n  }), _defineProperty(_methods, \"handleFocus\", function handleFocus(event) {\n    // When in buttons mode, we need to add 'focus' class to label when input focused\n    // As it is the hidden input which has actual focus\n    if (event.target) {\n      if (event.type === 'focus') {\n        this.hasFocus = true;\n      } else if (event.type === 'blur') {\n        this.hasFocus = false;\n      }\n    }\n  }), _defineProperty(_methods, \"focus\", function focus() {\n    if (!this.isDisabled) {\n      attemptFocus(this.$refs.input);\n    }\n  }), _defineProperty(_methods, \"blur\", function blur() {\n    if (!this.isDisabled) {\n      attemptBlur(this.$refs.input);\n    }\n  }), _methods),\n  render: function render(h) {\n    var isRadio = this.isRadio,\n        isBtnMode = this.isBtnMode,\n        isPlain = this.isPlain,\n        isCustom = this.isCustom,\n        isInline = this.isInline,\n        isSwitch = this.isSwitch,\n        computedSize = this.computedSize,\n        bvAttrs = this.bvAttrs;\n    var $content = this.normalizeSlot();\n    var $input = h('input', {\n      class: [{\n        'form-check-input': isPlain,\n        'custom-control-input': isCustom,\n        // https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n        'position-static': isPlain && !$content\n      }, isBtnMode ? '' : this.stateClass],\n      directives: [{\n        name: 'model',\n        value: this.computedLocalChecked\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.value,\n        checked: this.isChecked\n      },\n      on: _objectSpread({\n        change: this.handleChange\n      }, isBtnMode ? {\n        focus: this.handleFocus,\n        blur: this.handleFocus\n      } : {}),\n      key: 'input',\n      ref: 'input'\n    });\n\n    if (isBtnMode) {\n      var $button = h('label', {\n        class: this.buttonClasses\n      }, [$input, $content]);\n\n      if (!this.isGroup) {\n        // Standalone button mode, so wrap in 'btn-group-toggle'\n        // and flag it as inline-block to mimic regular buttons\n        $button = h('div', {\n          class: ['btn-group-toggle', 'd-inline-block']\n        }, [$button]);\n      }\n\n      return $button;\n    } // If no label content in plain mode we dont render the label\n    // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n\n\n    var $label = h();\n\n    if (!(isPlain && !$content)) {\n      $label = h('label', {\n        class: {\n          'form-check-label': isPlain,\n          'custom-control-label': isCustom\n        },\n        attrs: {\n          for: this.safeId()\n        }\n      }, $content);\n    }\n\n    return h('div', {\n      class: [_defineProperty({\n        'form-check': isPlain,\n        'form-check-inline': isPlain && isInline,\n        'custom-control': isCustom,\n        'custom-control-inline': isCustom && isInline,\n        'custom-checkbox': isCustom && !isRadio && !isSwitch,\n        'custom-switch': isSwitch,\n        'custom-radio': isCustom && isRadio\n      }, \"b-custom-control-\".concat(computedSize), computedSize && !isBtnMode), bvAttrs.class],\n      style: bvAttrs.style\n    }, [$input, $label]);\n  }\n});","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n// Unique ID for DOM attribute\nvar guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return __assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown: function (ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter.apply(void 0, args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce(function (str, arg, index) { return (str.replace('$' + index, arg || '')); }, formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    var parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonHints: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    var _a = seg.eventRange, def = _a.def, instance = _a.instance;\n    var url = def.url;\n    if (url) {\n        return { href: url };\n    }\n    var emitter = context.emitter, options = context.options;\n    var eventInteractive = options.eventInteractive;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs(function (ev) {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventApi(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nvar RAW_EN_LOCALE = __assign(__assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today: function (buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : \"This \" + buttonText;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint: function (eventCnt) {\n        return \"Show \" + eventCnt + \" more event\" + (eventCnt === 1 ? '' : 's');\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nvar DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nvar WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType, isTabbable) {\n    if (viewType === void 0) { viewType = 'day'; }\n    if (isTabbable === void 0) { isTabbable = true; }\n    var dateEnv = context.dateEnv, options = context.options, calendarApi = context.calendarApi;\n    var dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        var zonedDate = dateEnv.toDate(dateMarker);\n        var handleInteraction = function (ev) {\n            var customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return __assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    var queryButtonTitle = function (optionsSubset) {\n        var buttonHints = optionsSubset.buttonHints || {};\n        var buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    var footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header: header, footer: footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var sectionWidgets = {};\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    for (var sectionName in sectionStrHash) {\n        var sectionStr = sectionStrHash[sectionName];\n        var sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push.apply(viewsWithButtons, sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets: sectionWidgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    var calendarButtonHints = calendarOptions.buttonHints || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    var widgets = sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        var buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            var textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                var prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = function (navUnit) { return formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]); };\n            }\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText, buttonHint: buttonHint };\n    })); });\n    return { widgets: widgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: buildHtmlRenderer,\n            domNodes: buildDomNodeRenderer,\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction buildHtmlRenderer() {\n    var currentEl = null;\n    var currentHtml = '';\n    function render(el, html) {\n        if (el !== currentEl || html !== currentHtml) {\n            el.innerHTML = html;\n        }\n        currentEl = el;\n        currentHtml = html;\n    }\n    function destroy() {\n        currentEl.innerHTML = '';\n        currentEl = null;\n        currentHtml = '';\n    }\n    return { render: render, destroy: destroy };\n}\nfunction buildDomNodeRenderer() {\n    var currentEl = null;\n    var currentDomNodes = [];\n    function render(el, domNodes) {\n        var newDomNodes = Array.prototype.slice.call(domNodes);\n        if (el !== currentEl || !isArraysEqual(currentDomNodes, newDomNodes)) {\n            // append first, remove second (for scroll resetting)\n            for (var _i = 0, newDomNodes_1 = newDomNodes; _i < newDomNodes_1.length; _i++) {\n                var newNode = newDomNodes_1[_i];\n                el.appendChild(newNode);\n            }\n            destroy();\n        }\n        currentEl = el;\n        currentDomNodes = newDomNodes;\n    }\n    function destroy() {\n        currentDomNodes.forEach(removeElement);\n        currentDomNodes = [];\n        currentEl = null;\n    }\n    return { render: render, destroy: destroy };\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon, buttonHint = widget.buttonHint;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                var isPressed = buttonName === props.activeButton;\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var sectionWidgets = model.sectionWidgets;\n        var centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // eslint-disable-next-line\n        _this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        var viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { \"aria-label\": dateEnv.format(date, WEEKDAY_FORMAT), className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        var roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', roleAttrs], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', roleAttrs], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', roleAttrs], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', roleAttrs], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg, context)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            titleId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMouseDown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleDocumentKeyDown = function (ev) {\n            if (ev.key === 'Escape') {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this, props = _b.props, state = _b.state;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : \"+\" + moreCnt + \" \" + moreLinkText;\n            var title = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick, title, state.isPopoverOpen, state.isPopoverOpen ? state.popoverId : ''); })),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.10.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkAttrs, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createAriaClickAttrs, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegAnchorAttrs, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, getUniqueDomId, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","module.exports = __webpack_public_path__ + \"img/5-small.a4eb6d6e.png\";","var Ripple = {\n    bind: function(el, binding){\n\n        // Default values.\n        var props = {\n            event: 'mousedown',\n            transition: 600\n        };\n\n        setProps(Object.keys(binding.modifiers),props);\n\n        el.addEventListener(props.event, function(event) {\n            rippler(event, el, binding.value);\n        });\n\n        var bg = binding.value || Ripple.color || 'rgba(0, 0, 0, 0.35)';\n        var zIndex = Ripple.zIndex || '9999';\n\n        function rippler(event, el) {\n            var target = el;\n            // Get border to avoid offsetting on ripple container position\n            var targetBorder = parseInt((getComputedStyle(target).borderWidth).replace('px', ''));\n\n            // Get necessary variables\n            var rect        = target.getBoundingClientRect(),\n                left        = rect.left,\n                top         = rect.top,\n                width       = target.offsetWidth,\n                height      = target.offsetHeight,\n                dx          = event.clientX - left,\n                dy          = event.clientY - top,\n                maxX        = Math.max(dx, width - dx),\n                maxY        = Math.max(dy, height - dy),\n                style       = window.getComputedStyle(target),\n                radius      = Math.sqrt((maxX * maxX) + (maxY * maxY)),\n                border      = (targetBorder > 0 ) ? targetBorder : 0;\n\n            // Create the ripple and its container\n            var ripple = document.createElement(\"div\"),\n                rippleContainer = document.createElement(\"div\");\n                rippleContainer.className = 'ripple-container';\n                ripple.className = 'ripple';\n\n            //Styles for ripple\n            ripple.style.marginTop= '0px';\n            ripple.style.marginLeft= '0px';\n            ripple.style.width= '1px';\n            ripple.style.height= '1px';\n            ripple.style.transition= 'all ' + props.transition + 'ms cubic-bezier(0.4, 0, 0.2, 1)';\n            ripple.style.borderRadius= '50%';\n            ripple.style.pointerEvents= 'none';\n            ripple.style.position= 'relative';\n            ripple.style.zIndex= zIndex;\n            ripple.style.backgroundColor  = bg;\n\n            //Styles for rippleContainer\n            rippleContainer.style.position= 'absolute';\n            rippleContainer.style.left = 0 - border + 'px';\n            rippleContainer.style.top = 0 - border + 'px';\n            rippleContainer.style.height = '0';\n            rippleContainer.style.width = '0';\n            rippleContainer.style.pointerEvents = 'none';\n            rippleContainer.style.overflow = 'hidden';\n\n            // Store target position to change it after\n            var storedTargetPosition =  ((target.style.position).length > 0) ? target.style.position : getComputedStyle(target).position;\n            // Change target position to relative to guarantee ripples correct positioning\n            if (storedTargetPosition !== 'relative') {\n                target.style.position = 'relative';\n            }\n\n            rippleContainer.appendChild(ripple);\n            target.appendChild(rippleContainer);\n\n            ripple.style.marginLeft   = dx + \"px\";\n            ripple.style.marginTop    = dy + \"px\";\n\n            // No need to set positioning because ripple should be child of target and to it's relative position.\n            // rippleContainer.style.left    = left + (((window.pageXOffset || document.scrollLeft) - (document.clientLeft || 0)) || 0) + \"px\";\n            // rippleContainer.style.top     = top + (((window.pageYOffset || document.scrollTop) - (document.clientTop || 0)) || 0) + \"px\";\n            rippleContainer.style.width   = width + \"px\";\n            rippleContainer.style.height  = height + \"px\";\n            rippleContainer.style.borderTopLeftRadius  = style.borderTopLeftRadius;\n            rippleContainer.style.borderTopRightRadius  = style.borderTopRightRadius;\n            rippleContainer.style.borderBottomLeftRadius  = style.borderBottomLeftRadius;\n            rippleContainer.style.borderBottomRightRadius  = style.borderBottomRightRadius;\n\n            rippleContainer.style.direction = 'ltr';\n\n            setTimeout(function() {\n                ripple.style.width  = radius * 2 + \"px\";\n                ripple.style.height = radius * 2 + \"px\";\n                ripple.style.marginLeft   = dx - radius + \"px\";\n                ripple.style.marginTop    = dy - radius + \"px\";\n            }, 0);\n\n            function clearRipple() {\n                setTimeout(function() {\n                    ripple.style.backgroundColor = \"rgba(0, 0, 0, 0)\";\n                }, 250);\n\n                // Timeout set to get a smooth removal of the ripple\n                setTimeout(function() {\n                    rippleContainer.parentNode.removeChild(rippleContainer);\n                }, 850);\n\n                el.removeEventListener('mouseup', clearRipple, false);\n\n                // After removing event set position to target to it's original one\n                // Timeout it's needed to avoid jerky effect of ripple jumping out parent target\n                setTimeout(function () {\n\n                    var clearPosition = true;\n                    for(var i = 0; i < target.childNodes.length; i++) {\n                        if(target.childNodes[i].className === 'ripple-container') {\n                            clearPosition = false;\n                        }\n                    }\n\n                    if(clearPosition) {\n                        if(storedTargetPosition !== 'static') {\n                            target.style.position = storedTargetPosition;\n                        } else {\n                            target.style.position = '';\n                        }\n                    }\n\n                }, props.transition + 250)\n            }\n\n            if(event.type === 'mousedown') {\n                el.addEventListener('mouseup', clearRipple, false);\n            } else {\n                clearRipple();\n            }\n        }\n    }\n};\n\nfunction setProps(modifiers,props) {\n    modifiers.forEach(function(item) {\n        if(isNaN(Number(item)))\n            props.event = item;\n        else\n            props.transition = item;\n    });\n}\n\nexport default Ripple;","/*!\nFullCalendar v5.10.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { getUniqueDomId, getDateMeta, buildNavLinkAttrs, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            textId: getUniqueDomId(),\n        };\n        return _this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options, viewApi = _a.viewApi;\n        var _b = this.props, cellId = _b.cellId, dayDate = _b.dayDate, todayRange = _b.todayRange;\n        var textId = this.state.textId;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId: textId,\n            text: text,\n            sideText: sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", __assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg, timeHeaderId = props.timeHeaderId, eventHeaderId = props.eventHeaderId, dateHeaderId = props.dateHeaderId;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: function () { return renderEventInnerContent(seg, context); } /* weird */, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { ref: innerElRef, headers: eventHeaderId + \" \" + dateHeaderId, className: \"fc-list-event-title\" }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(seg, context) {\n    var interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", __assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, headers: timeHeaderId + \" \" + dateHeaderId, className: ['fc-list-event-time'].concat(classNames).join(' ') }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this.state, timeHeaderId = _b.timeHeaderId, eventHeaderId = _b.eventHeaderId, dateHeaderIdRoot = _b.dateHeaderIdRoot;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = formatDayString(dayDates[dayIndex]);\n                    var dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n//# sourceMappingURL=main.js.map\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&(\"function\"==typeof u.type&&null!=x[h].__e&&x[h].__e==u.__d&&(u.__d=_(i,h+1)),N(x[h],x[h]));if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof H){if(g=u.props,m=(a=H.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in H&&H.prototype.render?u.__c=h=new H(g,x):(u.__c=h=new d(g,x),h.constructor=H,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=H.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,H.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==H.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==H.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,A=l.__r,C=0,\"prototype\"in H&&H.prototype.render)h.state=h.__s,h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context);else do{h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++C<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),$=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray($)?$:[$],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{P as render,S as hydrate,h as createElement,h,p as Fragment,y as createRef,i as isValidElement,d as Component,q as cloneElement,B as createContext,x as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o,i=0,c=[],f=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function p(t,r){n.__h&&n.__h(u,t,i||r),i=0;var o=u.__H||(u.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:f}),o.__[t]}function y(n){return i=1,d(z,n)}function d(n,r,o){var i=p(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):z(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function _(r,o){var i=p(t++,3);!n.__s&&w(i.__H,o)&&(i.__=r,i.u=o,u.__H.__h.push(i))}function h(r,o){var i=p(t++,4);!n.__s&&w(i.__H,o)&&(i.__=r,i.u=o,u.__h.push(i))}function s(n){return i=5,F(function(){return{current:n}},[])}function A(n,t,u){i=6,h(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==u?u:u.concat(n))}function F(n,u){var r=p(t++,7);return w(r.__H,u)?(r.__V=n(),r.u=u,r.__h=n,r.__V):r.__}function T(n,t){return i=8,F(function(){return n},t)}function q(n){var r=u.context[n.__c],o=p(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function x(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function V(n){var r=p(t++,10),o=y();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function b(){for(var t;t=c.shift();)if(t.__P)try{t.__H.__h.forEach(j),t.__H.__h.forEach(k),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}n.__b=function(n){u=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var o=(u=n.__c).__H;o&&(r===u?(o.__h=[],u.__h=[],o.__.forEach(function(n){n.__V=f,n.u=void 0})):(o.__h.forEach(j),o.__h.forEach(k),o.__h=[])),r=u},n.diffed=function(t){v&&v(t);var i=t.__c;i&&i.__H&&(i.__H.__h.length&&(1!==c.push(i)&&o===n.requestAnimationFrame||((o=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),g&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);g&&(t=requestAnimationFrame(u))})(b)),i.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.__V!==f&&(n.__=n.__V),n.u=void 0,n.__V=f})),r=u=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(j),t.__h=t.__h.filter(function(n){return!n.__||k(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),l&&l(t,u)},n.unmount=function(t){m&&m(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{j(n)}catch(n){u=n}}),u&&n.__e(u,r.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function k(n){var t=u;n.__c=n.__(),u=t}function w(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function z(n,t){return\"function\"==typeof t?t(n):t}export{y as useState,d as useReducer,_ as useEffect,h as useLayoutEffect,s as useRef,A as useImperativeHandle,F as useMemo,T as useCallback,q as useContext,x as useDebugValue,V as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as v,Fragment as d,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:C(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var x=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function R(n){function t(t){var e=S({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=x,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:v(v(n).map(t))},k={map:N,forEach:N,count:function(n){return n?v(n).length:0},only:function(n){var t=v(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:v},A=h.__e;h.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);A(n,t,e,r)};var O=h.unmount;function T(){this.__u=0,this.t=null,this.__b=null}function L(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function U(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function D(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(T.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=L(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},T.prototype.componentWillUnmount=function(){this.t=[]},T.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__a&&s(d,null,n.fallback);return u&&(u.__h=null),[s(d,null,t.__a?null:n.children),u]};var F=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function I(n){return this.getChildContext=function(){return n.context},n.children}function M(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(I,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function V(n,t){var e=s(M,{__v:n,i:t});return e.containerInfo=t,e}(D.prototype=new a).__a=function(n){var t=this,e=L(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),F(t,n,r)):u()};e?e(o):o()}},D.prototype.render=function(n){this.u=null,this.o=new Map;var t=v(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},D.prototype.componentDidUpdate=D.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){F(n,e,t)})};var W=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$=\"undefined\"!=typeof document,j=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function q(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];$&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!j(e.type)?o=\"oninput\":/^onfocus$/i.test(o)?o=\"onfocusin\":/^onblur$/i.test(o)?o=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():u&&P.test(o)?o=o.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===i&&(i=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o=\"oninputCapture\")),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=v(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=v(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r,e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J))}n.$$typeof=W,K&&K(n)};var Q=h.__r;h.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return s.bind(null,n)}function en(n){return!!n&&n.$$typeof===W}function rn(n){return en(n)?y.apply(null,arguments):n}function un(n){return!!n.__k&&(p(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},fn=function(n,t){return n(t)},cn=d;function an(n){n()}function sn(n){return n}function hn(){return[!1,an]}var vn=r;function dn(t,r){var u=n(r),o=u[0],i=u[1];return e(function(){return t(function(){i(r())})},[t,r]),o}export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useInsertionEffect:r,useTransition:hn,useDeferredValue:sn,useSyncExternalStore:dn,startTransition:an,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"17.0.2\",Children:k,render:z,hydrate:B,unmountComponentAtNode:un,createPortal:V,createElement:s,createContext:_,createFactory:tn,cloneElement:rn,createRef:b,Fragment:d,isValidElement:en,findDOMNode:on,Component:a,PureComponent:E,memo:g,forwardRef:R,flushSync:fn,unstable_batchedUpdates:ln,StrictMode:d,Suspense:T,SuspenseList:D,lazy:U,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X};export{an as startTransition,sn as useDeferredValue,hn as useTransition,vn as useInsertionEffect,dn as useSyncExternalStore,nn as version,k as Children,z as render,B as hydrate,un as unmountComponentAtNode,V as createPortal,tn as createFactory,rn as cloneElement,en as isValidElement,on as findDOMNode,E as PureComponent,g as memo,R as forwardRef,fn as flushSync,ln as unstable_batchedUpdates,cn as StrictMode,T as Suspense,D as SuspenseList,U as lazy,X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","export var OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","// TODO: add types!\nimport { __assign } from \"tslib\";\n/*\nworks with objects and arrays\n*/\nexport function shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = __assign({}, val);\n        }\n    }\n    return val;\n}\nexport function mapHash(input, func) {\n    var output = {};\n    for (var key in input) {\n        if (input.hasOwnProperty(key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n//# sourceMappingURL=utils.js.map","import Vue from 'vue';\nimport { createPlugin } from '@fullcalendar/core';\n/*\nwrap it in an object with a `vue` key, which the custom content-type handler system will look for\n*/\nexport function wrapVDomGenerator(vDomGenerator) {\n    return function (props) {\n        return { vue: vDomGenerator(props) };\n    };\n}\nexport function createVueContentTypePlugin(parent) {\n    return createPlugin({\n        contentTypeHandlers: {\n            vue: function () { return buildVDomHandler(parent); }, // looks for the `vue` key\n        }\n    });\n}\nfunction buildVDomHandler(parent) {\n    var currentEl;\n    var v; // the Vue instance\n    function render(el, vDomContent) {\n        if (currentEl !== el) {\n            if (currentEl && v) { // if changing elements, recreate the vue\n                v.$destroy();\n            }\n            currentEl = el;\n        }\n        if (!v) {\n            v = initVue(vDomContent, parent);\n            // vue's mount method *replaces* the given element. create an artificial inner el\n            var innerEl = document.createElement('span');\n            el.appendChild(innerEl);\n            v.$mount(innerEl);\n        }\n        else {\n            v.content = vDomContent;\n        }\n    }\n    function destroy() {\n        if (v) { // needed?\n            v.$destroy();\n        }\n    }\n    return { render: render, destroy: destroy };\n}\nfunction initVue(initialContent, parent) {\n    return new Vue({\n        parent: parent,\n        data: {\n            content: initialContent,\n        },\n        render: function (h) {\n            var content = this.content;\n            // the slot result can be an array, but the returned value of a vue component's\n            // render method must be a single node.\n            if (content.length === 1) {\n                return content[0];\n            }\n            else {\n                return h('span', {}, content);\n            }\n        }\n    });\n}\n//# sourceMappingURL=custom-content-type.js.map","import { __assign } from \"tslib\";\nimport Vue from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { OPTION_IS_COMPLEX } from './options';\nimport { shallowCopy, mapHash } from './utils';\nimport { wrapVDomGenerator, createVueContentTypePlugin } from './custom-content-type';\nvar FullCalendar = Vue.extend({\n    props: {\n        options: Object\n    },\n    data: initData,\n    render: function (createElement) {\n        return createElement('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        });\n    },\n    mounted: function () {\n        var internal = this.$options;\n        internal.scopedSlotOptions = mapHash(this.$scopedSlots, wrapVDomGenerator); // needed for buildOptions\n        var calendar = new Calendar(this.$el, this.buildOptions(this.options, this));\n        internal.calendar = calendar;\n        calendar.render();\n    },\n    methods: {\n        getApi: getApi,\n        buildOptions: buildOptions,\n    },\n    beforeUpdate: function () {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    beforeDestroy: function () {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nfunction initData() {\n    return {\n        renderId: 0\n    };\n}\nfunction buildOptions(suppliedOptions, parent) {\n    var internal = this.$options;\n    suppliedOptions = suppliedOptions || {};\n    return __assign(__assign(__assign({}, internal.scopedSlotOptions), suppliedOptions), { plugins: (suppliedOptions.plugins || []).concat([\n            createVueContentTypePlugin(parent)\n        ]) });\n}\nfunction getApi() {\n    var internal = this.$options;\n    return internal.calendar;\n}\nfunction buildWatchers() {\n    var watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler: function (options) {\n                var calendar = this.getApi();\n                calendar.pauseRendering();\n                calendar.resetOptions(this.buildOptions(options, this));\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    var _loop_1 = function (complexOptionName) {\n        // handlers called when nested objects change\n        watchers[\"options.\" + complexOptionName] = {\n            deep: true,\n            handler: function (val) {\n                var _a;\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    var calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions((_a = {},\n                        // the only reason we shallow-copy is to trick FC into knowing there's a nested change.\n                        // TODO: future versions of FC will more gracefully handle event option-changes that are same-reference.\n                        _a[complexOptionName] = shallowCopy(val),\n                        _a), true);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    };\n    for (var complexOptionName in OPTION_IS_COMPLEX) {\n        _loop_1(complexOptionName);\n    }\n    return watchers;\n}\nexport default FullCalendar;\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar';\n/*\nRegisters the component globally if appropriate.\nThis modules exposes the component AND an install function.\n\nDerived from:\nhttps://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\n*/\nvar installed = false;\n// declare install function executed by Vue.use()\nexport function install(Vue) {\n    if (!installed) {\n        installed = true;\n        Vue.component('FullCalendar', FullCalendarComponent);\n    }\n}\n// detect a globally availble version of Vue (eg. in browser via <script> tag)\nvar GlobalVue;\nif (typeof globalThis !== 'undefined') {\n    GlobalVue = globalThis.Vue;\n}\nelse {\n    GlobalVue = window.Vue;\n}\n// auto-install if possible\nif (GlobalVue) {\n    GlobalVue.use({\n        install: install\n    });\n}\n// to allow use as module (npm/webpack/etc.) export component\nexport default FullCalendarComponent;\n// so can access any of the utils/types from this lib\nexport * from '@fullcalendar/core';\n//# sourceMappingURL=main.js.map","module.exports = __webpack_public_path__ + \"img/9-small.30df7a62.png\";"],"sourceRoot":""}