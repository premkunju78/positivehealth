{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue?bbcf","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue","webpack:///./node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue?6daf","webpack:///./node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue","webpack:///./node_modules/@voerro/vue-tagsinput/src/main.js","webpack:///./node_modules/core-js/modules/es.date.to-string.js","webpack:///./node_modules/bootstrap-vue/esm/components/form/form.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./node_modules/core-js/modules/es.array.is-array.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-radio/form-radio-group.js","webpack:///./node_modules/bootstrap-vue/esm/components/media/media.js","webpack:///./node_modules/@fullcalendar/daygrid/main.js","webpack:///./node_modules/@fullcalendar/timegrid/main.js","webpack:///./node_modules/vue-select/dist/vue-select.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/flatpickr/dist/esm/types/options.js","webpack:///./node_modules/flatpickr/dist/esm/l10n/default.js","webpack:///./node_modules/flatpickr/dist/esm/utils/index.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dom.js","webpack:///./node_modules/flatpickr/dist/esm/utils/formatting.js","webpack:///./node_modules/flatpickr/dist/esm/utils/dates.js","webpack:///./node_modules/flatpickr/dist/esm/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/flatpickr/dist/esm/utils/polyfills.js","webpack:///./node_modules/bootstrap-vue/esm/components/media/media-aside.js","webpack:///./node_modules/bootstrap-vue/esm/components/media/media-body.js","webpack:///./node_modules/core-js/modules/es.string.search.js","webpack:///./node_modules/core-js/modules/es.string.ends-with.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/bootstrap-vue/esm/directives/visible/visible.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-textarea/form-textarea.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-radio/form-radio.js","webpack:///./node_modules/@fullcalendar/interaction/main.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-custom.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./node_modules/vue-flatpickr-component/dist/vue-flatpickr.min.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-checkbox/form-checkbox.js","webpack:///./node_modules/bootstrap-vue/esm/utils/loose-index-of.js","webpack:///./node_modules/bootstrap-vue/esm/components/form-file/form-file.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/@core/utils/utils.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check.js","webpack:///./node_modules/@fullcalendar/common/vdom.js","webpack:///./node_modules/@fullcalendar/common/main.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/vue-ripple-directive/src/ripple.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/@fullcalendar/list/main.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-radio-check-group.js","webpack:///./node_modules/bootstrap-vue/esm/mixins/form-options.js","webpack:///./node_modules/preact/dist/preact.module.js","webpack:///./node_modules/preact/hooks/dist/hooks.module.js","webpack:///./node_modules/preact/compat/dist/compat.module.js","webpack:///./node_modules/@fullcalendar/core/vdom.js","webpack:///./node_modules/@fullcalendar/core/main.js","webpack:///./node_modules/@fullcalendar/vue/dist/options.js","webpack:///./node_modules/@fullcalendar/vue/dist/utils.js","webpack:///./node_modules/@fullcalendar/vue/dist/custom-content-type.js","webpack:///./node_modules/@fullcalendar/vue/dist/FullCalendar.js","webpack:///./node_modules/@fullcalendar/vue/dist/main.js","webpack:///./src/views/workflow/calendar.vue?04f0","webpack:///./src/views/workflow/calendar.vue?527b","webpack:///src/views/workflow/calendar.vue","webpack:///./src/views/workflow/calendar.vue?82e2","webpack:///./src/views/workflow/calendar.vue"],"names":["_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","render","_obj","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","class","wrapperClass","isActive","disabled","_l","tag","index","key","_t","domProps","_s","textField","directives","rawName","value","expression","attrs","on","$event","preventDefault","removeTag","hideInputField","ref","inputId","placeholder","input","e","target","composing","type","indexOf","_k","keyCode","tagFromInput","removeLastTag","apply","arguments","nextSearchResult","prevSearchResult","onKeyDown","onKeyUp","clearSearchResults","onFocus","onClick","onBlur","tags","elementId","hiddenInputValue","_e","searchResults","typeaheadStyle","typeaheadHideDiscard","discardSearchText","searchSelection","tagFromSearchOnClick","getDisplayField","staticRenderFns","_arrayWithoutHoles","arr","isArray","_iterableToArray","iter","Symbol","iterator","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","component","window","VoerroTagsInput","redefine","DatePrototype","Date","INVALID_DATE","TO_STRING","nativeDateToString","getTime","NaN","props","id","inline","novalidate","validated","BForm","extend","functional","h","_ref","data","children","fixRegExpWellKnownSymbolLogic","isRegExp","anObject","requireObjectCoercible","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","fails","arrayPush","push","min","Math","MAX_UINT32","SUPPORTS_Y","RegExp","SPLIT","nativeSplit","maybeCallNative","internalSplit","split","length","separator","limit","string","String","lim","undefined","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","source","O","splitter","regexp","res","done","rx","S","C","unicodeMatching","p","q","A","z","i","module","exports","is","x","y","$","stat","BFormRadioGroup","mixins","provide","bvRadioGroup","computed","isRadioGroup","noBody","rightAlign","verticalAlign","BMedia","slots","scopedSlots","$children","slotScope","$slots","$scopedSlots","$aside","right","TableView","_super","_this","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","_a","context","sections","stickyHeaderDates","options","isSticky","chunk","elRef","tableClassName","rowContent","liquid","content","viewSpec","rootElRef","classNames","className","concat","join","isHeightAuto","forPrint","collapsibleWidth","cols","renderHScrollLayout","colCnt","dayMinWidth","ScrollGrid","pluginHooks","scrollGridImpl","Error","stickyFooterScrollbar","chunks","colGroups","span","minWidth","splitSegsByRow","segs","rowCnt","byRow","_i","segs_1","seg","row","splitSegsByFirstCol","byCol","segs_2","firstCol","splitInteractionByRow","ui","affectedInstances","isEvent","TableCellTop","navLinkAttrs","date","dateProfile","todayRange","showDayNumber","extraHookProps","defaultContent","renderTopInner","innerElRef","innerContent","forceDayTop","dayNumberId","dayNumberText","DEFAULT_TABLE_EVENT_TIME_FORMAT","hour","minute","omitZeroMinute","meridiem","hasListItemDisplay","display","eventRange","def","allDay","lastCol","isStart","isEnd","TableBlockEvent","extraClassNames","defaultTimeFormat","defaultDisplayEventEnd","disableResizing","TableListItemEvent","timeFormat","eventTimeFormat","timeText","renderInnerContent","isDragging","isResizing","isDateSelecting","isSelected","isPast","isFuture","isToday","innerProps","style","borderColor","backgroundColor","event","title","TableCellMoreLink","compileSegs","singlePlacements","allSegs","invisibleSegs","allDayDate","moreCnt","hiddenSegs","alignmentElRef","alignGridTop","extraDateSpan","popoverContent","isForcedInvisible","eventDrag","eventResize","map","instanceId","instance","visibility","eventSelection","handleClick","isExpanded","popoverId","singlePlacements_1","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","week","TableCell","state","handleRootEl","el","dayElRef","dayClassNames","rootDataAttrs","isDisabled","role","extraDataAttrs","showWeekNumber","defaultFormat","weekElRef","weekClassNames","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","dayMaxEvents","dayMaxEventRows","strictOrder","eventInstanceHeights","maxContentHeight","cells","hierarchy","DayGridSegHierarchy","allowReslicing","maxCoord","hiddenConsumes","maxStackCnt","segInputs","unknownHeightSegs","eventHeight","thickness","start","end","hiddenEntries","addSegs","segRects","toRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","unknownHeightSegs_1","isAbsolute","absoluteTop","col","resliceSeg","_b","hiddenEntries_1","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","rects","currentHeight","currentMarginTop","rects_1","rect","levelCoord","multiPlacements","rects_2","isFirstCol","rects_3","spanStart","spanEnd","origRange","range","slicedRange","durationEditable","valueOf","forceHidden","entriesByLevel","excludeHidden","entry","level","filter","handleInvalidInsertion","insertion","touchingEntry","touchingLevel","touchingLateral","touchingEntryId","placeholderEntry","placeholderEntryId","splitEntry","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","businessHourSegs","bgEventSegsByCol","bgEventSegs","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","fgEventSegs","eventOrder","eventOrderStrict","renderIntro","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","Boolean","createRef","showDayNumbers","showWeekNumbers","renderFillSegs","componentDidMount","updateSizing","componentDidUpdate","prevProps","prevState","currentProps","dateSelectionSegs","segPlacements","isMirror","nodes","segPlacements_1","left","isRtl","lefts","rights","top","fillType","leftRightCss","isExternalSizingChange","clientWidth","frameEls","currentMap","originEl","current","setState","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","height","round","getBoundingClientRect","max","firstKey","cellEl","fcContainerEl","bottom","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","colPlacements_1","placements","placements_1","addStateEquality","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","rootEl","registerInteractiveComponent","isHitComboAllowed","unregisterInteractiveComponent","expandRows","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","width","tableMinWidth","unit","nowDate","clientHeight","colGroupNode","toISOString","renderRowIntro","isSegAllDay","prepareHits","rowPositions","collect","rowObj","colPositions","queryHit","positionLeft","positionTop","leftToIndex","topToIndex","dateSpan","getCellRange","dayEl","getCellEl","tops","bottoms","layer","DayTableSlicer","forceDayIfListItem","sliceRange","dateRange","dayTableModel","DayTable","slicer","tableRef","sliceProps","nextDayThreshold","headerAlignElRef","DayTableView","buildDayTableModel","headerRef","dateProfileGenerator","headerContent","dayHeaders","dates","headerDates","datesRepDistinctDays","contentArg","businessHours","dateSelection","eventStore","eventUiBases","tableColGroupNode","weekNumbers","daySeries","renderRange","currentRangeUnit","TableDateProfileGenerator","buildRenderRange","currentRange","isRangeAllDay","endOfWeek","dateEnv","startOfWeek","monthMode","fixedWeekCount","ceil","main","initialView","views","dayGrid","dateProfileGeneratorClass","dayGridDay","duration","days","dayGridWeek","weeks","dayGridMonth","months","AllDaySplitter","getKeyInfo","timed","getKeysForDateSpan","getKeysForEventDef","eventDef","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","Consumer","isoTimeStr","viewApi","labelFormat","slotLabelFormat","hookProps","time","toDate","view","text","format","slotLabelClassNames","slotLabelContent","didMount","slotLabelDidMount","willUnmount","slotLabelWillUnmount","customClassNames","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","scrollerElRef","slatCoords","handleScrollTopRequest","scrollTop","scrollerEl","renderHeadAxis","rowKey","frameHeight","dayCnt","renderTableRowAxis","rowHeight","allDayText","allDayClassNames","allDayContent","renderAllDayInner","allDayDidMount","allDayWillUnmount","handleSlatCoords","timeContent","outerContent","theme","getClass","syncRowHeights","arg","rowSyncHeights","colSpan","isNowIndicator","nowIndicator","nowIndicatorTop","safeComputeTop","isAxis","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","slotDuration","startOfDayDate","timeMs","slotMinTime","slotMaxTime","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","len","els","slatCoverage","milliseconds","floor","getHeight","TimeColsSlatsBody","slatElRefs","axis","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","TimeColsSlats","minHeight","componentWillUnmount","onCoords","offsetHeight","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderMoreLinkInner","renderPlainFgSegs","shortText","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","lateral","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","sort","cmpDescPressures","extractNode","a","b","subjectLevel","subjectLateral","levelCoords","subjectEntry","afterSubject","levelCnt","entries","searchIndex","topLevelNodes","totalThickness","stretchNode","node","startCoord","prevThickness","endCoord","allThickness","thicknessFraction","newChildren","nextLevelNodes_1","childNode","newThickness","processNode","stackDepth","stackForward","processNodes","nodes_1","keyFunc","workFunc","cache","args","computeSegVCoords","colDate","eventMinHeight","vcoords","computeFgSegPlacements","segVCoords","eventMaxStack","dumbSegs","segRects_1","segRect","dumbSegs_1","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeColMisc","TimeCol","sortEventSegs","isSelectMirror","selectMirror","interactionAffectedInstances","sortedFgSegs","dataAttrs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","eventShortHeight","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","slotEventOverlap","nearCoord","farCoord","zIndex","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","handleScrollRequest","request","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","createScrollResponder","update","detach","snapDuration","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","add","snapDurationOverride","DayTimeColsSlicer","dayRanges","segRange","DayTimeCols","buildDayRanges","timeColsRef","sliceNowDate","ranges","STOCK_SUB_DURATIONS","hours","minutes","seconds","buildSlatMetas","explicitLabelInterval","dayStart","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","splitProps","slotLabelInterval","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","OPTION_REFINERS","optionRefiners","timeGrid","usesMinMaxTime","timeGridDay","timeGridWeek","t","self","l","m","c","d","defineProperty","enumerable","get","r","toStringTag","__esModule","create","bind","default","hasOwnProperty","s","configurable","writable","autoscroll","watch","typeAheadPointer","maybeAdjustScroll","methods","$refs","dropdownMenu","getDropdownViewport","offsetTop","u","filteredOptions","selectable","typeAheadUp","typeAheadDown","typeAheadSelect","select","loading","mutableLoading","search","$emit","toggleLoading","_compiled","_scopeId","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","beforeCreate","Deselect","xmlns","OpenIndicator","f","inserted","appendToBody","toggle","scrollX","pageXOffset","scrollY","pageYOffset","unbindPosition","calculatePosition","document","body","appendChild","unbind","parentNode","removeChild","keys","forEach","JSON","stringify","g","v","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","_","components","clearable","searchable","multiple","transition","clearSearchOnSelect","closeOnSelect","label","autocomplete","reduce","Function","getOptionLabel","console","warn","getOptionKey","onTab","selectOnTab","isComposing","taggable","tabindex","Number","pushTags","filterable","filterBy","toLowerCase","createOption","optionList","resetOnOptionsChange","validator","includes","clearSearchOnBlur","noDrop","dir","selectOnKeyCodes","searchInputQuerySelector","mapKeydown","uid","open","pushedTags","_value","selectedValue","clearSelection","isTrackingValues","setInternalValueFromOptions","created","$on","pushTag","$data","findOptionFromReducedValue","isOptionSelected","optionExists","updateValue","onAfterSelect","deselect","optionComparator","searchEl","blur","toggleDropdown","deselectButtons","clearButton","some","contains","focus","find","closeSearchOptions","maybeDeleteValue","normalizeOptionForSlot","onEscape","onSearchBlur","mousedown","searching","onSearchFocus","onMousedown","onMouseUp","onSearchKeyDown","8","9","27","38","40","propsData","selectedOptions","querySelector","scope","attributes","searchPlaceholder","readonly","dropdownOpen","events","compositionstart","compositionend","keydown","spinner","noOptions","openIndicator","listHeader","listFooter","header","footer","childComponents","stateClasses","isValueEmpty","unshift","showClearButton","_v","refInFor","click","option","_g","mouseup","mouseover","stopPropagation","w","ajax","pointer","pointerScroll","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIteratorMethod","arrayLike","result","step","next","argumentsLength","mapfn","mapping","iteratorMethod","aFunction","arrayMethodIsStrict","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STRICT_METHOD","FORCED","proto","forced","comparefn","toInteger","regExpExec","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","REPLACE","nativeReplace","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","global","fullUnicode","results","matchStr","accumulatedResult","nextSourcePosition","matched","position","captures","j","namedCaptures","groups","replacerArgs","replacement","getSubstitution","str","tailPos","symbols","ch","capture","charAt","HOOKS","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","navigator","userAgent","ariaDateFormat","autoFillDefaultTime","clickOpens","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","getWeek","givenDate","setHours","setDate","getDate","getDay","week1","getFullYear","hourIncrement","ignoredFocusElements","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","positionElement","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","wrap","english","weekdays","shorthand","longhand","daysInMonth","firstDayOfWeek","ordinal","nth","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","bool","debounce","fn","wait","clearTimeout","setTimeout","arrayify","obj","toggleClass","elem","classList","remove","createElement","textContent","clearNode","firstChild","findParent","condition","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","getEventTarget","composedPath","path","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","parseFloat","H","J","day","K","getHours","M","shortMonth","setSeconds","U","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","setMinutes","month","unixMillSeconds","tokenRegex","getMonth","getSeconds","getMinutes","substring","createDateFormatter","config","l10n","isMobile","frmt","overrideLocale","formatDate","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","datestr","trim","parseDate","ops","matchIndex","regexStr","token","isBackSlash","escaped","exec","val","isNaN","compareDates","date1","date2","isBetween","ts","ts1","ts2","DAY","getDefaultHours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","assign","flatpickr","defaultConfig","setupHelperFunctions","utils","currentMonth","yr","currentYear","init","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","setHoursFromDate","latestSelectedDateObj","setCalendarWidth","isSafari","positionCalendar","triggerEvent","bindToInstance","requestAnimationFrame","calendarContainer","daysContainer","daysWidth","offsetWidth","weekWrapper","removeProperty","updateTime","defaultDate","defaults","getMilliseconds","timeWrapper","prevValue","_input","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","onYearInput","eventTarget","delta","changeYear","handler","ev","addEventListener","_handlers","removeEventListener","triggerChange","evt","querySelectorAll","setupMobile","debouncedResize","onResize","onMouseOver","ontouchstart","documentClick","monthNav","onMonthNavClick","selectDate","timeContainer","selText","timeIncrement","jumpToDate","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","redraw","incrementNumInput","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","nodeType","insertBefore","nextSibling","createDay","dayNumber","dateIsEnabled","isEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","abs","changeMonth","focusOnDay","offset","dayFocused","isInView","activeElement","startElem","buildMonthDays","firstOfMonth","prevMonthDays","getDaysInMonth","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","yearElement","getElementsByTagName","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","hourInput","minuteInput","secondInput","getAttribute","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","clear","triggerChangeEvent","toInitial","mobileInput","_initialDate","close","destroy","lastChild","_type","removeAttribute","k","isCalendarElem","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","to","allowKeydown","allowInlineKeydown","isTimeObj","focusAndClose","ctrlKey","elems","pluginElements","shiftKey","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","dayElem","timestamp","outOfRange","_positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","parse","dataset","formats","_enable","set","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","l10ns","customPositionElement","calendarHeight","acc","child","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","innerHeight","showOnTop","isCenter","isRight","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","single","loadedPlugins","_bind","_setHoursFromDate","_positionCalendar","_createElement","CALLBACKS","setSelectedDate","inputDate","rule","preloadedDate","nodeName","required","inputType","mobileFormatStr","defaultValue","hooks","initEvent","getDateStr","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","HTMLElement","instances","HTMLCollection","NodeList","selector","Node","en","localize","setDefaults","jQuery","fp_incr","_arrayLikeToArray","arr2","_defineProperty","BMediaAside","align","BMediaBody","sameValue","SEARCH","nativeSearch","searcher","previousLastIndex","notARegExp","correctIsRegExpLogic","IS_PURE","nativeEndsWith","endsWith","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","descriptor","searchString","that","endPosition","extendStatics","setPrototypeOf","__proto__","__extends","__","__assign","__spreadArray","pack","ar","iteratorClose","ENTRIES","_classCallCheck","Constructor","_defineProperties","_createClass","protoProps","staticProps","OBSERVER_PROP_NAME","VisibilityObserver","vnode","callback","margin","once","observer","visible","doneOnce","createObserver","stop","IntersectionObserver","root","rootMargin","threshold","_unused","$nextTick","observe","isIntersecting","intersectionRatio","disconnect","modifiers","mod","_prevModifiers","_ref2","oldValue","VBVisible","componentUpdated","ownKeys","object","enumerableOnly","sym","_objectSpread","maxRows","noAutoShrink","noResize","rows","BFormTextarea","listeners","heightInPx","computedStyle","styles","resize","computedRows","overflowY","computedMinRows","math","computedMaxRows","computedAttrs","safeId","form","plaintext","computedAriaInvalid","computedListeners","bvListeners","onInput","change","localValue","setHeight","mounted","visibleCallback","computeHeight","$isServer","$el","lineHeight","border","borderTopWidth","borderBottomWidth","padding","paddingTop","paddingBottom","oldHeight","scrollHeight","contentRows","computedClass","BFormRadio","inject","bvGroup","computedLocalChecked","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","pev","createEventFromMouse","emitter","trigger","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","origEvent","isTouch","deltaX","origPageX","deltaY","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","button","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","needsRevertAnimation","doRevertAnimation","finalSourceElRect","getMirrorEl","cloneNode","boxSizing","ScrollGeomCache","scrollController","doesListening","getScrollTop","scrollLeft","getScrollLeft","handleScrollChange","origScrollTop","origScrollLeft","scrollWidth","getScrollWidth","getScrollHeight","getClientWidth","getClientHeight","clientRect","computeClientRect","setScrollTop","getMaxScrollTop","setScrollLeft","getMaxScrollLeft","ElementScrollGeomCache","WindowScrollGeomCache","performance","AutoScroller","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","sign","bestSide","leftDist","rightDist","topDist","bottomDist","canScrollUp","canScrollDown","canScrollLeft","canScrollRight","queryScrollEls","query","FeaturefulElementDragging","delay","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","point","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","bestHit","offsetTracker","originLeft","originTop","activeRange","componentId","hit0","hit1","buildDatePointApiWithContext","datePointTransforms","transform","buildDatePointApi","dateStr","formatIso","omitTime","DateClicking","settings","isValidDateDownEl","hitDragging","jsEvent","calendarApi","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","unselect","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSelectionTransformers","dispatch","selection","selectMinDistance","dragScroll","selectLongPressDelay","longPressDelay","dateSpan0","dateSpan1","ms","dateSelectionTransformers_1","transformer","EventDragging","subjectSeg","relevantEvents","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","eventInstanceId","getCurrentData","eventDragMinDistance","getComponentTouchDelay","fixedMirrorParent","dragRevertDuration","isValid","isValidSegDownEl","mutation","interaction","affectedEvents","mutatedEvents","receivingOptions","editable","droppable","computeEventMutation","eventDragMutationMassagers","displayDrag","initialContext_1","receivingContext_1","eventInstance","eventApi","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","defs","defId","eventChangeArg","oldEvent","relatedEvents","revert","transformed","eventDropTransformers","datesDelta","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","useEventCenter","nextContext","prevContext","initialCalendar","massagers","date0","standardProps","hasEnd","allDayMaintainDuration","largeUnit","massagers_1","massager","eventLongPressDelay","EventResizing","draggingSegEl","draggingSeg","segEl","querySegEl","computeMutation","startDelta","endDelta","isFromStart","instanceRange","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","unselectCancel","onDocumentPointerUp","documentPointer","calendarState","unselectAuto","off","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","dropAccept","defProps","leftoverProps","externalDefTransforms","refined","extra","sourceId","forceEventDuration","startTime","getEmbeddedElData","prefix","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","componentInteractions","calendarInteractions","elementDraggingImpl","listenerRefiners","toAbsoluteIndex","arraySpeciesCreate","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","plain","formCustomMixin","custom","_createForOfIteratorHelper","allowArrayLike","normalCompletion","didErr","_e2","replace","fp","getElem","fpInput","$watch","watchDisabled","immediate","deep","beforeDestroy","install","_objectSpread2","MODEL_PROP_NAME_INDETERMINATE","MODEL_EVENT_NAME_INDETERMINATE","BFormCheckbox","isChecked","checked","isRadio","setIndeterminate","computedLocalCheckedWatcher","$input","indeterminate","handleChange","_ref$target","uncheckedValue","localChecked","isGroup","_watch","_makeModelMixin","VALUE_EMPTY_DEPRECATED_MSG","isValidValue","modelMixin","mixin","modelProps","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","every","getDataTransferItemEntry","item","getAsEntry","webkitGetAsEntry","getAllFileEntries","dataTransferItemList","traverseDirectories","Promise","all","kind","isDirectory","getAllFileEntriesInDirectory","createReader","isFile","resolve","file","$path","directoryReader","entryPromises","readDirectoryEntries","readEntries","then","accept","browseText","directory","dropPlaceholder","fileNameFormatter","noDropPlaceholder","noTraverse","BFormFile","inheritAttrs","files","dropAllowed","hasFocus","computedAccept","extOrType","startMatch","endMatch","computedCapture","bvAttrs","webkitdirectory","computedFileNameFormatter","defaultFileNameFormatter","clonedFiles","flattenedFiles","fileNames","labelContent","normalizeSlot","allowed","hasNormalizedSlot","filesTraversed","names","reset","$_form","$form","isFileValid","isFilesArrayValid","setFiles","setInputFiles","dataTransfer","ClipboardEvent","clipboardData","DataTransfer","items","_unused2","handleFiles","isDrop","filteredFiles","focusHandler","_this2","_event$dataTransfer","webkitRelativePath","onDragenter","_event$dataTransfer2","dropEffect","onDragover","_event$dataTransfer3","onDragleave","_this3","onDrop","_this4","size","stateClass","focusin","focusout","$label","for","pointerEvents","dragenter","dragover","dragleave","_typeof","isObject","today","isDynamicRouteActive","route","router","resolvedRoute","currentRoute","checkPermission","permissions","store","getters","currentUserPermissions","requiredPermissions","hasPermission","permission","validateSize","renderer","fl","maxSize","errors","inputImageRenderer","defineWellKnownSymbol","_methods","ariaLabel","ariaLabelledby","buttonVariant","formRadioCheckMixin","isBtnMode","buttons","isPlain","isCustom","isSwitch","switches","switch","isInline","isRequired","computedName","groupName","computedForm","computedSize","computedState","computedButtonVariant","buttonClasses","$content","handleFocus","$button","FullCalendarVDom","Component","Fragment","createContext","createPortal","flushToDom","unmountComponentAtNode","EventSourceApi","internalEventSource","refetch","sourceIds","isRefetch","publicId","meta","url","removeElement","elementClosest","closest","documentElement","elementMatches","parentElement","method","matches","matchesSelector","msMatchesSelector","findElements","containers","allMatches","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","getEventTargetViaRoot","getElRoot","getRootNode","guid$1","getUniqueDomId","buildDelegationHandler","matchedChild","listenBySelector","eventType","attachedHandler","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","createAriaClickAttrs","createAriaKeyboardAttrs","guidNumber","guid","disableCursor","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","field","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","substr","formatWithOrdinals","formatter","fallbackText","compareNumbers","isInt","computeSmallestCellWidth","allWidthEl","contentWidthEl","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","weekOfGivenYear","nextW","firstWeekStart","firstWeekOffset","fwd","fwdlw","getUTCDay","dateToLocalArray","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","createEventInstance","forcedStartTzo","forcedEndTzo","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","name_2","filterHash","hash","filtered","mapHash","newHash","arrayToHash","a_1","hashValuesToArray","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","parseRecurring","defaultAllDay","recurringTypes","allDayGuess","typeData","typeId","expandRecurring","framingRange","recurringDef","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","typeDef","markers","expand","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","parseString","parseObject","second","millisecond","specifiedWeeks","durationsEqual","d0","d1","addDurations","subtractDurations","multiplyDuration","asRoughYears","dur","asRoughDays","asRoughMonths","asRoughMs","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","mins","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","buildNativeFormattingFunc","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","parts","simpleNumberFormat","direction","reverse","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","scrollTime","scrollTimeReset","dayPopoverFormat","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","aspectRatio","weekends","weekNumberCalculation","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","viewClassNames","viewDidMount","viewWillUnmount","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","handleWindowResize","windowResizeDelay","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","eventDataTransform","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","slotMinWidth","navLinks","rerenderDelay","moreLinkText","moreLinkHint","eventMinWidth","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","initialEvents","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","buttonTextKey","mergeRawOptions","optionSets","refineProps","refiners","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","tuple","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","constraint","overlap","allow","color","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","eventDefMemberAdders","memberAdder","freeze","startMeta","endMeta","startMarker","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","constraintRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","normalRange","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","fcSeg","getElSeg","eventDefs","compileEventUi","eventOrderSpecs","objs","buildSegCompareObj","_seg","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","defaultDisplayEventTime","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","getEventClassNames","isDraggable","isStartResizable","isEndResizable","buildEventRangeKey","getSegAnchorAttrs","href","hasHandlers","STANDARD_PROPS","parseDateSpan","defaultDuration","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","startStr","endStr","fabricateEventRange","triggerDateSelect","buildDateSpanApiWithContext","triggerDateUnselect","dateSpanTransforms","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","ViewApi","viewTitle","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","rawObj","buildEventSourceRefiners","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","changeView","viewType","dateOrRange","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","prevYear","addYears","nextYear","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","dateOrObj","endDate","selectionInput","addEvent","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","EventApi","_context","setProp","mutate","setExtendedProp","setStart","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","queryLocale","parseLocale","codeArg","queryRawLocale","simpleId","merged","NumberFormat","canVGrowWithinCell","DEF_DEFAULTS","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","pointInsideRect","intersectRects","rect1","rect2","constrainPoint","getRectCenter","diffPoints","point1","point2","getCanVGrowWithinCell","computeCanVGrowWithinCell","div","possible","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","_splitInteraction","eventUiBuilders","keyInfos","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","info","buildEventUiForKey","keyInfo","buildEventUi","dateSpans","keys_1","splitStores","splitHashes","splitStates","affectedStores_1","mutatedKeysByDefId","mutatedStores_1","populate","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isOther","getDayClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","zonedDate","handleInteraction","customAction","_scrollbarWidths","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","overflow","innerEl","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","computeEdges","getPadding","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderBottom","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","parents","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","PositionCache","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","originClientTop","leftPosition","topPosition","getWidth","leftIndex","topIndex","ScrollController","canScrollVertically","canScrollHorizontally","ElementScrollController","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","iconOverridePrefix","classes","getIconClass","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","queuedRequest","drain","fireInitialScroll","isDatesNew","ViewContextType","buildViewContext","viewOptions","addResizeHandler","removeResizeHandler","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","contextType","BaseComponent","setRef","DateComponent","elWidth","elHeight","createPlugin","deps","reducers","isLoadingFuncs","contextInit","viewPropsTransformers","isPropsValid","viewContainerAppends","themeClasses","namedTimeZonedImpl","optionChangeHandlers","contentTypeHandlers","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","hooks0","hooks1","StandardTheme","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","overrideConfig","queryProp","theComponent","superType","superDef","rawOptions","overrides","tableCellShaded","buttonGroup","buttonActive","RenderHook","ContentHook","backupElRef","normalizeClassNames","CustomContentRenderContext","renderId","ContentHookInner","updateCustomContent","customContentInfo","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","MountHook","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","buildNext","nextDate","currentInfo","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","hint","textFallback","prevOrNext","navUnit","eventSourceDef$2","arrayEventSourcePlugin","eventSourceDef$1","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","setRequestHeader","onload","status","responseText","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","html","buildHtmlRenderer","domNodes","buildDomNodeRenderer","currentEl","currentHtml","currentDomNodes","newDomNodes","newDomNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","isPaused","tryDrain","pause","resume","force","depth","drained","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","newOptionOverrides","NamedTimeZoneImpl","SegHierarchy","stackCnts","insertEntry","findInsertion","isInsertionValid","insertEntryAt","stackCnt","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","insertAt","buildEntryKey","newEntry","candidateCoord","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","parseInteractionSettings","interactionSettingsToStore","interactionSettingsStore","ElementDragging","DRAG_META_REFINERS","parseDragMeta","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","titleId","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","groupClassName","Toolbar","startContent","endContent","model","extraClassName","forceLtr","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","labeledById","EventClicking","handleSegClick","hasUrlContainer","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","WEEKDAY_FORMAT","TableDowCell","dateMeta","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","explicitFormat","dateCnt","DaySeriesModel","indices","cnt","firstIndex","getDateDayIndex","clippedFirstIndex","clippedLastIndex","dayOffset","DayTableModel","breakOnWeeks","daysPerRow","buildCells","buildHeaderDates","buildCell","seriesSeg","nextIndex","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","extraArgs","eventSegs","computeActiveRange","rangeRes","sliceEventRanges","eventRanges","eventRanges_1","sliceEventRange","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","depths","callbackMap","handleValue","removed","added","refCallback","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","isColPropsEqual","cols0","cols1","renderMicroColGroup","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","microColGroupNode","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","renderChunkTd","isLiquid","sectionKey","reportRowHeightChange","section","getSectionByKey","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","disableDragging","standardClassNames","StandardEvent","renderInnerContent$1","NowIndicatorRoot","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","extraProps","DayCellRoot","refineHookProps","renderFill","BgEvent","WeekNumberRoot","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","extraAttrs","parentEl","alignmentEl","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","MoreLinkRoot","linkElRef","isPopoverOpen","computeRange","buildPublicSeg","handlePopoverClose","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","$map","callbackfn","Ripple","binding","setProps","rippler","targetBorder","dx","clientX","dy","clientY","maxX","maxY","radius","sqrt","ripple","rippleContainer","borderRadius","storedTargetPosition","clearRipple","clearPosition","childNodes","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","DESCRIPTORS","has","copyConstructorProperties","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","symbol","desc","ListViewHeaderRow","textId","cellId","listDayFormat","sideText","listDaySideFormat","sideNavLinkAttrs","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","renderEventInnerContent","buildTimeContent","headers","interactiveAttrs","doAllDay","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listDay","listWeek","listMonth","listYear","OPTIONS_OBJECT_DEPRECATED_MSG","disabledField","htmlField","valueField","formOptionsMixin","formOptions","normalizeOptions","normalizeOption","PASS_DOWN_ATTRS","ariaInvalid","stacked","formRadioCheckGroupMixin","groupClasses","$attrs","optionComponent","$inputs","defaultProps","__k","__b","__e","__d","__c","__h","__v","base","__r","debounceRendering","__P","__n","ownerSVGElement","N","setProperty","cssText","T","I","__E","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","L","diffed","localName","createTextNode","createElementNS","dangerouslySetInnerHTML","__html","unmount","P","B","getDerivedStateFromError","componentDidCatch","forceUpdate","__H","__V","cancelAnimationFrame","E","isPureReactComponent","__f","__u","__a","__R","__O","pop","delete","revealOrder","containerInfo","Map","isReactComponent","cancelBubble","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","$$typeof","Q","globalObj","globalThis","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs_1","_props","old","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","wasRendering","pauseRendering","resumeRendering","classNames_1","OPTION_IS_COMPLEX","resources","shallowCopy","wrapVDomGenerator","vDomGenerator","vue","createVueContentTypePlugin","buildVDomHandler","vDomContent","$destroy","initVue","$mount","initialContent","FullCalendar","initData","internal","scopedSlotOptions","calendar","buildOptions","getApi","beforeUpdate","buildWatchers","suppliedOptions","watchers","_loop_1","complexOptionName","GlobalVue","installed","Vue","use","_u","proxy","eventinfo","schedule_datettime","client_name","assignedto","instruction","$bvModal","hide","BButton","BAvatar","BRow","BCol","BFormGroup","BFormInput","BTable","BCard","BCardHeader","BCardTitle","vSelect","BFormInvalidFeedback","client_id","tabId","handleEventClick","pagination","filters","getList","show"],"mappings":"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","file":"js/chunk-04f84c2e.d1f8b170.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tags-input-root\",staticStyle:{\"position\":\"relative\"}},[_c('div',{class:( _obj = {}, _obj[_vm.wrapperClass + ' tags-input'] = true, _obj['active'] =  _vm.isActive, _obj['disabled'] =  _vm.disabled, _obj )},[_vm._l((_vm.tags),function(tag,index){return _c('span',{key:index,staticClass:\"tags-input-badge tags-input-badge-pill tags-input-badge-selected-default\",class:{ 'disabled': _vm.disabled }},[_vm._t(\"selected-tag\",function(){return [_c('span',{domProps:{\"innerHTML\":_vm._s(tag[_vm.textField])}}),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disabled),expression:\"!disabled\"}],staticClass:\"tags-input-remove\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeTag(index)}}})]},{\"tag\":tag,\"index\":index,\"removeTag\":_vm.removeTag})],2)}),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hideInputField),expression:\"!hideInputField\"}],ref:\"taginput\",attrs:{\"type\":\"text\",\"id\":_vm.inputId,\"name\":_vm.inputId,\"placeholder\":_vm.placeholder},domProps:{\"value\":_vm.input},on:{\"input\":function (e) { return _vm.input = e.target.value; },\"compositionstart\":function($event){_vm.composing=true},\"compositionend\":function($event){_vm.composing=false},\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.tagFromInput(false)},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==8){ return null; }return _vm.removeLastTag.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }return _vm.nextSearchResult.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }return _vm.prevSearchResult.apply(null, arguments)},_vm.onKeyDown],\"keyup\":[_vm.onKeyUp,function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.clearSearchResults.apply(null, arguments)}],\"focus\":_vm.onFocus,\"click\":_vm.onClick,\"blur\":_vm.onBlur,\"value\":_vm.tags}}),(_vm.elementId)?_c('div',{staticStyle:{\"display\":\"none\"}},_vm._l((_vm.tags),function(tag,index){return _c('input',{key:index,attrs:{\"type\":\"hidden\",\"name\":(_vm.elementId + \"[]\")},domProps:{\"value\":_vm.hiddenInputValue(tag)}})}),0):_vm._e()],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchResults.length),expression:\"searchResults.length\"}]},[(_vm.typeaheadStyle === 'badges')?_c('p',{class:(\"typeahead-\" + _vm.typeaheadStyle)},[(!_vm.typeaheadHideDiscard)?_c('span',{staticClass:\"tags-input-badge typeahead-hide-btn tags-input-typeahead-item-default\",domProps:{\"textContent\":_vm._s(_vm.discardSearchText)},on:{\"click\":function($event){$event.preventDefault();return _vm.clearSearchResults(true)}}}):_vm._e(),_vm._l((_vm.searchResults),function(tag,index){return _c('span',{key:index,staticClass:\"tags-input-badge\",class:{\n                    'tags-input-typeahead-item-default': index != _vm.searchSelection,\n                    'tags-input-typeahead-item-highlighted-default': index == _vm.searchSelection\n                },domProps:{\"innerHTML\":_vm._s(tag[_vm.textField])},on:{\"mouseover\":function($event){_vm.searchSelection = index},\"mousedown\":function($event){$event.preventDefault();return _vm.tagFromSearchOnClick(tag)}}})})],2):(_vm.typeaheadStyle === 'dropdown')?_c('ul',{class:(\"typeahead-\" + _vm.typeaheadStyle)},[(!_vm.typeaheadHideDiscard)?_c('li',{staticClass:\"tags-input-typeahead-item-default typeahead-hide-btn\",domProps:{\"textContent\":_vm._s(_vm.discardSearchText)},on:{\"click\":function($event){$event.preventDefault();return _vm.clearSearchResults(true)}}}):_vm._e(),_vm._l((_vm.searchResults),function(tag,index){return _c('li',{key:index,class:{\n                    'tags-input-typeahead-item-default': index != _vm.searchSelection,\n                    'tags-input-typeahead-item-highlighted-default': index == _vm.searchSelection\n                },domProps:{\"innerHTML\":_vm._s(_vm.getDisplayField(tag))},on:{\"mouseover\":function($event){_vm.searchSelection = index},\"mousedown\":function($event){$event.preventDefault();return _vm.tagFromSearchOnClick(tag)}}})})],2):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\n    <div class=\"tags-input-root\" style=\"position: relative;\">\n        <div :class=\"{\n            [wrapperClass + ' tags-input']: true,\n            'active': isActive,\n            'disabled': disabled,\n        }\">\n            <span v-for=\"(tag, index) in tags\"\n                :key=\"index\"\n                class=\"tags-input-badge tags-input-badge-pill tags-input-badge-selected-default\"\n                :class=\"{ 'disabled': disabled }\"\n            >\n                <slot name=\"selected-tag\"\n                    :tag=\"tag\"\n                    :index=\"index\"\n                    :removeTag=\"removeTag\"\n                >\n                    <span v-html=\"tag[textField]\"></span>\n\n                    <a v-show=\"!disabled\"\n                        href=\"#\"\n                        class=\"tags-input-remove\"\n                        @click.prevent=\"removeTag(index)\"></a>\n                </slot>\n            </span>\n\n            <input type=\"text\"\n                ref=\"taginput\"\n                :id=\"inputId\"\n                :name=\"inputId\"\n                :placeholder=\"placeholder\"\n                :value=\"input\"\n                @input=\"e => input = e.target.value\"\n                v-show=\"!hideInputField\"\n                @compositionstart=\"composing=true\"\n                @compositionend=\"composing=false\"\n                @keydown.enter.prevent=\"tagFromInput(false)\"\n                @keydown.8=\"removeLastTag\"\n                @keydown.down=\"nextSearchResult\"\n                @keydown.up=\"prevSearchResult\"\n                @keydown=\"onKeyDown\"\n                @keyup=\"onKeyUp\"\n                @keyup.esc=\"clearSearchResults\"\n                @focus=\"onFocus\"\n                @click=\"onClick\"\n                @blur=\"onBlur\"\n                @value=\"tags\">\n\n            <div style=\"display: none;\" v-if=\"elementId\">\n                <input v-for=\"(tag, index) in tags\"\n                    :key=\"index\"\n                    type=\"hidden\"\n                    :name=\"`${elementId}[]`\"\n                    :value=\"hiddenInputValue(tag)\">\n            </div>\n        </div>\n\n        <!-- Typeahead/Autocomplete -->\n        <div v-show=\"searchResults.length\">\n            <p v-if=\"typeaheadStyle === 'badges'\"\n                :class=\"`typeahead-${typeaheadStyle}`\"\n            >\n                <span v-if=\"!typeaheadHideDiscard\"\n                    class=\"tags-input-badge typeahead-hide-btn tags-input-typeahead-item-default\"\n                    @click.prevent=\"clearSearchResults(true)\"\n                    v-text=\"discardSearchText\"></span>\n\n                <span v-for=\"(tag, index) in searchResults\"\n                    :key=\"index\"\n                    v-html=\"tag[textField]\"\n                    @mouseover=\"searchSelection = index\"\n                    @mousedown.prevent=\"tagFromSearchOnClick(tag)\"\n                    class=\"tags-input-badge\"\n                    v-bind:class=\"{\n                        'tags-input-typeahead-item-default': index != searchSelection,\n                        'tags-input-typeahead-item-highlighted-default': index == searchSelection\n                    }\"></span>\n            </p>\n\n            <ul v-else-if=\"typeaheadStyle === 'dropdown'\"\n                :class=\"`typeahead-${typeaheadStyle}`\"\n            >\n                <li v-if=\"!typeaheadHideDiscard\"\n                    class=\"tags-input-typeahead-item-default typeahead-hide-btn\"\n                    @click.prevent=\"clearSearchResults(true)\"\n                    v-text=\"discardSearchText\"></li>\n\n                <li v-for=\"(tag, index) in searchResults\"\n                    :key=\"index\"\n                    v-html=\"getDisplayField(tag)\"\n                    @mouseover=\"searchSelection = index\"\n                    @mousedown.prevent=\"tagFromSearchOnClick(tag)\"\n                    v-bind:class=\"{\n                        'tags-input-typeahead-item-default': index != searchSelection,\n                        'tags-input-typeahead-item-highlighted-default': index == searchSelection\n                    }\"></li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        elementId: String,\n\n        inputId: String,\n\n        existingTags: {\n            type: Array,\n            default: () => {\n                return [];\n            }\n        },\n\n        value: {\n            type: Array,\n            default: () => {\n                return [];\n            }\n        },\n\n        idField: {\n            type: String,\n            default: 'key',\n        },\n\n        textField: {\n            type: String,\n            default: 'value',\n        },\n\n        displayField: {\n          type: String,\n          default: null,\n        },\n\n        valueFields: {\n            type: String,\n            default: null,\n        },\n\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n\n        typeahead: {\n            type: Boolean,\n            default: false\n        },\n\n        typeaheadStyle: {\n            type: String,\n            default: 'badges'\n        },\n\n        typeaheadActivationThreshold: {\n            type: Number,\n            default: 1\n        },\n\n        typeaheadMaxResults: {\n            type: Number,\n            default: 0\n        },\n\n        typeaheadAlwaysShow: {\n            type: Boolean,\n            default: false\n        },\n\n        typeaheadShowOnFocus: {\n            type: Boolean,\n            default: true\n        },\n\n        typeaheadHideDiscard: {\n            type: Boolean,\n            default: false\n        },\n\n        typeaheadUrl: {\n            type: String,\n            default: ''\n        },\n\n        typeaheadCallback: {\n            type: Function,\n            default: null\n        },\n\n        placeholder: {\n            type: String,\n            default: 'Add a tag'\n        },\n\n        discardSearchText: {\n            type: String,\n            default: 'Discard Search Results'\n        },\n\n        limit: {\n            type: Number,\n            default: 0\n        },\n\n        hideInputOnLimit: {\n            type: Boolean,\n            default: false\n        },\n\n        onlyExistingTags: {\n            type: Boolean,\n            default: false\n        },\n\n        deleteOnBackspace: {\n            type: Boolean,\n            default: true\n        },\n\n        allowDuplicates: {\n            type: Boolean,\n            default: false\n        },\n\n        validate: {\n            type: Function,\n            default: () => true\n        },\n\n        addTagsOnComma: {\n            type: Boolean,\n            default: false\n        },\n\n        addTagsOnSpace: {\n            type: Boolean,\n            default: false\n        },\n\n        addTagsOnBlur: {\n            type: Boolean,\n            default: false\n        },\n\n        wrapperClass: {\n            type: String,\n            default: 'tags-input-wrapper-default'\n        },\n\n        sortSearchResults: {\n            type: Boolean,\n            default: true\n        },\n\n        caseSensitiveTags: {\n            type: Boolean,\n            default: false\n        },\n\n        beforeAddingTag: {\n            type: Function,\n            default: () => true\n        },\n\n        beforeRemovingTag: {\n            type: Function,\n            default: () => true\n        },\n    },\n\n    data() {\n        return {\n            badgeId: 0,\n            tags: [],\n\n            input: '',\n            oldInput: '',\n            hiddenInput: '',\n\n            searchResults: [],\n            searchSelection: 0,\n\n            selectedTag: -1,\n\n            isActive: false,\n            composing: false,\n        };\n    },\n\n    created () {\n        this.typeaheadTags = this.cloneArray(this.existingTags);\n\n        this.tagsFromValue();\n\n        if (this.typeaheadAlwaysShow) {\n            this.searchTag(false);\n        }\n    },\n\n    mounted () {\n        // Emit an event\n        this.$emit('initialized');\n\n        document.addEventListener('click', (e) => {\n            if (e.target !== this.$refs['taginput']) {\n                this.clearSearchResults();\n            }\n        });\n    },\n\n    computed: {\n        hideInputField() {\n            return (this.hideInputOnLimit && this.limit > 0 && this.tags.length >= this.limit) || this.disabled;\n        }\n    },\n\n    watch: {\n        input(newVal, oldVal) {\n            this.searchTag(false);\n\n            if (newVal.length && newVal != oldVal) {\n                const diff = newVal.substring(oldVal.length, newVal.length);\n\n                if (this.addTagsOnSpace) {\n                    if (newVal.endsWith(' ')) {\n                        // The space shouldn't actually be inserted\n                        this.input = newVal.trim();\n\n                        // Add the inputed tag\n                        this.tagFromInput(true);\n                    }\n                }\n\n                if (this.addTagsOnComma) {\n                    newVal = newVal.trim();\n\n                    if (newVal.endsWith(',')) {\n                        // The comma shouldn't actually be inserted\n                        this.input = newVal.substring(0, newVal.length - 1);\n\n                        // Add the inputed tag\n                        this.tagFromInput(true);\n                    }\n                }\n\n                this.$emit('change', newVal);\n            }\n        },\n\n        existingTags(newVal) {\n            this.typeaheadTags.splice(0);\n\n            this.typeaheadTags = this.cloneArray(newVal);\n\n            this.searchTag();\n        },\n\n        tags() {\n            // Updating the hidden input\n            this.hiddenInput = JSON.stringify(this.tags);\n\n            // Update the bound v-model value\n            this.$emit('input', this.tags);\n        },\n\n        value() {\n            this.tagsFromValue();\n        },\n\n        typeaheadAlwaysShow(newValue) {\n            if (newValue) {\n                this.searchTag(false);\n            } else {\n                this.clearSearchResults();\n            }\n        },\n    },\n\n    methods: {\n        /**\n         * Remove reserved regex characters from a string so that they don't\n         * affect search results\n         *\n         * @param string\n         * @returns String\n         */\n        escapeRegExp(string) {\n            return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n        },\n\n        /**\n         * Add a tag whether from user input or from search results (typeahead)\n         *\n         * @param ignoreSearchResults\n         * @returns void\n         */\n        tagFromInput(ignoreSearchResults = false) {\n            if (this.composing) return;\n\n            // If we're choosing a tag from the search results\n            if (this.searchResults.length && this.searchSelection >= 0 && !ignoreSearchResults) {\n                this.tagFromSearch(this.searchResults[this.searchSelection]);\n\n                this.input = '';\n            } else {\n                // If we're adding an unexisting tag\n                let text = this.input.trim();\n\n                // If the new tag is not an empty string and passes validation\n                if (!this.onlyExistingTags && text.length && this.validate(text)) {\n                    this.input = '';\n\n                    // Determine if the inputted tag exists in the typeagedTags\n                    // array\n                    let newTag = {\n                        [this.idField]: '',\n                        [this.textField]: text\n                    };\n\n                    const searchQuery = this.escapeRegExp(\n                        this.caseSensitiveTags\n                            ? newTag[this.textField]\n                            : newTag[this.textField].toLowerCase()\n                    );\n\n                    for (let tag of this.typeaheadTags) {\n                        const compareable = this.escapeRegExp(\n                            this.caseSensitiveTags\n                                ? tag[this.textField]\n                                : tag[this.textField].toLowerCase()\n                        );\n\n                        if (searchQuery === compareable) {\n                            newTag = Object.assign({}, tag);\n\n                            break;\n                        }\n                    }\n\n                    this.addTag(newTag);\n                }\n            }\n        },\n\n        /**\n         * Add a tag from search results when a user clicks on it\n         *\n         * @param tag\n         * @returns void\n         */\n        tagFromSearchOnClick(tag) {\n            this.tagFromSearch(tag);\n\n            this.$refs['taginput'].blur();\n        },\n\n        /**\n         * Add the selected tag from the search results.\n         * Clear search results.\n         * Clear user input.\n         *\n         * @param tag\n         * @return void\n         */\n        tagFromSearch(tag) {\n            this.clearSearchResults();\n            this.addTag(tag);\n\n            this.$nextTick(() => {\n                this.input = '';\n                this.oldInput = '';\n            });\n        },\n\n        /**\n         * Add/Select a tag\n         *\n         * @param tag\n         * @param force\n         * @returns void | Boolean\n         */\n        addTag(tag, force = false) {\n            if (this.disabled && !force) {\n                return;\n            }\n\n            if (!this.beforeAddingTag(tag)) {\n                return false;\n            }\n\n            // Check if the limit has been reached\n            if (this.limit > 0 && this.tags.length >= this.limit) {\n                this.$emit('limit-reached');\n\n                return false;\n            }\n\n            // Attach the tag if it hasn't been attached yet\n            if (!this.tagSelected(tag)) {\n                this.tags.push(tag);\n\n                // Emit events\n                this.$nextTick(() => {\n                    this.$emit('tag-added', tag);\n                    this.$emit('tags-updated');\n                });\n            }\n        },\n\n        /**\n         * Remove the last tag in the tags array.\n         *\n         * @returns void\n         */\n        removeLastTag() {\n            if (!this.input.length && this.deleteOnBackspace && this.tags.length) {\n                this.removeTag(this.tags.length - 1);\n            }\n        },\n\n        /**\n         * Remove the selected tag at the specified index.\n         *\n         * @param index\n         * @returns void\n         */\n        removeTag(index) {\n            if (this.disabled) {\n                return;\n            }\n\n            let tag = this.tags[index];\n\n            if (!this.beforeRemovingTag(tag)) {\n                return false;\n            }\n\n            this.tags.splice(index, 1);\n\n            // Emit events\n            this.$nextTick(() => {\n                this.$emit('tag-removed', tag);\n                this.$emit('tags-updated');\n\n                if (this.typeaheadAlwaysShow) {\n                    this.searchTag();\n                }\n            });\n        },\n\n        /**\n         * Search the currently entered text in the list of existing tags\n         *\n         * @returns void | Boolean\n         */\n        searchTag() {\n            if (this.typeahead !== true) {\n                return false;\n            }\n\n            if (this.oldInput != this.input || (!this.searchResults.length && this.typeaheadActivationThreshold == 0) || this.typeaheadAlwaysShow || this.typeaheadShowOnFocus) {\n                if (!this.typeaheadUrl.length && !this.typeaheadCallback) {\n                    this.searchResults = [];\n                }\n\n                this.searchSelection = 0;\n                let input = this.input.trim();\n\n                if ((input.length && input.length >= this.typeaheadActivationThreshold) || this.typeaheadActivationThreshold == 0 || this.typeaheadAlwaysShow) {\n                    // Find all the existing tags which include the search text\n                    const searchQuery = this.escapeRegExp(\n                        this.caseSensitiveTags ? input : input.toLowerCase()\n                    );\n\n                    // AJAX search\n                    if (this.typeaheadCallback) {\n                        this.typeaheadCallback(searchQuery)\n                            .then((results) => {\n                                this.typeaheadTags = results;\n                            });\n                    } else if (this.typeaheadUrl.length > 0) {\n                        this.typeaheadTags.splice(0);\n                        const xhttp = new XMLHttpRequest();\n                        const that = this;\n\n                        xhttp.onreadystatechange = function () {\n                            if (this.readyState == 4 && this.status == 200) {\n                                that.typeaheadTags = JSON.parse(xhttp.responseText);\n\n                                that.doSearch(searchQuery);\n                            }\n                        }\n\n                        const endpoint = this.typeaheadUrl.replace(':search', searchQuery);\n                        xhttp.open('GET', endpoint, true);\n                        xhttp.send();\n                    } else {\n                        // Search the existing collection\n                        this.doSearch(searchQuery);\n                    }\n                }\n\n                this.oldInput = this.input;\n            }\n        },\n\n        /**\n         * Perform the actual search\n         *\n         * @param string searchQuery\n         * @return void\n         */\n        doSearch(searchQuery) {\n            this.searchResults = [];\n\n            for (let tag of this.typeaheadTags) {\n                const compareable = this.caseSensitiveTags\n                    ? tag[this.textField]\n                    : tag[this.textField].toLowerCase();\n                const ids = this.searchResults.map((res) => (res[this.idField]));\n\n                if (compareable.search(searchQuery) > -1 && ! this.tagSelected(tag) && ! ids.includes(tag[this.idField])) {\n                    this.searchResults.push(tag);\n                }\n            }\n\n            // Sort the search results alphabetically\n            if (this.sortSearchResults) {\n                this.searchResults.sort((a, b) => {\n                    if (a[this.textField] < b[this.textField]) return -1;\n                    if (a[this.textField] > b[this.textField]) return 1;\n\n                    return 0;\n                });\n            }\n\n            // Shorten Search results to desired length\n            if (this.typeaheadMaxResults > 0) {\n                this.searchResults = this.searchResults.slice(\n                    0,\n                    this.typeaheadMaxResults\n                );\n            }\n        },\n\n        /**\n         * Hide the typeahead if there's nothing intered into the input field.\n         *\n         * @returns void\n         */\n        hideTypeahead() {\n            if (! this.input.length) {\n                this.$nextTick(() => {\n                    this.clearSearchResults();\n                });\n            }\n        },\n\n        /**\n         * Select the next search result in typeahead.\n         *\n         * @returns void\n         */\n        nextSearchResult() {\n            if (this.searchSelection + 1 <= this.searchResults.length - 1) {\n                this.searchSelection++;\n            }\n        },\n\n        /**\n         * Select the previous search result in typeahead.\n         *\n         * @returns void\n         */\n        prevSearchResult() {\n            if (this.searchSelection > 0) {\n                this.searchSelection--;\n            }\n        },\n\n        /**\n         * Clear/Empty the search results.\n         *\n         * @reutrns void\n         */\n        clearSearchResults(returnFocus = false) {\n            this.searchResults = [];\n            this.searchSelection = 0;\n\n            if (this.typeaheadAlwaysShow) {\n                this.$nextTick(() => {\n                    this.searchTag();\n                });\n            }\n\n            if (returnFocus) {\n                this.$refs['taginput'].focus();\n            }\n        },\n\n        /**\n         * Clear the list of selected tags.\n         *\n         * @returns void\n         */\n        clearTags() {\n            this.tags.splice(0, this.tags.length);\n        },\n\n        /**\n         * Replace the currently selected tags with the tags from the value.\n         *\n         * @returns void\n         */\n        tagsFromValue() {\n            if (this.value && this.value.length) {\n                if (!Array.isArray(this.value)) {\n                    console.error('Voerro Tags Input: the v-model value must be an array!');\n\n                    return;\n                }\n\n                let tags = this.value;\n\n                // Don't update if nothing has changed\n                if (this.tags == tags) {\n                    return;\n                }\n\n                this.clearTags();\n\n                for (let tag of tags) {\n                    this.addTag(tag, true);\n                }\n            } else {\n                if (this.tags.length == 0) {\n                    return;\n                }\n\n                this.clearTags();\n            }\n        },\n\n        /**\n         * Check if a tag is already selected.\n         *\n         * @param tag\n         * @returns Boolean\n         */\n        tagSelected(tag) {\n            if (this.allowDuplicates) {\n                return false;\n            }\n\n            if (! tag) {\n                return false;\n            }\n\n            const searchQuery = this.escapeRegExp(\n                this.caseSensitiveTags ? tag[this.textField] : tag[this.textField].toLowerCase()\n            );\n\n            for (let selectedTag of this.tags) {\n                const compareable = this.caseSensitiveTags\n                    ? selectedTag[this.textField]\n                    : selectedTag[this.textField].toLowerCase();\n\n                if (selectedTag[this.idField] === tag[this.idField] && this.escapeRegExp(compareable).length == searchQuery.length && compareable.search(searchQuery) > -1) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        /**\n         * Clear the input.\n         *\n         * @returns void\n         */\n        clearInput() {\n            this.input = '';\n        },\n\n        /**\n         * Process all the keyup events.\n         *\n         * @param e\n         * @returns void\n         */\n        onKeyUp(e) {\n            this.$emit('keyup', e);\n        },\n\n        /**\n         * Process all the keydown events.\n         *\n         * @param e\n         * @returns void\n         */\n        onKeyDown(e) {\n            this.$emit('keydown', e);\n        },\n\n        /**\n         * Process the onfocus event.\n         *\n         * @param e\n         * @returns void\n         */\n        onFocus(e) {\n            this.$emit('focus', e);\n\n            this.isActive = true;\n        },\n\n        /**\n         * Process the onClick event.\n         *\n         * @param e\n         * @returns void\n         */\n        onClick(e) {\n            this.$emit('click', e);\n\n            this.isActive = true;\n\n            this.searchTag();\n        },\n\n        /**\n         * Process the onblur event.\n         *\n         * @param e\n         * @returns void\n         */\n        onBlur(e) {\n            this.$emit('blur', e)\n\n            if (this.addTagsOnBlur) {\n                // Add the inputed tag\n                this.tagFromInput(true);\n            }\n\n            if (!this.typeaheadAlwaysShow) {\n                this.hideTypeahead();\n            } else {\n                this.searchTag();\n            }\n\n            this.isActive = false;\n        },\n\n        hiddenInputValue(tag) {\n            // Return all fields\n            if (!this.valueFields) {\n                return JSON.stringify(tag);\n            }\n\n            const fields = this.valueFields.replace(/\\s/, '').split(',');\n\n            // A single field\n            if (fields.length === 1) {\n                return tag[fields[0]];\n            } else {\n                // Specified fields\n                return JSON.stringify(\n                    Object.assign(\n                        {},\n                        ...fields.map(field => ({ [field]: tag[field] }))\n                    )\n                );\n            }\n\n            return JSON.stringify(tag);\n        },\n\n        getDisplayField(tag) {\n            const hasDisplayField = this.displayField !== undefined\n                && this.displayField !== null\n                && tag[this.displayField] !== undefined\n                && tag[this.displayField] !== null\n                && tag[this.displayField] !== '';\n\n            return hasDisplayField\n                ? tag[this.displayField]\n                : tag[this.textField];\n        },\n\n        cloneArray(arr) {\n            return arr.map(el => Object.assign({}, el));\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./VoerroTagsInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./VoerroTagsInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VoerroTagsInput.vue?vue&type=template&id=5e3a88a4&\"\nimport script from \"./VoerroTagsInput.vue?vue&type=script&lang=js&\"\nexport * from \"./VoerroTagsInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import VoerroTagsInput from './VoerroTagsInput.vue'\n\nwindow.VoerroTagsInput = VoerroTagsInput;\n\nexport default VoerroTagsInput;","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","import { Vue, mergeData } from '../../vue';\nimport { NAME_FORM } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  id: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  novalidate: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n}, NAME_FORM); // --- Main component ---\n// @vue/component\n\nexport var BForm = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h('form', mergeData(data, {\n      class: {\n        'form-inline': props.inline,\n        'was-validated': props.validated\n      },\n      attrs: {\n        id: props.id,\n        novalidate: props.novalidate\n      }\n    }), children);\n  }\n});","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\n// `Array.isArray` method\n// https://tc39.github.io/ecma262/#sec-array.isarray\n$({ target: 'Array', stat: true }, {\n  isArray: isArray\n});\n","import { Vue } from '../../vue';\nimport { NAME_FORM_RADIO_GROUP } from '../../constants/components';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { formRadioCheckGroupMixin, props as formRadioCheckGroupProps } from '../../mixins/form-radio-check-group'; // --- Props ---\n\nexport var props = makePropsConfigurable(formRadioCheckGroupProps, NAME_FORM_RADIO_GROUP); // --- Main component ---\n// @vue/component\n\nexport var BFormRadioGroup = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_RADIO_GROUP,\n  mixins: [formRadioCheckGroupMixin],\n  provide: function provide() {\n    return {\n      bvRadioGroup: this\n    };\n  },\n  props: props,\n  computed: {\n    isRadioGroup: function isRadioGroup() {\n      return true;\n    }\n  }\n});","import { Vue, mergeData } from '../../vue';\nimport { NAME_MEDIA } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_ASIDE, SLOT_NAME_DEFAULT } from '../../constants/slots';\nimport { normalizeSlot } from '../../utils/normalize-slot';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { BMediaAside } from './media-aside';\nimport { BMediaBody } from './media-body'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  noBody: makeProp(PROP_TYPE_BOOLEAN, false),\n  rightAlign: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  verticalAlign: makeProp(PROP_TYPE_STRING, 'top')\n}, NAME_MEDIA); // --- Main component ---\n// @vue/component\n\nexport var BMedia = /*#__PURE__*/Vue.extend({\n  name: NAME_MEDIA,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        slots = _ref.slots,\n        scopedSlots = _ref.scopedSlots,\n        children = _ref.children;\n    var noBody = props.noBody,\n        rightAlign = props.rightAlign,\n        verticalAlign = props.verticalAlign;\n    var $children = noBody ? children : [];\n\n    if (!noBody) {\n      var slotScope = {};\n      var $slots = slots();\n      var $scopedSlots = scopedSlots || {};\n      $children.push(h(BMediaBody, normalizeSlot(SLOT_NAME_DEFAULT, slotScope, $scopedSlots, $slots)));\n      var $aside = normalizeSlot(SLOT_NAME_ASIDE, slotScope, $scopedSlots, $slots);\n\n      if ($aside) {\n        $children[rightAlign ? 'push' : 'unshift'](h(BMediaAside, {\n          props: {\n            right: rightAlign,\n            verticalAlign: verticalAlign\n          }\n        }, $aside));\n      }\n    }\n\n    return h(props.tag, mergeData(data, {\n      staticClass: 'media'\n    }), $children);\n  }\n});","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkAttrs, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, getSegAnchorAttrs, memoize, MoreLinkRoot, getSegMeta, createAriaClickAttrs, getUniqueDomId, setRef, DayCellRoot, WeekNumberRoot, buildEntryKey, intersectSpans, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ id: props.dayNumberId, className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg, context)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", __assign({ ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId }, createAriaClickAttrs(handleClick)), innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, context = _a.context, props = _a.props, state = _a.state, rootElRef = _a.rootElRef;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, role: \"gridcell\", className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs, (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, dayNumberId: state.dayNumberId, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n        if (this.hiddenConsumes && touchingEntry) {\n            var touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var oldInstanceHeights = this.state.eventInstanceHeights;\n            var newInstanceHeights = this.queryEventInstanceHeights();\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: __assign(__assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" }, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n//# sourceMappingURL=main.js.map\n","/*!\nFullCalendar v5.10.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkAttrs, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? buildNavLinkAttrs(_this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick, title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, role: \"gridcell\", className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n//# sourceMappingURL=main.js.map\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.VueSelect=e():t.VueSelect=e()}(\"undefined\"!=typeof self?self:this,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/\",n(n.s=8)}([function(t,e,n){var o=n(4),i=n(5),s=n(6);t.exports=function(t){return o(t)||i(t)||s()}},function(t,e){function n(e){return\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},n(e)}t.exports=n},function(t,e,n){},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}},function(t,e,n){\"use strict\";var o=n(2);n.n(o).a},function(t,e,n){\"use strict\";n.r(e);var o=n(0),i=n.n(o),s=n(1),r=n.n(s),a=n(3),l=n.n(a),c={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()}},methods:{maybeAdjustScroll:function(){var t,e=(null===(t=this.$refs.dropdownMenu)||void 0===t?void 0:t.children[this.typeAheadPointer])||!1;if(e){var n=this.getDropdownViewport(),o=e.getBoundingClientRect(),i=o.top,s=o.bottom,r=o.height;if(i<n.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(s>n.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(n.height-r)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},u={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect:function(){var t=this.filteredOptions[this.typeAheadPointer];t&&this.select(t)}}},p={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit(\"search\",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function h(t,e,n,o,i,s,r,a){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId=\"data-v-\"+s),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:c}}var d={Deselect:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"10\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z\"}})])}),[],!1,null,null,null).exports,OpenIndicator:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z\"}})])}),[],!1,null,null,null).exports},f={inserted:function(t,e,n){var o=n.context;if(o.appendToBody){var i=o.$refs.toggle.getBoundingClientRect(),s=i.height,r=i.top,a=i.left,l=i.width,c=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=o.calculatePosition(t,o,{width:l+\"px\",left:c+a+\"px\",top:u+r+s+\"px\"}),document.body.appendChild(t)}},unbind:function(t,e,n){n.context.appendToBody&&(t.unbindPosition&&\"function\"==typeof t.unbindPosition&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};var y=function(t){var e={};return Object.keys(t).sort().forEach((function(n){e[n]=t[n]})),JSON.stringify(e)},b=0;var g=function(){return++b};function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={components:m({},d),mixins:[c,u,p],directives:{appendToBody:f},props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:\"\"},transition:{type:String,default:\"vs__fade\"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:\"label\"},autocomplete:{type:String,default:\"off\"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return\"object\"===r()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key \"option.'.concat(this.label,'\" does not')+\" exist in options object \".concat(JSON.stringify(t),\".\\n\")+\"https://vue-select.org/api/props.html#getoptionlabel\"):t}},getOptionKey:{type:Function,default:function(t){if(\"object\"!==r()(t))return t;try{return t.hasOwnProperty(\"id\")?t.id:y(t)}catch(e){return console.warn(\"[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\\nhttps://vue-select.org/api/props.html#getoptionkey\",t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,n){return(e||\"\").toLowerCase().indexOf(n.toLowerCase())>-1}},filter:{type:Function,default:function(t,e){var n=this;return t.filter((function(t){var o=n.getOptionLabel(t);return\"number\"==typeof o&&(o=o.toString()),n.filterBy(t,o,e)}))}},createOption:{type:Function,default:function(t){return\"object\"===r()(this.optionList[0])?l()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return[\"function\",\"boolean\"].includes(r()(t))}},clearSearchOnBlur:{type:Function,default:function(t){var e=t.clearSearchOnSelect,n=t.multiple;return e&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:\"auto\"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:\"[type=search]\"},mapKeydown:{type:Function,default:function(t,e){return t}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(t,e,n){var o=n.width,i=n.top,s=n.left;t.style.top=i,t.style.left=s,t.style.width=o}}},data:function(){return{uid:g(),search:\"\",open:!1,isComposing:!1,pushedTags:[],_value:[]}},watch:{options:function(t,e){var n=this;!this.taggable&&(\"function\"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(t,e,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)},multiple:function(){this.clearSelection()},open:function(t){this.$emit(t?\"open\":\"close\")}},created:function(){this.mutableLoading=this.loading,void 0!==this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value),this.$on(\"option:created\",this.pushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(t){return e.findOptionFromReducedValue(t)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.$emit(\"option:selecting\",t),this.isOptionSelected(t)||(this.taggable&&!this.optionExists(t)&&this.$emit(\"option:created\",t),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit(\"option:selected\",t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.$emit(\"option:deselecting\",t),this.updateValue(this.selectedValue.filter((function(n){return!e.optionComparator(n,t)}))),this.$emit(\"option:deselected\",t)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search=\"\")},updateValue:function(t){var e=this;void 0===this.value&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map((function(t){return e.reduce(t)})):this.reduce(t)),this.$emit(\"input\",t)},toggleDropdown:function(t){var e=t.target!==this.searchEl;e&&t.preventDefault();var n=[].concat(i()(this.$refs.deselectButtons||[]),i()([this.$refs.clearButton]||!1));void 0===this.searchEl||n.filter(Boolean).some((function(e){return e.contains(t.target)||e===t.target}))?t.preventDefault():this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(n){return e.optionComparator(n,t)}))},optionComparator:function(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue:function(t){var e=this,n=[].concat(i()(this.options),i()(this.pushedTags)).filter((function(n){return JSON.stringify(e.reduce(n))===JSON.stringify(t)}));return 1===n.length?n[0]:n.find((function(t){return e.optionComparator(t,e.$data._value)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit(\"search:blur\")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var t=null;this.multiple&&(t=i()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(n){return e.optionComparator(n,t)}))},normalizeOptionForSlot:function(t){return\"object\"===r()(t)?t:l()({},this.label,t)},pushTag:function(t){this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search=\"\":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var t=this.clearSearchOnSelect,e=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=\"\"),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit(\"search:focus\")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,n=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},o={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(t){return o[t]=n}));var i=this.mapKeydown(o,this);if(\"function\"==typeof i[t.keyCode])return i[t.keyCode](t)}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty(\"reduce\")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this,e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:m({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,\"aria-autocomplete\":\"list\",\"aria-labelledby\":\"vs\".concat(this.uid,\"__combobox\"),\"aria-controls\":\"vs\".concat(this.uid,\"__listbox\"),ref:\"search\",type:\"search\",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{\"aria-activedescendant\":\"vs\".concat(this.uid,\"__option-\").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.loading,searching:this.searching},openIndicator:{attributes:{ref:\"openIndicator\",role:\"presentation\",class:\"vs__open-indicator\"}},listHeader:e,listFooter:e,header:m({},e,{deselect:this.deselect}),footer:m({},e,{deselect:this.deselect})}},childComponents:function(){return m({},d,{},this.components)},stateClasses:function(){return{\"vs--open\":this.dropdownOpen,\"vs--single\":!this.multiple,\"vs--searching\":this.searching&&!this.noDrop,\"vs--searchable\":this.searchable&&!this.noDrop,\"vs--unsearchable\":!this.searchable,\"vs--loading\":this.mutableLoading,\"vs--disabled\":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return!this.noDrop&&(this.open&&!this.mutableLoading)},searchPlaceholder:function(){if(this.isValueEmpty&&this.placeholder)return this.placeholder},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||e.unshift(n)}return e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}}},O=(n(7),h(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"v-select\",class:t.stateClasses,attrs:{dir:t.dir}},[t._t(\"header\",null,null,t.scope.header),t._v(\" \"),n(\"div\",{ref:\"toggle\",staticClass:\"vs__dropdown-toggle\",attrs:{id:\"vs\"+t.uid+\"__combobox\",role:\"combobox\",\"aria-expanded\":t.dropdownOpen.toString(),\"aria-owns\":\"vs\"+t.uid+\"__listbox\",\"aria-label\":\"Search for option\"},on:{mousedown:function(e){return t.toggleDropdown(e)}}},[n(\"div\",{ref:\"selectedOptions\",staticClass:\"vs__selected-options\"},[t._l(t.selectedValue,(function(e){return t._t(\"selected-option-container\",[n(\"span\",{key:t.getOptionKey(e),staticClass:\"vs__selected\"},[t._t(\"selected-option\",[t._v(\"\\n            \"+t._s(t.getOptionLabel(e))+\"\\n          \")],null,t.normalizeOptionForSlot(e)),t._v(\" \"),t.multiple?n(\"button\",{ref:\"deselectButtons\",refInFor:!0,staticClass:\"vs__deselect\",attrs:{disabled:t.disabled,type:\"button\",title:\"Deselect \"+t.getOptionLabel(e),\"aria-label\":\"Deselect \"+t.getOptionLabel(e)},on:{click:function(n){return t.deselect(e)}}},[n(t.childComponents.Deselect,{tag:\"component\"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(\" \"),t._t(\"search\",[n(\"input\",t._g(t._b({staticClass:\"vs__search\"},\"input\",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(\" \"),n(\"div\",{ref:\"actions\",staticClass:\"vs__actions\"},[n(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showClearButton,expression:\"showClearButton\"}],ref:\"clearButton\",staticClass:\"vs__clear\",attrs:{disabled:t.disabled,type:\"button\",title:\"Clear Selected\",\"aria-label\":\"Clear Selected\"},on:{click:t.clearSelection}},[n(t.childComponents.Deselect,{tag:\"component\"})],1),t._v(\" \"),t._t(\"open-indicator\",[t.noDrop?t._e():n(t.childComponents.OpenIndicator,t._b({tag:\"component\"},\"component\",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(\" \"),t._t(\"spinner\",[n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.mutableLoading,expression:\"mutableLoading\"}],staticClass:\"vs__spinner\"},[t._v(\"Loading...\")])],null,t.scope.spinner)],2)]),t._v(\" \"),n(\"transition\",{attrs:{name:t.transition}},[t.dropdownOpen?n(\"ul\",{directives:[{name:\"append-to-body\",rawName:\"v-append-to-body\"}],key:\"vs\"+t.uid+\"__listbox\",ref:\"dropdownMenu\",staticClass:\"vs__dropdown-menu\",attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\",tabindex:\"-1\"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._t(\"list-header\",null,null,t.scope.listHeader),t._v(\" \"),t._l(t.filteredOptions,(function(e,o){return n(\"li\",{key:t.getOptionKey(e),staticClass:\"vs__dropdown-option\",class:{\"vs__dropdown-option--selected\":t.isOptionSelected(e),\"vs__dropdown-option--highlight\":o===t.typeAheadPointer,\"vs__dropdown-option--disabled\":!t.selectable(e)},attrs:{role:\"option\",id:\"vs\"+t.uid+\"__option-\"+o,\"aria-selected\":o===t.typeAheadPointer||null},on:{mouseover:function(n){t.selectable(e)&&(t.typeAheadPointer=o)},mousedown:function(n){n.preventDefault(),n.stopPropagation(),t.selectable(e)&&t.select(e)}}},[t._t(\"option\",[t._v(\"\\n          \"+t._s(t.getOptionLabel(e))+\"\\n        \")],null,t.normalizeOptionForSlot(e))],2)})),t._v(\" \"),0===t.filteredOptions.length?n(\"li\",{staticClass:\"vs__no-options\"},[t._t(\"no-options\",[t._v(\"Sorry, no matching options.\")],null,t.scope.noOptions)],2):t._e(),t._v(\" \"),t._t(\"list-footer\",null,null,t.scope.listFooter)],2):n(\"ul\",{staticStyle:{display:\"none\",visibility:\"hidden\"},attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\"}})]),t._v(\" \"),t._t(\"footer\",null,null,t.scope.footer)],2)}),[],!1,null,null,null).exports),w={ajax:p,pointer:u,pointerScroll:c};n.d(e,\"VueSelect\",(function(){return O})),n.d(e,\"mixins\",(function(){return w}));e.default=O}])}));\n//# sourceMappingURL=vue-select.js.map","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","export const HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport const defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: (err) => typeof console !== \"undefined\" && console.warn(err),\n    getWeek: (givenDate) => {\n        const date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export const english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: (nth) => {\n        const s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export const pad = (number, length = 2) => `000${number}`.slice(length * -1);\nexport const int = (bool) => (bool === true ? 1 : 0);\nexport function debounce(fn, wait) {\n    let t;\n    return function () {\n        clearTimeout(t);\n        t = setTimeout(() => fn.apply(this, arguments), wait);\n    };\n}\nexport const arrayify = (obj) => obj instanceof Array ? obj : [obj];\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    const e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    const wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (const key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            const path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nconst doNothing = () => undefined;\nexport const monthToStr = (monthNumber, shorthand, locale) => locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber];\nexport const revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    H: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: (dateObj, amPM, locale) => {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: (_, unixSeconds) => new Date(parseFloat(unixSeconds) * 1000),\n    W: function (dateObj, weekNum, locale) {\n        const weekNumber = parseInt(weekNum);\n        const date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: (dateObj, year) => {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: (_, ISODate) => new Date(ISODate),\n    d: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: (dateObj, hour) => {\n        dateObj.setHours(parseFloat(hour));\n    },\n    i: (dateObj, minutes) => {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: (dateObj, day) => {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: (dateObj, month) => {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: (dateObj, seconds) => {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: (_, unixMillSeconds) => new Date(parseFloat(unixMillSeconds)),\n    w: doNothing,\n    y: (dateObj, year) => {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport const tokenRegex = {\n    D: \"(\\\\w+)\",\n    F: \"(\\\\w+)\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"(\\\\w+)\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"(\\\\w+)\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport const formats = {\n    Z: (date) => date.toISOString(),\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: (date) => pad(date.getHours()),\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: (date, locale) => locale.amPM[int(date.getHours() > 11)],\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: (date) => pad(date.getSeconds()),\n    U: (date) => date.getTime() / 1000,\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: (date) => pad(date.getFullYear(), 4),\n    d: (date) => pad(date.getDate()),\n    h: (date) => (date.getHours() % 12 ? date.getHours() % 12 : 12),\n    i: (date) => pad(date.getMinutes()),\n    j: (date) => date.getDate(),\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: (date) => pad(date.getMonth() + 1),\n    n: (date) => date.getMonth() + 1,\n    s: (date) => date.getSeconds(),\n    u: (date) => date.getTime(),\n    w: (date) => date.getDay(),\n    y: (date) => String(date.getFullYear()).substring(2),\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport const createDateFormatter = ({ config = defaults, l10n = english, isMobile = false, }) => (dateObj, frmt, overrideLocale) => {\n    const locale = overrideLocale || l10n;\n    if (config.formatDate !== undefined && !isMobile) {\n        return config.formatDate(dateObj, frmt, locale);\n    }\n    return frmt\n        .split(\"\")\n        .map((c, i, arr) => formats[c] && arr[i - 1] !== \"\\\\\"\n        ? formats[c](dateObj, locale, config)\n        : c !== \"\\\\\"\n            ? c\n            : \"\")\n        .join(\"\");\n};\nexport const createDateParser = ({ config = defaults, l10n = english }) => (date, givenFormat, timeless, customLocale) => {\n    if (date !== 0 && !date)\n        return undefined;\n    const locale = customLocale || l10n;\n    let parsedDate;\n    const dateOrig = date;\n    if (date instanceof Date)\n        parsedDate = new Date(date.getTime());\n    else if (typeof date !== \"string\" &&\n        date.toFixed !== undefined)\n        parsedDate = new Date(date);\n    else if (typeof date === \"string\") {\n        const format = givenFormat || (config || defaults).dateFormat;\n        const datestr = String(date).trim();\n        if (datestr === \"today\") {\n            parsedDate = new Date();\n            timeless = true;\n        }\n        else if (/Z$/.test(datestr) ||\n            /GMT$/.test(datestr))\n            parsedDate = new Date(date);\n        else if (config && config.parseDate)\n            parsedDate = config.parseDate(date, format);\n        else {\n            parsedDate =\n                !config || !config.noCalendar\n                    ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                    : new Date(new Date().setHours(0, 0, 0, 0));\n            let matched, ops = [];\n            for (let i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                const token = format[i];\n                const isBackSlash = token === \"\\\\\";\n                const escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                if (tokenRegex[token] && !escaped) {\n                    regexStr += tokenRegex[token];\n                    const match = new RegExp(regexStr).exec(date);\n                    if (match && (matched = true)) {\n                        ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                            fn: revFormat[token],\n                            val: match[++matchIndex],\n                        });\n                    }\n                }\n                else if (!isBackSlash)\n                    regexStr += \".\";\n                ops.forEach(({ fn, val }) => (parsedDate = fn(parsedDate, val, locale) || parsedDate));\n            }\n            parsedDate = matched ? parsedDate : undefined;\n        }\n    }\n    if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n        config.errorHandler(new Error(`Invalid date provided: ${dateOrig}`));\n        return undefined;\n    }\n    if (timeless === true)\n        parsedDate.setHours(0, 0, 0, 0);\n    return parsedDate;\n};\nexport function compareDates(date1, date2, timeless = true) {\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport const isBetween = (ts, ts1, ts2) => {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport const duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    let hours = config.defaultHour;\n    let minutes = config.defaultMinute;\n    let seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        const minHour = config.minDate.getHours();\n        const minMinutes = config.minDate.getMinutes();\n        const minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        const maxHr = config.maxDate.getHours();\n        const maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours, minutes, seconds };\n}\n","import { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nconst DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    const self = {\n        config: Object.assign(Object.assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self._createElement = createElement;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth(month = self.currentMonth, yr = self.currentYear) {\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        const config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    const daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            const defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            const defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        const prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        let hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        const limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        const limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (limitMaxHours) {\n            const maxTime = self.config.maxTime !== undefined\n                ? self.config.maxTime\n                : self.config.maxDate;\n            hours = Math.min(hours, maxTime.getHours());\n            if (hours === maxTime.getHours())\n                minutes = Math.min(minutes, maxTime.getMinutes());\n            if (minutes === maxTime.getMinutes())\n                seconds = Math.min(seconds, maxTime.getSeconds());\n        }\n        if (limitMinHours) {\n            const minTime = self.config.minTime !== undefined\n                ? self.config.minTime\n                : self.config.minDate;\n            hours = Math.max(hours, minTime.getHours());\n            if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                minutes = minTime.getMinutes();\n            if (minutes === minTime.getMinutes())\n                seconds = Math.max(seconds, minTime.getSeconds());\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        const date = dateObj || self.latestSelectedDateObj;\n        if (date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        const eventTarget = getEventTarget(event);\n        const year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach((ev) => bind(element, ev, handler, options));\n        if (element instanceof Array)\n            return element.forEach((el) => bind(el, event, handler, options));\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: () => element.removeEventListener(event, handler),\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach((evt) => {\n                Array.prototype.forEach.call(self.element.querySelectorAll(`[data-${evt}]`), (el) => bind(el, \"click\", self[evt]));\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        const debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", (e) => {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(window.document.body, \"keydown\", onKeyDown);\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            const selText = (e) => getEventTarget(e).select();\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", () => self.secondElement && self.secondElement.select());\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", (e) => {\n                    updateTime(e);\n                    triggerChange();\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        const jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        const oldYear = self.currentYear;\n        const oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        const eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        const target = e && getEventTarget(e);\n        const input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        const event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        const fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                const { weekWrapper, weekNumbers } = buildWeeks();\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        const customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                const wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, dayNumber, i) {\n        const dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", \"flatpickr-day \" + className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            dayNumber % 7 === 1) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        const startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (let m = startMonth; m != endMonth; m += delta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = delta > 0 ? 0 : month.children.length - 1;\n            const endIndex = delta > 0 ? month.children.length : -1;\n            for (let i = startIndex; i != endIndex; i += delta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        const givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        const endMonth = delta > 0 ? self.config.showMonths : -1;\n        const loopDelta = delta > 0 ? 1 : -1;\n        for (let m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            const month = self.daysContainer.children[m];\n            const startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            const numMonthDays = month.children.length;\n            for (let i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                const c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        const dayFocused = isInView(document.activeElement || document.body);\n        const startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? document.activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        const firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        const prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        const daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        let dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (let dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        const dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        const frag = document.createDocumentFragment();\n        for (let i = 0; i < self.config.showMonths; i++) {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        const shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (let i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            const month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        const container = createElement(\"div\", \"flatpickr-month\");\n        const monthNavFragment = window.document.createDocumentFragment();\n        let monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", (e) => {\n                const target = getEventTarget(e);\n                const selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        const yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        const yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        const currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container,\n            yearElement,\n            monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (let m = self.config.showMonths; m--;) {\n            const month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: () => self.__hidePrevMonthArrow,\n            set(bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: () => self.__hideNextMonthArrow,\n            set(bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        const defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        const separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        const hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        const minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            const secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (let i = self.config.showMonths; i--;) {\n            const container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        const firstDayOfWeek = self.l10n.firstDayOfWeek;\n        let weekdays = [...self.l10n.weekdays.shorthand];\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = [\n                ...weekdays.splice(firstDayOfWeek, weekdays.length),\n                ...weekdays.splice(0, firstDayOfWeek),\n            ];\n        }\n        for (let i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = `\n      <span class='flatpickr-weekday'>\n        ${weekdays.join(\"</span><span class='flatpickr-weekday'>\")}\n      </span>\n      `;\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        const weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        const weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper,\n            weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset = true) {\n        const delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent = true, toInitial = true) {\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            const { hours, minutes, seconds } = getDefaultHours(self.config);\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (let i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                const wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach((k) => {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\n            return true;\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            const eventTarget = getEventTarget(e);\n            const isCalendarElement = isCalendarElem(eventTarget);\n            const isInput = eventTarget === self.input ||\n                eventTarget === self.altInput ||\n                self.element.contains(eventTarget) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            const lostFocus = e.type === \"blur\"\n                ? isInput &&\n                    e.relatedTarget &&\n                    !isCalendarElem(e.relatedTarget)\n                : !isInput &&\n                    !isCalendarElement &&\n                    !isCalendarElem(e.relatedTarget);\n            const isIgnored = !self.config.ignoredFocusElements.some((elem) => elem.contains(eventTarget));\n            if (lostFocus && isIgnored) {\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1) {\n                    self.clear(false);\n                    self.redraw();\n                }\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        const newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless = true) {\n        var _a;\n        const dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        const bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (let i = 0, d; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                const parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        const isInput = e.target === self._input;\n        if (isInput &&\n            (self.selectedDates.length > 0 || self._input.value.length > 0) &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        const eventTarget = getEventTarget(e);\n        const isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        const allowInput = self.config.allowInput;\n        const allowKeydown = self.isOpen && (!allowInput || !isInput);\n        const allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            const isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (document.activeElement && isInView(document.activeElement)))) {\n                            const delta = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    const delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        const elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter((x) => x);\n                        const i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            const target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem) {\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(\"flatpickr-day\") ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        const hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        let containsDisabled = false;\n        let minRange = 0, maxRange = 0;\n        for (let t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        for (let m = 0; m < self.config.showMonths; m++) {\n            const month = self.daysContainer.children[m];\n            for (let i = 0, l = month.children.length; i < l; i++) {\n                const dayElem = month.children[i], date = dayElem.dateObj;\n                const timestamp = date.getTime();\n                const outOfRange = (minRange > 0 && timestamp < minRange) ||\n                    (maxRange > 0 && timestamp > maxRange);\n                if (outOfRange) {\n                    dayElem.classList.add(\"notAllowed\");\n                    [\"inRange\", \"startRange\", \"endRange\"].forEach((c) => {\n                        dayElem.classList.remove(c);\n                    });\n                    continue;\n                }\n                else if (containsDisabled && !outOfRange)\n                    continue;\n                [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach((c) => {\n                    dayElem.classList.remove(c);\n                });\n                if (elem !== undefined) {\n                    elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                        ? \"startRange\"\n                        : \"endRange\");\n                    if (initialDate < hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"startRange\");\n                    else if (initialDate > hoverDate && timestamp === initialDate)\n                        dayElem.classList.add(\"endRange\");\n                    if (timestamp >= minRange &&\n                        (maxRange === 0 || timestamp <= maxRange) &&\n                        isBetween(timestamp, initialDate, hoverDate))\n                        dayElem.classList.add(\"inRange\");\n                }\n            }\n        }\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement = self._positionElement) {\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                const eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        const wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(() => self.hourElement.select(), 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return (date) => {\n            const dateObj = (self.config[`_${type}Date`] = self.parseDate(date, self.config.dateFormat));\n            const inverseDateObj = self.config[`_${type === \"min\" ? \"max\" : \"min\"}Date`];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter((d) => isEnabled(d));\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        const boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        const userConfig = Object.assign(Object.assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        const formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: () => self.config._enable,\n            set: (dates) => {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: () => self.config._disable,\n            set: (dates) => {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        const timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            const defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            const defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + ` h:i${userConfig.enableSeconds ? \":S\" : \"\"} K`;\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: () => self.config._minDate,\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: () => self.config._maxDate,\n            set: minMaxDateSetter(\"max\"),\n        });\n        const minMaxTimeSetter = (type) => (val) => {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: () => self.config._minTime,\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: () => self.config._maxTime,\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (let i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter((hook) => self.config[hook] !== undefined).forEach((hook) => {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (let i = 0; i < self.config.plugins.length; i++) {\n            const pluginConf = self.config.plugins[i](self) || {};\n            for (const key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(`flatpickr: invalid locale ${self.config.locale}`));\n        self.l10n = Object.assign(Object.assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.K = `(${self.l10n.amPM[0]}|${self.l10n.amPM[1]}|${self.l10n.amPM[0].toLowerCase()}|${self.l10n.amPM[1].toLowerCase()})`;\n        const userConfig = Object.assign(Object.assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        const positionElement = customPositionElement || self._positionElement;\n        const calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, ((acc, child) => acc + child.offsetHeight), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        const top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        let left = window.pageXOffset + inputBounds.left;\n        let isCenter = false;\n        let isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        const right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        const rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        const centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = `${top}px`;\n        if (!rightMost) {\n            self.calendarContainer.style.left = `${left}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = `${right}px`;\n        }\n        else {\n            const doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            const bodyWidth = window.document.body.offsetWidth;\n            const centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            const centerBefore = \".flatpickr-calendar.centerMost:before\";\n            const centerAfter = \".flatpickr-calendar.centerMost:after\";\n            const centerIndex = doc.cssRules.length;\n            const centerStyle = `{left:${inputBounds.left}px;right:auto;}`;\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(`${centerBefore},${centerAfter}${centerStyle}`, centerIndex);\n            self.calendarContainer.style.left = `${centerLeft}px`;\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        let editableSheet = null;\n        for (let i = 0; i < document.styleSheets.length; i++) {\n            const sheet = document.styleSheets[i];\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        const style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const isSelectable = (day) => day.classList &&\n            day.classList.contains(\"flatpickr-day\") &&\n            !day.classList.contains(\"flatpickr-disabled\") &&\n            !day.classList.contains(\"notAllowed\");\n        const t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        const target = t;\n        const selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        const shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            const selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            const isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            const single = self.config.mode === \"single\" && !self.config.enableTime;\n            const range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    const CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        clickOpens: [\n            () => {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (const key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach((x) => x());\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach((x) => x());\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        let dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map((d) => self.parseDate(d, format));\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map((date) => self.parseDate(date, format));\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(inputDate)}`));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter((d) => d instanceof Date && isEnabled(d, false)));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort((a, b) => a.getTime() - b.getTime());\n    }\n    function setDate(date, triggerChange = false, format = self.config.dateFormat) {\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map((rule) => {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter((x) => x);\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        const preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        const inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", (e) => {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        const hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (let i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        const e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (let i = 0; i < self.selectedDates.length; i++) {\n            if (compareDates(self.selectedDates[i], date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach((yearElement, i) => {\n            const d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(format) {\n        return self.selectedDates\n            .map((dObj) => self.formatDate(dObj, format))\n            .filter((d, i, arr) => self.config.mode !== \"range\" ||\n            self.config.enableTime ||\n            arr.indexOf(d) === i)\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange = true) {\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        const eventTarget = getEventTarget(e);\n        const isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        const isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        const isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        const min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        let newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            const isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    const nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter((x) => x instanceof HTMLElement);\n    const instances = [];\n    for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: Object.assign({}, English),\n    default: Object.assign({}, English),\n};\nflatpickr.localize = (l10n) => {\n    flatpickr.l10ns.default = Object.assign(Object.assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = (config) => {\n    flatpickr.defaultConfig = Object.assign(Object.assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target, ...args) {\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        for (const source of args) {\n            if (source) {\n                Object.keys(source).forEach((key) => (target[key] = source[key]));\n            }\n        }\n        return target;\n    };\n}\n","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue, mergeData } from '../../vue';\nimport { NAME_MEDIA_ASIDE } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  right: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'div'),\n  verticalAlign: makeProp(PROP_TYPE_STRING, 'top')\n}, NAME_MEDIA_ASIDE); // --- Main component ---\n// @vue/component\n\nexport var BMediaAside = /*#__PURE__*/Vue.extend({\n  name: NAME_MEDIA_ASIDE,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var verticalAlign = props.verticalAlign;\n    var align = verticalAlign === 'top' ? 'start' : verticalAlign === 'bottom' ? 'end' :\n    /* istanbul ignore next */\n    verticalAlign;\n    return h(props.tag, mergeData(data, {\n      staticClass: 'media-aside',\n      class: _defineProperty({\n        'media-aside-right': props.right\n      }, \"align-self-\".concat(align), align)\n    }), children);\n  }\n});","import { Vue, mergeData } from '../../vue';\nimport { NAME_MEDIA_BODY } from '../../constants/components';\nimport { PROP_TYPE_STRING } from '../../constants/props';\nimport { makeProp, makePropsConfigurable } from '../../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  tag: makeProp(PROP_TYPE_STRING, 'div')\n}, NAME_MEDIA_BODY); // --- Main component ---\n// @vue/component\n\nexport var BMediaBody = /*#__PURE__*/Vue.extend({\n  name: NAME_MEDIA_BODY,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, mergeData(data, {\n      staticClass: 'media-body'\n    }), children);\n  }\n});","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeEndsWith = ''.endsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = String(searchString);\n    return nativeEndsWith\n      ? nativeEndsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// v-b-visible\n// Private visibility check directive\n// Based on IntersectionObserver\n//\n// Usage:\n//  v-b-visibility.<margin>.<once>=\"<callback>\"\n//\n//  Value:\n//  <callback>: method to be called when visibility state changes, receives one arg:\n//     true:  element is visible\n//     false: element is not visible\n//     null:  IntersectionObserver not supported\n//\n//  Modifiers:\n//    <margin>: a positive decimal value of pixels away from viewport edge\n//              before being considered \"visible\". default is 0\n//    <once>:   keyword 'once', meaning when the element becomes visible and\n//              callback is called observation/notification will stop.\n//\n// When used in a render function:\n// export default {\n//   directives: { 'b-visible': VBVisible },\n//   render(h) {\n//     h(\n//       'div',\n//       {\n//         directives: [\n//           { name: 'b-visible', value=this.callback, modifiers: { '123':true, 'once':true } }\n//         ]\n//       }\n//     )\n//   }\nimport { RX_DIGITS } from '../../constants/regex';\nimport { requestAF } from '../../utils/dom';\nimport { isFunction } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { clone, keys } from '../../utils/object';\nvar OBSERVER_PROP_NAME = '__bv__visibility_observer';\n\nvar VisibilityObserver = /*#__PURE__*/function () {\n  function VisibilityObserver(el, options, vnode) {\n    _classCallCheck(this, VisibilityObserver);\n\n    this.el = el;\n    this.callback = options.callback;\n    this.margin = options.margin || 0;\n    this.once = options.once || false;\n    this.observer = null;\n    this.visible = undefined;\n    this.doneOnce = false; // Create the observer instance (if possible)\n\n    this.createObserver(vnode);\n  }\n\n  _createClass(VisibilityObserver, [{\n    key: \"createObserver\",\n    value: function createObserver(vnode) {\n      var _this = this;\n\n      // Remove any previous observer\n      if (this.observer) {\n        /* istanbul ignore next */\n        this.stop();\n      } // Should only be called once and `callback` prop should be a function\n\n\n      if (this.doneOnce || !isFunction(this.callback)) {\n        /* istanbul ignore next */\n        return;\n      } // Create the observer instance\n\n\n      try {\n        // Future: Possibly add in other modifiers for left/right/top/bottom\n        // offsets, root element reference, and thresholds\n        this.observer = new IntersectionObserver(this.handler.bind(this), {\n          // `null` = 'viewport'\n          root: null,\n          // Pixels away from view port to consider \"visible\"\n          rootMargin: this.margin,\n          // Intersection ratio of el and root (as a value from 0 to 1)\n          threshold: 0\n        });\n      } catch (_unused) {\n        // No IntersectionObserver support, so just stop trying to observe\n        this.doneOnce = true;\n        this.observer = undefined;\n        this.callback(null);\n        return;\n      } // Start observing in a `$nextTick()` (to allow DOM to complete rendering)\n\n      /* istanbul ignore next: IntersectionObserver not supported in JSDOM */\n\n\n      vnode.context.$nextTick(function () {\n        requestAF(function () {\n          // Placed in an `if` just in case we were destroyed before\n          // this `requestAnimationFrame` runs\n          if (_this.observer) {\n            _this.observer.observe(_this.el);\n          }\n        });\n      });\n    }\n    /* istanbul ignore next */\n\n  }, {\n    key: \"handler\",\n    value: function handler(entries) {\n      var entry = entries ? entries[0] : {};\n      var isIntersecting = Boolean(entry.isIntersecting || entry.intersectionRatio > 0.0);\n\n      if (isIntersecting !== this.visible) {\n        this.visible = isIntersecting;\n        this.callback(isIntersecting);\n\n        if (this.once && this.visible) {\n          this.doneOnce = true;\n          this.stop();\n        }\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      /* istanbul ignore next */\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n    }\n  }]);\n\n  return VisibilityObserver;\n}();\n\nvar destroy = function destroy(el) {\n  var observer = el[OBSERVER_PROP_NAME];\n\n  if (observer && observer.stop) {\n    observer.stop();\n  }\n\n  delete el[OBSERVER_PROP_NAME];\n};\n\nvar bind = function bind(el, _ref, vnode) {\n  var value = _ref.value,\n      modifiers = _ref.modifiers;\n  // `value` is the callback function\n  var options = {\n    margin: '0px',\n    once: false,\n    callback: value\n  }; // Parse modifiers\n\n  keys(modifiers).forEach(function (mod) {\n    /* istanbul ignore else: Until <b-img-lazy> is switched to use this directive */\n    if (RX_DIGITS.test(mod)) {\n      options.margin = \"\".concat(mod, \"px\");\n    } else if (mod.toLowerCase() === 'once') {\n      options.once = true;\n    }\n  }); // Destroy any previous observer\n\n  destroy(el); // Create new observer\n\n  el[OBSERVER_PROP_NAME] = new VisibilityObserver(el, options, vnode); // Store the current modifiers on the object (cloned)\n\n  el[OBSERVER_PROP_NAME]._prevModifiers = clone(modifiers);\n}; // When the directive options may have been updated (or element)\n\n\nvar componentUpdated = function componentUpdated(el, _ref2, vnode) {\n  var value = _ref2.value,\n      oldValue = _ref2.oldValue,\n      modifiers = _ref2.modifiers;\n  // Compare value/oldValue and modifiers to see if anything has changed\n  // and if so, destroy old observer and create new observer\n\n  /* istanbul ignore next */\n  modifiers = clone(modifiers);\n  /* istanbul ignore next */\n\n  if (el && (value !== oldValue || !el[OBSERVER_PROP_NAME] || !looseEqual(modifiers, el[OBSERVER_PROP_NAME]._prevModifiers))) {\n    // Re-bind on element\n    bind(el, {\n      value: value,\n      modifiers: modifiers\n    }, vnode);\n  }\n}; // When directive un-binds from element\n\n\nvar unbind = function unbind(el) {\n  // Remove the observer\n  destroy(el);\n}; // Export the directive\n\n\nexport var VBVisible = {\n  bind: bind,\n  componentUpdated: componentUpdated,\n  unbind: unbind\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_TEXTAREA } from '../../constants/components';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER_STRING, PROP_TYPE_STRING } from '../../constants/props';\nimport { getCS, getStyle, isVisible, requestAF, setStyle } from '../../utils/dom';\nimport { isNull } from '../../utils/inspect';\nimport { mathCeil, mathMax, mathMin } from '../../utils/math';\nimport { toInteger, toFloat } from '../../utils/number';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formSelectionMixin } from '../../mixins/form-selection';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { formTextMixin, props as formTextProps } from '../../mixins/form-text';\nimport { formValidityMixin } from '../../mixins/form-validity';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { listenOnRootMixin } from '../../mixins/listen-on-root';\nimport { listenersMixin } from '../../mixins/listeners';\nimport { VBVisible } from '../../directives/visible/visible'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formSizeProps), formStateProps), formTextProps), {}, {\n  maxRows: makeProp(PROP_TYPE_NUMBER_STRING),\n  // When in auto resize mode, disable shrinking to content height\n  noAutoShrink: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Disable the resize handle of textarea\n  noResize: makeProp(PROP_TYPE_BOOLEAN, false),\n  rows: makeProp(PROP_TYPE_NUMBER_STRING, 2),\n  // 'soft', 'hard' or 'off'\n  // Browser default is 'soft'\n  wrap: makeProp(PROP_TYPE_STRING, 'soft')\n})), NAME_FORM_TEXTAREA); // --- Main component ---\n// @vue/component\n\nexport var BFormTextarea = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_TEXTAREA,\n  directives: {\n    'b-visible': VBVisible\n  },\n  // Mixin order is important!\n  mixins: [listenersMixin, idMixin, listenOnRootMixin, formControlMixin, formSizeMixin, formStateMixin, formTextMixin, formSelectionMixin, formValidityMixin],\n  props: props,\n  data: function data() {\n    return {\n      heightInPx: null\n    };\n  },\n  computed: {\n    computedStyle: function computedStyle() {\n      var styles = {\n        // Setting `noResize` to true will disable the ability for the user to\n        // manually resize the textarea. We also disable when in auto height mode\n        resize: !this.computedRows || this.noResize ? 'none' : null\n      };\n\n      if (!this.computedRows) {\n        // Conditionally set the computed CSS height when auto rows/height is enabled\n        // We avoid setting the style to `null`, which can override user manual resize handle\n        styles.height = this.heightInPx; // We always add a vertical scrollbar to the textarea when auto-height is\n        // enabled so that the computed height calculation returns a stable value\n\n        styles.overflowY = 'scroll';\n      }\n\n      return styles;\n    },\n    computedMinRows: function computedMinRows() {\n      // Ensure rows is at least 2 and positive (2 is the native textarea value)\n      // A value of 1 can cause issues in some browsers, and most browsers\n      // only support 2 as the smallest value\n      return mathMax(toInteger(this.rows, 2), 2);\n    },\n    computedMaxRows: function computedMaxRows() {\n      return mathMax(this.computedMinRows, toInteger(this.maxRows, 0));\n    },\n    computedRows: function computedRows() {\n      // This is used to set the attribute 'rows' on the textarea\n      // If auto-height is enabled, then we return `null` as we use CSS to control height\n      return this.computedMinRows === this.computedMaxRows ? this.computedMinRows : null;\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.disabled,\n          required = this.required;\n      return {\n        id: this.safeId(),\n        name: this.name || null,\n        form: this.form || null,\n        disabled: disabled,\n        placeholder: this.placeholder || null,\n        required: required,\n        autocomplete: this.autocomplete || null,\n        readonly: this.readonly || this.plaintext,\n        rows: this.computedRows,\n        wrap: this.wrap || null,\n        'aria-required': this.required ? 'true' : null,\n        'aria-invalid': this.computedAriaInvalid\n      };\n    },\n    computedListeners: function computedListeners() {\n      return _objectSpread(_objectSpread({}, this.bvListeners), {}, {\n        input: this.onInput,\n        change: this.onChange,\n        blur: this.onBlur\n      });\n    }\n  },\n  watch: {\n    localValue: function localValue() {\n      this.setHeight();\n    }\n  },\n  mounted: function mounted() {\n    this.setHeight();\n  },\n  methods: {\n    // Called by intersection observer directive\n\n    /* istanbul ignore next */\n    visibleCallback: function visibleCallback(visible) {\n      if (visible) {\n        // We use a `$nextTick()` here just to make sure any\n        // transitions or portalling have completed\n        this.$nextTick(this.setHeight);\n      }\n    },\n    setHeight: function setHeight() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this.heightInPx = _this.computeHeight();\n        });\n      });\n    },\n\n    /* istanbul ignore next: can't test getComputedStyle in JSDOM */\n    computeHeight: function computeHeight() {\n      if (this.$isServer || !isNull(this.computedRows)) {\n        return null;\n      }\n\n      var el = this.$el; // Element must be visible (not hidden) and in document\n      // Must be checked after above checks\n\n      if (!isVisible(el)) {\n        return null;\n      } // Get current computed styles\n\n\n      var computedStyle = getCS(el); // Height of one line of text in px\n\n      var lineHeight = toFloat(computedStyle.lineHeight, 1); // Calculate height of border and padding\n\n      var border = toFloat(computedStyle.borderTopWidth, 0) + toFloat(computedStyle.borderBottomWidth, 0);\n      var padding = toFloat(computedStyle.paddingTop, 0) + toFloat(computedStyle.paddingBottom, 0); // Calculate offset\n\n      var offset = border + padding; // Minimum height for min rows (which must be 2 rows or greater for cross-browser support)\n\n      var minHeight = lineHeight * this.computedMinRows + offset; // Get the current style height (with `px` units)\n\n      var oldHeight = getStyle(el, 'height') || computedStyle.height; // Probe scrollHeight by temporarily changing the height to `auto`\n\n      setStyle(el, 'height', 'auto');\n      var scrollHeight = el.scrollHeight; // Place the original old height back on the element, just in case `computedProp`\n      // returns the same value as before\n\n      setStyle(el, 'height', oldHeight); // Calculate content height in 'rows' (scrollHeight includes padding but not border)\n\n      var contentRows = mathMax((scrollHeight - padding) / lineHeight, 2); // Calculate number of rows to display (limited within min/max rows)\n\n      var rows = mathMin(mathMax(contentRows, this.computedMinRows), this.computedMaxRows); // Calculate the required height of the textarea including border and padding (in pixels)\n\n      var height = mathMax(mathCeil(rows * lineHeight + offset), minHeight); // Computed height remains the larger of `oldHeight` and new `height`,\n      // when height is in `sticky` mode (prop `no-auto-shrink` is true)\n\n      if (this.noAutoShrink && toFloat(oldHeight, 0) > height) {\n        return oldHeight;\n      } // Return the new computed CSS height in px units\n\n\n      return \"\".concat(height, \"px\");\n    }\n  },\n  render: function render(h) {\n    return h('textarea', {\n      class: this.computedClass,\n      style: this.computedStyle,\n      directives: [{\n        name: 'b-visible',\n        value: this.visibleCallback,\n        // If textarea is within 640px of viewport, consider it visible\n        modifiers: {\n          '640': true\n        }\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.localValue\n      },\n      on: this.computedListeners,\n      ref: 'input'\n    });\n  }\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_RADIO } from '../../constants/components';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { sortKeys } from '../../utils/object';\nimport { makePropsConfigurable } from '../../utils/props';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check';\nimport { formSizeMixin, props as formSizeProps } from '../../mixins/form-size';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id'; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), formControlProps), formRadioCheckProps), formSizeProps), formStateProps)), NAME_FORM_RADIO); // --- Main component ---\n// @vue/component\n\nexport var BFormRadio = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_RADIO,\n  mixins: [idMixin, formRadioCheckMixin, // Includes shared render function\n  formControlMixin, formSizeMixin, formStateMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvRadioGroup',\n      default: false\n    }\n  },\n  props: props,\n  watch: {\n    computedLocalChecked: function computedLocalChecked(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n      }\n    }\n  }\n});","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = getEventTargetViaRoot(pev.origEvent);\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n//# sourceMappingURL=main.js.map\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","import { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN } from '../constants/props';\nimport { makeProp, makePropsConfigurable } from '../utils/props'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  plain: makeProp(PROP_TYPE_BOOLEAN, false)\n}, 'formControls'); // --- Mixin ---\n// @vue/component\n\nexport var formCustomMixin = Vue.extend({\n  props: props,\n  computed: {\n    custom: function custom() {\n      return !this.plain;\n    }\n  }\n});","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"flatpickr\")):\"function\"==typeof define&&define.amd?define(\"VueFlatpickr\",[\"flatpickr\"],e):\"object\"==typeof exports?exports.VueFlatpickr=e(require(\"flatpickr\")):t.VueFlatpickr=e(t.flatpickr)}(\"undefined\"!=typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){\"use strict\";n.r(e),n.d(e,\"Component\",(function(){return c})),n.d(e,\"Plugin\",(function(){return p}));var r=n(0),o=n.n(r),i=[\"onChange\",\"onClose\",\"onDestroy\",\"onMonthChange\",\"onOpen\",\"onYearChange\"];function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=function(t){return t.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase()},f=function(t){return u({},t)},l=i.concat([\"onValueUpdate\",\"onDayCreate\",\"onParseConfig\",\"onReady\",\"onPreCalendarPosition\",\"onKeyDown\"]),s=[\"locale\",\"showMonths\"],c={name:\"flat-pickr\",render:function(t){return t(\"input\",{attrs:{type:\"text\",\"data-input\":!0},props:{disabled:this.disabled},on:{input:this.onInput}})},props:{value:{default:null,required:!0,validator:function(t){return null===t||t instanceof Date||\"string\"==typeof t||t instanceof String||t instanceof Array||\"number\"==typeof t}},config:{type:Object,default:function(){return{wrap:!1,defaultDate:null}}},events:{type:Array,default:function(){return i}},disabled:{type:Boolean,default:!1}},data:function(){return{fp:null}},mounted:function(){var t=this;if(!this.fp){var e=f(this.config);this.events.forEach((function(n){var r,i=o.a.defaultConfig[n]||[];e[n]=(r=e[n]||[],r instanceof Array?r:[r]).concat(i,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.$emit.apply(t,[a(n)].concat(r))}))})),e.defaultDate=this.value||e.defaultDate,this.fp=new o.a(this.getElem(),e),this.fpInput().addEventListener(\"blur\",this.onBlur),this.$on(\"on-close\",this.onClose),this.$watch(\"disabled\",this.watchDisabled,{immediate:!0})}},methods:{getElem:function(){return this.config.wrap?this.$el.parentNode:this.$el},onInput:function(t){var e=this,n=t.target;this.$nextTick((function(){e.$emit(\"input\",n.value)}))},fpInput:function(){return this.fp.altInput||this.fp.input},onBlur:function(t){this.$emit(\"blur\",t.target.value)},onClose:function(t,e){this.$emit(\"input\",e)},watchDisabled:function(t){t?this.fpInput().setAttribute(\"disabled\",t):this.fpInput().removeAttribute(\"disabled\")}},watch:{config:{deep:!0,handler:function(t){var e=this,n=f(t);l.forEach((function(t){delete n[t]})),this.fp.set(n),s.forEach((function(t){void 0!==n[t]&&e.fp.set(t,n[t])}))}},value:function(t){t!==this.$el.value&&this.fp&&this.fp.setDate(t,!0)}},beforeDestroy:function(){this.fp&&(this.fpInput().removeEventListener(\"blur\",this.onBlur),this.fp.destroy(),this.fp=null)}},p=function(t,e){var n=\"flat-pickr\";\"string\"==typeof e&&(n=e),t.component(n,c)};c.install=p;e.default=c}]).default}));","var _objectSpread2;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_CHECKBOX } from '../../constants/components';\nimport { EVENT_NAME_CHANGE, MODEL_EVENT_NAME_PREFIX } from '../../constants/events';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN } from '../../constants/props';\nimport { isArray } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { looseIndexOf } from '../../utils/loose-index-of';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { MODEL_EVENT_NAME, formRadioCheckMixin, props as formRadioCheckProps } from '../../mixins/form-radio-check'; // --- Constants ---\n\nvar MODEL_PROP_NAME_INDETERMINATE = 'indeterminate';\nvar MODEL_EVENT_NAME_INDETERMINATE = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_INDETERMINATE; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, formRadioCheckProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME_INDETERMINATE, makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"switch\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"uncheckedValue\", makeProp(PROP_TYPE_ANY, false)), _defineProperty(_objectSpread2, \"value\", makeProp(PROP_TYPE_ANY, true)), _objectSpread2))), NAME_FORM_CHECKBOX); // --- Main component ---\n// @vue/component\n\nexport var BFormCheckbox = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_CHECKBOX,\n  mixins: [formRadioCheckMixin],\n  inject: {\n    bvGroup: {\n      from: 'bvCheckGroup',\n      default: null\n    }\n  },\n  props: props,\n  computed: {\n    isChecked: function isChecked() {\n      var value = this.value,\n          checked = this.computedLocalChecked;\n      return isArray(checked) ? looseIndexOf(checked, value) > -1 : looseEqual(checked, value);\n    },\n    isRadio: function isRadio() {\n      return false;\n    }\n  },\n  watch: _defineProperty({}, MODEL_PROP_NAME_INDETERMINATE, function (newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.setIndeterminate(newValue);\n    }\n  }),\n  mounted: function mounted() {\n    // Set initial indeterminate state\n    this.setIndeterminate(this[MODEL_PROP_NAME_INDETERMINATE]);\n  },\n  methods: {\n    computedLocalCheckedWatcher: function computedLocalCheckedWatcher(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        this.$emit(MODEL_EVENT_NAME, newValue);\n        var $input = this.$refs.input;\n\n        if ($input) {\n          this.$emit(MODEL_EVENT_NAME_INDETERMINATE, $input.indeterminate);\n        }\n      }\n    },\n    handleChange: function handleChange(_ref) {\n      var _this = this;\n\n      var _ref$target = _ref.target,\n          checked = _ref$target.checked,\n          indeterminate = _ref$target.indeterminate;\n      var value = this.value,\n          uncheckedValue = this.uncheckedValue; // Update `computedLocalChecked`\n\n      var localChecked = this.computedLocalChecked;\n\n      if (isArray(localChecked)) {\n        var index = looseIndexOf(localChecked, value);\n\n        if (checked && index < 0) {\n          // Add value to array\n          localChecked = localChecked.concat(value);\n        } else if (!checked && index > -1) {\n          // Remove value from array\n          localChecked = localChecked.slice(0, index).concat(localChecked.slice(index + 1));\n        }\n      } else {\n        localChecked = checked ? value : uncheckedValue;\n      }\n\n      this.computedLocalChecked = localChecked; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n      this.$nextTick(function () {\n        // Change is only emitted on user interaction\n        _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n        if (_this.isGroup) {\n          _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n        }\n\n        _this.$emit(MODEL_EVENT_NAME_INDETERMINATE, indeterminate);\n      });\n    },\n    setIndeterminate: function setIndeterminate(state) {\n      // Indeterminate only supported in single checkbox mode\n      if (isArray(this.computedLocalChecked)) {\n        state = false;\n      }\n\n      var $input = this.$refs.input;\n\n      if ($input) {\n        $input.indeterminate = state; // Emit update event to prop\n\n        this.$emit(MODEL_EVENT_NAME_INDETERMINATE, state);\n      }\n    }\n  }\n});","import { looseEqual } from './loose-equal'; // Assumes that the first argument is an array\n\nexport var looseIndexOf = function looseIndexOf(array, value) {\n  for (var i = 0; i < array.length; i++) {\n    if (looseEqual(array[i], value)) {\n      return i;\n    }\n  }\n\n  return -1;\n};","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_FILE } from '../../constants/components';\nimport { HAS_PROMISE_SUPPORT } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_OPTIONS_PASSIVE } from '../../constants/events';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN, PROP_TYPE_FUNCTION, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DROP_PLACEHOLDER, SLOT_NAME_FILE_NAME, SLOT_NAME_PLACEHOLDER } from '../../constants/slots';\nimport { RX_EXTENSION, RX_STAR } from '../../constants/regex';\nimport { File } from '../../constants/safe-types';\nimport { from as arrayFrom, flatten, flattenDeep } from '../../utils/array';\nimport { cloneDeep } from '../../utils/clone-deep';\nimport { closest } from '../../utils/dom';\nimport { eventOn, eventOff, stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isArray, isFile, isFunction, isNull, isUndefinedOrNull } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../../utils/props';\nimport { escapeRegExp } from '../../utils/string';\nimport { warn } from '../../utils/warn';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formCustomMixin, props as formCustomProps } from '../../mixins/form-custom';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { props as formSizeProps } from '../../mixins/form-size'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: [PROP_TYPE_ARRAY, File],\n  defaultValue: null,\n  validator: function validator(value) {\n    /* istanbul ignore next */\n    if (value === '') {\n      warn(VALUE_EMPTY_DEPRECATED_MSG, NAME_FORM_FILE);\n      return true;\n    }\n\n    return isUndefinedOrNull(value) || isValidValue(value);\n  }\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar VALUE_EMPTY_DEPRECATED_MSG = 'Setting \"value\"/\"v-model\" to an empty string for reset is deprecated. Set to \"null\" instead.'; // --- Helper methods ---\n\nvar isValidValue = function isValidValue(value) {\n  return isFile(value) || isArray(value) && value.every(function (v) {\n    return isValidValue(v);\n  });\n}; // Helper method to \"safely\" get the entry from a data-transfer item\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getDataTransferItemEntry = function getDataTransferItemEntry(item) {\n  return isFunction(item.getAsEntry) ? item.getAsEntry() : isFunction(item.webkitGetAsEntry) ? item.webkitGetAsEntry() : null;\n}; // Drop handler function to get all files\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntries = function getAllFileEntries(dataTransferItemList) {\n  var traverseDirectories = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return Promise.all(arrayFrom(dataTransferItemList).filter(function (item) {\n    return item.kind === 'file';\n  }).map(function (item) {\n    var entry = getDataTransferItemEntry(item);\n\n    if (entry) {\n      if (entry.isDirectory && traverseDirectories) {\n        return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(entry.name, \"/\"));\n      } else if (entry.isFile) {\n        return new Promise(function (resolve) {\n          entry.file(function (file) {\n            file.$path = '';\n            resolve(file);\n          });\n        });\n      }\n    }\n\n    return null;\n  }).filter(identity));\n}; // Get all the file entries (recursive) in a directory\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntriesInDirectory = function getAllFileEntriesInDirectory(directoryReader) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return new Promise(function (resolve) {\n    var entryPromises = [];\n\n    var readDirectoryEntries = function readDirectoryEntries() {\n      directoryReader.readEntries(function (entries) {\n        if (entries.length === 0) {\n          resolve(Promise.all(entryPromises).then(function (entries) {\n            return flatten(entries);\n          }));\n        } else {\n          entryPromises.push(Promise.all(entries.map(function (entry) {\n            if (entry) {\n              if (entry.isDirectory) {\n                return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(path).concat(entry.name, \"/\"));\n              } else if (entry.isFile) {\n                return new Promise(function (resolve) {\n                  entry.file(function (file) {\n                    file.$path = \"\".concat(path).concat(file.name);\n                    resolve(file);\n                  });\n                });\n              }\n            }\n\n            return null;\n          }).filter(identity)));\n          readDirectoryEntries();\n        }\n      });\n    };\n\n    readDirectoryEntries();\n  });\n}; // --- Props ---\n\n\nvar props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formCustomProps), formStateProps), formSizeProps), {}, {\n  accept: makeProp(PROP_TYPE_STRING, ''),\n  browseText: makeProp(PROP_TYPE_STRING, 'Browse'),\n  // Instruct input to capture from camera\n  capture: makeProp(PROP_TYPE_BOOLEAN, false),\n  directory: makeProp(PROP_TYPE_BOOLEAN, false),\n  dropPlaceholder: makeProp(PROP_TYPE_STRING, 'Drop files here'),\n  fileNameFormatter: makeProp(PROP_TYPE_FUNCTION),\n  multiple: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDropPlaceholder: makeProp(PROP_TYPE_STRING, 'Not allowed'),\n  // TODO:\n  //   Should we deprecate this and only support flat file structures?\n  //   Nested file structures are only supported when files are dropped\n  //   A Chromium \"bug\" prevents `webkitEntries` from being populated\n  //   on the file input's `change` event and is marked as \"WontFix\"\n  //   Mozilla implemented the behavior the same way as Chromium\n  //   See: https://bugs.chromium.org/p/chromium/issues/detail?id=138987\n  //   See: https://bugzilla.mozilla.org/show_bug.cgi?id=1326031\n  noTraverse: makeProp(PROP_TYPE_BOOLEAN, false),\n  placeholder: makeProp(PROP_TYPE_STRING, 'No file chosen')\n})), NAME_FORM_FILE); // --- Main component ---\n// @vue/component\n\nexport var BFormFile = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_FILE,\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formStateMixin, formCustomMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      files: [],\n      dragging: false,\n      // IE 11 doesn't respect setting `event.dataTransfer.dropEffect`,\n      // so we handle it ourselves as well\n      // https://stackoverflow.com/a/46915971/2744776\n      dropAllowed: !this.noDrop,\n      hasFocus: false\n    };\n  },\n  computed: {\n    // Convert `accept` to an array of `[{ RegExpr, isMime }, ...]`\n    computedAccept: function computedAccept() {\n      var accept = this.accept;\n      accept = (accept || '').trim().split(/[,\\s]+/).filter(identity); // Allow any file type/extension\n\n      if (accept.length === 0) {\n        return null;\n      }\n\n      return accept.map(function (extOrType) {\n        var prop = 'name';\n        var startMatch = '^';\n        var endMatch = '$';\n\n        if (RX_EXTENSION.test(extOrType)) {\n          // File extension /\\.ext$/\n          startMatch = '';\n        } else {\n          // MIME type /^mime\\/.+$/ or /^mime\\/type$/\n          prop = 'type';\n\n          if (RX_STAR.test(extOrType)) {\n            endMatch = '.+$'; // Remove trailing `*`\n\n            extOrType = extOrType.slice(0, -1);\n          }\n        } // Escape all RegExp special chars\n\n\n        extOrType = escapeRegExp(extOrType);\n        var rx = new RegExp(\"\".concat(startMatch).concat(extOrType).concat(endMatch));\n        return {\n          rx: rx,\n          prop: prop\n        };\n      });\n    },\n    computedCapture: function computedCapture() {\n      var capture = this.capture;\n      return capture === true || capture === '' ? true : capture || null;\n    },\n    computedAttrs: function computedAttrs() {\n      var name = this.name,\n          disabled = this.disabled,\n          required = this.required,\n          form = this.form,\n          computedCapture = this.computedCapture,\n          accept = this.accept,\n          multiple = this.multiple,\n          directory = this.directory;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        type: 'file',\n        id: this.safeId(),\n        name: name,\n        disabled: disabled,\n        required: required,\n        form: form || null,\n        capture: computedCapture,\n        accept: accept || null,\n        multiple: multiple,\n        directory: directory,\n        webkitdirectory: directory,\n        'aria-required': required ? 'true' : null\n      });\n    },\n    computedFileNameFormatter: function computedFileNameFormatter() {\n      var fileNameFormatter = this.fileNameFormatter;\n      return hasPropFunction(fileNameFormatter) ? fileNameFormatter : this.defaultFileNameFormatter;\n    },\n    clonedFiles: function clonedFiles() {\n      return cloneDeep(this.files);\n    },\n    flattenedFiles: function flattenedFiles() {\n      return flattenDeep(this.files);\n    },\n    fileNames: function fileNames() {\n      return this.flattenedFiles.map(function (file) {\n        return file.name;\n      });\n    },\n    labelContent: function labelContent() {\n      // Draging active\n\n      /* istanbul ignore next: used by drag/drop which can't be tested easily */\n      if (this.dragging && !this.noDrop) {\n        return (// TODO: Add additional scope with file count, and other not-allowed reasons\n          this.normalizeSlot(SLOT_NAME_DROP_PLACEHOLDER, {\n            allowed: this.dropAllowed\n          }) || (this.dropAllowed ? this.dropPlaceholder : this.$createElement('span', {\n            staticClass: 'text-danger'\n          }, this.noDropPlaceholder))\n        );\n      } // No file chosen\n\n\n      if (this.files.length === 0) {\n        return this.normalizeSlot(SLOT_NAME_PLACEHOLDER) || this.placeholder;\n      }\n\n      var flattenedFiles = this.flattenedFiles,\n          clonedFiles = this.clonedFiles,\n          fileNames = this.fileNames,\n          computedFileNameFormatter = this.computedFileNameFormatter; // There is a slot for formatting the files/names\n\n      if (this.hasNormalizedSlot(SLOT_NAME_FILE_NAME)) {\n        return this.normalizeSlot(SLOT_NAME_FILE_NAME, {\n          files: flattenedFiles,\n          filesTraversed: clonedFiles,\n          names: fileNames\n        });\n      }\n\n      return computedFileNameFormatter(flattenedFiles, clonedFiles, fileNames);\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!newValue || isArray(newValue) && newValue.length === 0) {\n      this.reset();\n    }\n  }), _defineProperty(_watch, \"files\", function files(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      var multiple = this.multiple,\n          noTraverse = this.noTraverse;\n      var files = !multiple || noTraverse ? flattenDeep(newValue) : newValue;\n      this.$emit(MODEL_EVENT_NAME, multiple ? files : files[0] || null);\n    }\n  }), _watch),\n  created: function created() {\n    // Create private non-reactive props\n    this.$_form = null;\n  },\n  mounted: function mounted() {\n    // Listen for form reset events, to reset the file input\n    var $form = closest('form', this.$el);\n\n    if ($form) {\n      eventOn($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n      this.$_form = $form;\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $form = this.$_form;\n\n    if ($form) {\n      eventOff($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n    }\n  },\n  methods: {\n    isFileValid: function isFileValid(file) {\n      if (!file) {\n        return false;\n      }\n\n      var accept = this.computedAccept;\n      return accept ? accept.some(function (a) {\n        return a.rx.test(file[a.prop]);\n      }) : true;\n    },\n    isFilesArrayValid: function isFilesArrayValid(files) {\n      var _this = this;\n\n      return isArray(files) ? files.every(function (file) {\n        return _this.isFileValid(file);\n      }) : this.isFileValid(files);\n    },\n    defaultFileNameFormatter: function defaultFileNameFormatter(flattenedFiles, clonedFiles, fileNames) {\n      return fileNames.join(', ');\n    },\n    setFiles: function setFiles(files) {\n      // Reset the dragging flags\n      this.dropAllowed = !this.noDrop;\n      this.dragging = false; // Set the selected files\n\n      this.files = this.multiple ? this.directory ? files : flattenDeep(files) : flattenDeep(files).slice(0, 1);\n    },\n\n    /* istanbul ignore next: used by Drag/Drop */\n    setInputFiles: function setInputFiles(files) {\n      // Try an set the file input files array so that `required`\n      // constraint works for dropped files (will fail in IE11 though)\n      // To be used only when dropping files\n      try {\n        // Firefox < 62 workaround exploiting https://bugzilla.mozilla.org/show_bug.cgi?id=1422655\n        var dataTransfer = new ClipboardEvent('').clipboardData || new DataTransfer(); // Add flattened files to temp `dataTransfer` object to get a true `FileList` array\n\n        flattenDeep(cloneDeep(files)).forEach(function (file) {\n          // Make sure to remove the custom `$path` attribute\n          delete file.$path;\n          dataTransfer.items.add(file);\n        });\n        this.$refs.input.files = dataTransfer.files;\n      } catch (_unused) {}\n    },\n    reset: function reset() {\n      // IE 11 doesn't support setting `$input.value` to `''` or `null`\n      // So we use this little extra hack to reset the value, just in case\n      // This also appears to work on modern browsers as well\n      // Wrapped in try in case IE 11 or mobile Safari crap out\n      try {\n        var $input = this.$refs.input;\n        $input.value = '';\n        $input.type = '';\n        $input.type = 'file';\n      } catch (_unused2) {}\n\n      this.files = [];\n    },\n    handleFiles: function handleFiles(files) {\n      var isDrop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (isDrop) {\n        // When dropped, make sure to filter files with the internal `accept` logic\n        var filteredFiles = files.filter(this.isFilesArrayValid); // Only update files when we have any after filtering\n\n        if (filteredFiles.length > 0) {\n          this.setFiles(filteredFiles); // Try an set the file input's files array so that `required`\n          // constraint works for dropped files (will fail in IE 11 though)\n\n          this.setInputFiles(filteredFiles);\n        }\n      } else {\n        // We always update the files from the `change` event\n        this.setFiles(files);\n      }\n    },\n    focusHandler: function focusHandler(event) {\n      // Bootstrap v4 doesn't have focus styling for custom file input\n      // Firefox has a `[type=file]:focus ~ sibling` selector issue,\n      // so we add a `focus` class to get around these bugs\n      if (this.plain || event.type === 'focusout') {\n        this.hasFocus = false;\n      } else {\n        // Add focus styling for custom file input\n        this.hasFocus = true;\n      }\n    },\n    onChange: function onChange(event) {\n      var _this2 = this;\n\n      var type = event.type,\n          target = event.target,\n          _event$dataTransfer = event.dataTransfer,\n          dataTransfer = _event$dataTransfer === void 0 ? {} : _event$dataTransfer;\n      var isDrop = type === 'drop'; // Always emit original event\n\n      this.$emit(EVENT_NAME_CHANGE, event);\n      var items = arrayFrom(dataTransfer.items || []);\n\n      if (HAS_PROMISE_SUPPORT && items.length > 0 && !isNull(getDataTransferItemEntry(items[0]))) {\n        // Drop handling for modern browsers\n        // Supports nested directory structures in `directory` mode\n\n        /* istanbul ignore next: not supported in JSDOM */\n        getAllFileEntries(items, this.directory).then(function (files) {\n          return _this2.handleFiles(files, isDrop);\n        });\n      } else {\n        // Standard file input handling (native file input change event),\n        // or fallback drop mode (IE 11 / Opera) which don't support `directory` mode\n        var files = arrayFrom(target.files || dataTransfer.files || []).map(function (file) {\n          // Add custom `$path` property to each file (to be consistent with drop mode)\n          file.$path = file.webkitRelativePath || '';\n          return file;\n        });\n        this.handleFiles(files, isDrop);\n      }\n    },\n    onDragenter: function onDragenter(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer2 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer2 === void 0 ? {} : _event$dataTransfer2; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    // Note this event fires repeatedly while the mouse is over the dropzone at\n    // intervals in the milliseconds, so avoid doing much processing in here\n    onDragover: function onDragover(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer3 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer3 === void 0 ? {} : _event$dataTransfer3; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    onDragleave: function onDragleave(event) {\n      var _this3 = this;\n\n      stopEvent(event);\n      this.$nextTick(function () {\n        _this3.dragging = false; // Reset `dropAllowed` to default\n\n        _this3.dropAllowed = !_this3.noDrop;\n      });\n    },\n    // Triggered by a file drop onto drop target\n    onDrop: function onDrop(event) {\n      var _this4 = this;\n\n      stopEvent(event);\n      this.dragging = false; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        this.$nextTick(function () {\n          // Reset `dropAllowed` to default\n          _this4.dropAllowed = !_this4.noDrop;\n        });\n        return;\n      }\n\n      this.onChange(event);\n    }\n  },\n  render: function render(h) {\n    var custom = this.custom,\n        plain = this.plain,\n        size = this.size,\n        dragging = this.dragging,\n        stateClass = this.stateClass,\n        bvAttrs = this.bvAttrs; // Form Input\n\n    var $input = h('input', {\n      class: [{\n        'form-control-file': plain,\n        'custom-file-input': custom,\n        focus: custom && this.hasFocus\n      }, stateClass],\n      // With IE 11, the input gets in the \"way\" of the drop events,\n      // so we move it out of the way by putting it behind the label\n      // Bootstrap v4 has it in front\n      style: custom ? {\n        zIndex: -5\n      } : {},\n      attrs: this.computedAttrs,\n      on: {\n        change: this.onChange,\n        focusin: this.focusHandler,\n        focusout: this.focusHandler,\n        reset: this.reset\n      },\n      ref: 'input'\n    });\n\n    if (plain) {\n      return $input;\n    } // Overlay label\n\n\n    var $label = h('label', {\n      staticClass: 'custom-file-label',\n      class: {\n        dragging: dragging\n      },\n      attrs: {\n        for: this.safeId(),\n        // This goes away in Bootstrap v5\n        'data-browse': this.browseText || null\n      }\n    }, [h('span', {\n      staticClass: 'd-block form-file-text',\n      // `pointer-events: none` is used to make sure\n      // the drag events fire only on the label\n      style: {\n        pointerEvents: 'none'\n      }\n    }, [this.labelContent])]); // Return rendered custom file input\n\n    return h('div', {\n      staticClass: 'custom-file b-form-file',\n      class: [_defineProperty({}, \"b-custom-control-\".concat(size), size), stateClass, bvAttrs.class],\n      style: bvAttrs.style,\n      attrs: {\n        id: this.safeId('_BV_file_outer_')\n      },\n      on: {\n        dragenter: this.onDragenter,\n        dragover: this.onDragover,\n        dragleave: this.onDragleave,\n        drop: this.onDrop\n      }\n    }, [$input, $label]);\n  }\n});","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import router from '@/router'\r\n// eslint-disable-next-line object-curly-newline\r\nimport { reactive, getCurrentInstance, watch, toRefs } from '@vue/composition-api'\r\n\r\nexport const isObject = obj => typeof obj === 'object' && obj !== null\r\n\r\nexport const isToday = date => {\r\n    const today = new Date()\r\n    return (\r\n        /* eslint-disable operator-linebreak */\r\n        date.getDate() === today.getDate() &&\r\n        date.getMonth() === today.getMonth() &&\r\n        date.getFullYear() === today.getFullYear()\r\n        /* eslint-enable */\r\n    )\r\n}\r\n\r\nconst getRandomFromArray = array => array[Math.floor(Math.random() * array.length)]\r\n\r\n// ? Light and Dark variant is not included\r\n// prettier-ignore\r\nexport const getRandomBsVariant = () => getRandomFromArray(['primary', 'secondary', 'success', 'warning', 'danger', 'info'])\r\n\r\nexport const isDynamicRouteActive = route => {\r\n    const { route: resolvedRoute } = router.resolve(route)\r\n    return resolvedRoute.path === router.currentRoute.path\r\n}\r\n\r\n// Thanks: https://medium.com/better-programming/reactive-vue-routes-with-the-composition-api-18c1abd878d1\r\nexport const useRouter = () => {\r\n    const vm = getCurrentInstance().proxy\r\n    const state = reactive({\r\n        route: vm.$route,\r\n    })\r\n\r\n    watch(\r\n        () => vm.$route,\r\n        r => {\r\n            state.route = r\r\n        },\r\n    )\r\n\r\n    return {...toRefs(state), router: vm.$router }\r\n}\r\n\r\n/**\r\n * This is just enhancement over Object.extend [Gives deep extend]\r\n * @param {target} a Object which contains values to be overridden\r\n * @param {source} b Object which contains values to override\r\n */\r\n// export const objectExtend = (a, b) => {\r\n//   // Don't touch 'null' or 'undefined' objects.\r\n//   if (a == null || b == null) {\r\n//     return a\r\n//   }\r\n\r\n//   Object.keys(b).forEach(key => {\r\n//     if (Object.prototype.toString.call(b[key]) === '[object Object]') {\r\n//       if (Object.prototype.toString.call(a[key]) !== '[object Object]') {\r\n//         // eslint-disable-next-line no-param-reassign\r\n//         a[key] = b[key]\r\n//       } else {\r\n//         // eslint-disable-next-line no-param-reassign\r\n//         a[key] = objectExtend(a[key], b[key])\r\n//       }\r\n//     } else {\r\n//       // eslint-disable-next-line no-param-reassign\r\n//       a[key] = b[key]\r\n//     }\r\n//   })\r\n\r\n//   return a\r\n// }\r\n\r\n\r\nimport store from '@/store';\r\n\r\n/**\r\n * @param {Array} value\r\n * @returns {Boolean}\r\n * @example see @/views/permission/Directive.vue\r\n */\r\nexport function checkPermission(value) {\r\n    if (value && value instanceof Array && value.length > 0) {\r\n        const permissions = store.getters && store.getters.currentUserPermissions;\r\n        const requiredPermissions = value;\r\n\r\n        const hasPermission = permissions.some(permission => {\r\n            return requiredPermissions.includes(permission);\r\n        });\r\n\r\n        return hasPermission;\r\n    } else {\r\n        console.error(`Need permissions! Like v-permission=\"['manage permission','edit article']\"`);\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\nexport function validateSize(file, name, renderer){\r\n    if( file ){\r\n        if( file[0]){\r\n            file.map( (fl, index) => {\r\n                if( fl.size > this.maxSize ){\r\n                    this.errors[name] = ['file size must be less than 2mb'];\r\n                    this[name] = []\r\n                }\r\n                \r\n            })\r\n        } else {\r\n            if( file.size > this.maxSize ){\r\n                this.errors[name] = ['file size must be less than 2mb'];\r\n                this[name] = null;\r\n              }\r\n              else {\r\n                renderer.inputImageRenderer();\r\n              }\r\n        }\r\n       \r\n    }\r\n}\r\n\r\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var _watch, _methods;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_ANY, PROP_TYPE_BOOLEAN, PROP_TYPE_STRING } from '../constants/props';\nimport { EVENT_NAME_CHANGE } from '../constants/events';\nimport { attemptBlur, attemptFocus } from '../utils/dom';\nimport { isBoolean } from '../utils/inspect';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { attrsMixin } from './attrs';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('checked', {\n  defaultValue: null\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaLabel: makeProp(PROP_TYPE_STRING),\n  ariaLabelledby: makeProp(PROP_TYPE_STRING),\n  // Only applicable in standalone mode (non group)\n  button: makeProp(PROP_TYPE_BOOLEAN, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  inline: makeProp(PROP_TYPE_BOOLEAN, false),\n  value: makeProp(PROP_TYPE_ANY)\n})), 'formRadioCheckControls'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckMixin = Vue.extend({\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this.isGroup ? this.bvGroup[MODEL_PROP_NAME] : this[MODEL_PROP_NAME],\n      hasFocus: false\n    };\n  },\n  computed: {\n    computedLocalChecked: {\n      get: function get() {\n        return this.isGroup ? this.bvGroup.localChecked : this.localChecked;\n      },\n      set: function set(value) {\n        if (this.isGroup) {\n          this.bvGroup.localChecked = value;\n        } else {\n          this.localChecked = value;\n        }\n      }\n    },\n    isChecked: function isChecked() {\n      return looseEqual(this.value, this.computedLocalChecked);\n    },\n    isRadio: function isRadio() {\n      return true;\n    },\n    isGroup: function isGroup() {\n      // Is this check/radio a child of check-group or radio-group?\n      return !!this.bvGroup;\n    },\n    isBtnMode: function isBtnMode() {\n      // Support button style in single input mode\n      return this.isGroup ? this.bvGroup.buttons : this.button;\n    },\n    isPlain: function isPlain() {\n      return this.isBtnMode ? false : this.isGroup ? this.bvGroup.plain : this.plain;\n    },\n    isCustom: function isCustom() {\n      return this.isBtnMode ? false : !this.isPlain;\n    },\n    isSwitch: function isSwitch() {\n      // Custom switch styling (checkboxes only)\n      return this.isBtnMode || this.isRadio || this.isPlain ? false : this.isGroup ? this.bvGroup.switches : this.switch;\n    },\n    isInline: function isInline() {\n      return this.isGroup ? this.bvGroup.inline : this.inline;\n    },\n    isDisabled: function isDisabled() {\n      // Child can be disabled while parent isn't, but is always disabled if group is\n      return this.isGroup ? this.bvGroup.disabled || this.disabled : this.disabled;\n    },\n    isRequired: function isRequired() {\n      // Required only works when a name is provided for the input(s)\n      // Child can only be required when parent is\n      // Groups will always have a name (either user supplied or auto generated)\n      return this.computedName && (this.isGroup ? this.bvGroup.required : this.required);\n    },\n    computedName: function computedName() {\n      // Group name preferred over local name\n      return (this.isGroup ? this.bvGroup.groupName : this.name) || null;\n    },\n    computedForm: function computedForm() {\n      return (this.isGroup ? this.bvGroup.form : this.form) || null;\n    },\n    computedSize: function computedSize() {\n      return (this.isGroup ? this.bvGroup.size : this.size) || '';\n    },\n    computedState: function computedState() {\n      return this.isGroup ? this.bvGroup.computedState : isBoolean(this.state) ? this.state : null;\n    },\n    computedButtonVariant: function computedButtonVariant() {\n      // Local variant preferred over group variant\n      var buttonVariant = this.buttonVariant;\n\n      if (buttonVariant) {\n        return buttonVariant;\n      }\n\n      if (this.isGroup && this.bvGroup.buttonVariant) {\n        return this.bvGroup.buttonVariant;\n      }\n\n      return 'secondary';\n    },\n    buttonClasses: function buttonClasses() {\n      var _ref;\n\n      var computedSize = this.computedSize;\n      return ['btn', \"btn-\".concat(this.computedButtonVariant), (_ref = {}, _defineProperty(_ref, \"btn-\".concat(computedSize), computedSize), _defineProperty(_ref, \"disabled\", this.isDisabled), _defineProperty(_ref, \"active\", this.isChecked), _defineProperty(_ref, \"focus\", this.hasFocus), _ref)];\n    },\n    computedAttrs: function computedAttrs() {\n      var disabled = this.isDisabled,\n          required = this.isRequired;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        id: this.safeId(),\n        type: this.isRadio ? 'radio' : 'checkbox',\n        name: this.computedName,\n        form: this.computedForm,\n        disabled: disabled,\n        required: required,\n        'aria-required': required || null,\n        'aria-label': this.ariaLabel || null,\n        'aria-labelledby': this.ariaLabelledby || null\n      });\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function () {\n    this[\"\".concat(MODEL_PROP_NAME, \"Watcher\")].apply(this, arguments);\n  }), _defineProperty(_watch, \"computedLocalChecked\", function computedLocalChecked() {\n    this.computedLocalCheckedWatcher.apply(this, arguments);\n  }), _watch),\n  methods: (_methods = {}, _defineProperty(_methods, \"\".concat(MODEL_PROP_NAME, \"Watcher\"), function Watcher(newValue) {\n    if (!looseEqual(newValue, this.computedLocalChecked)) {\n      this.computedLocalChecked = newValue;\n    }\n  }), _defineProperty(_methods, \"computedLocalCheckedWatcher\", function computedLocalCheckedWatcher(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _defineProperty(_methods, \"handleChange\", function handleChange(_ref2) {\n    var _this = this;\n\n    var checked = _ref2.target.checked;\n    var value = this.value;\n    var localChecked = checked ? value : null;\n    this.computedLocalChecked = value; // Fire events in a `$nextTick()` to ensure the `v-model` is updated\n\n    this.$nextTick(function () {\n      // Change is only emitted on user interaction\n      _this.$emit(EVENT_NAME_CHANGE, localChecked); // If this is a child of a group, we emit a change event on it as well\n\n\n      if (_this.isGroup) {\n        _this.bvGroup.$emit(EVENT_NAME_CHANGE, localChecked);\n      }\n    });\n  }), _defineProperty(_methods, \"handleFocus\", function handleFocus(event) {\n    // When in buttons mode, we need to add 'focus' class to label when input focused\n    // As it is the hidden input which has actual focus\n    if (event.target) {\n      if (event.type === 'focus') {\n        this.hasFocus = true;\n      } else if (event.type === 'blur') {\n        this.hasFocus = false;\n      }\n    }\n  }), _defineProperty(_methods, \"focus\", function focus() {\n    if (!this.isDisabled) {\n      attemptFocus(this.$refs.input);\n    }\n  }), _defineProperty(_methods, \"blur\", function blur() {\n    if (!this.isDisabled) {\n      attemptBlur(this.$refs.input);\n    }\n  }), _methods),\n  render: function render(h) {\n    var isRadio = this.isRadio,\n        isBtnMode = this.isBtnMode,\n        isPlain = this.isPlain,\n        isCustom = this.isCustom,\n        isInline = this.isInline,\n        isSwitch = this.isSwitch,\n        computedSize = this.computedSize,\n        bvAttrs = this.bvAttrs;\n    var $content = this.normalizeSlot();\n    var $input = h('input', {\n      class: [{\n        'form-check-input': isPlain,\n        'custom-control-input': isCustom,\n        // https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n        'position-static': isPlain && !$content\n      }, isBtnMode ? '' : this.stateClass],\n      directives: [{\n        name: 'model',\n        value: this.computedLocalChecked\n      }],\n      attrs: this.computedAttrs,\n      domProps: {\n        value: this.value,\n        checked: this.isChecked\n      },\n      on: _objectSpread({\n        change: this.handleChange\n      }, isBtnMode ? {\n        focus: this.handleFocus,\n        blur: this.handleFocus\n      } : {}),\n      key: 'input',\n      ref: 'input'\n    });\n\n    if (isBtnMode) {\n      var $button = h('label', {\n        class: this.buttonClasses\n      }, [$input, $content]);\n\n      if (!this.isGroup) {\n        // Standalone button mode, so wrap in 'btn-group-toggle'\n        // and flag it as inline-block to mimic regular buttons\n        $button = h('div', {\n          class: ['btn-group-toggle', 'd-inline-block']\n        }, [$button]);\n      }\n\n      return $button;\n    } // If no label content in plain mode we dont render the label\n    // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/2911\n\n\n    var $label = h();\n\n    if (!(isPlain && !$content)) {\n      $label = h('label', {\n        class: {\n          'form-check-label': isPlain,\n          'custom-control-label': isCustom\n        },\n        attrs: {\n          for: this.safeId()\n        }\n      }, $content);\n    }\n\n    return h('div', {\n      class: [_defineProperty({\n        'form-check': isPlain,\n        'form-check-inline': isPlain && isInline,\n        'custom-control': isCustom,\n        'custom-control-inline': isCustom && isInline,\n        'custom-checkbox': isCustom && !isRadio && !isSwitch,\n        'custom-switch': isSwitch,\n        'custom-radio': isCustom && isRadio\n      }, \"b-custom-control-\".concat(computedSize), computedSize && !isBtnMode), bvAttrs.class],\n      style: bvAttrs.style\n    }, [$input, $label]);\n  }\n});","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n// Unique ID for DOM attribute\nvar guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return __assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown: function (ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter.apply(void 0, args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce(function (str, arg, index) { return (str.replace('$' + index, arg || '')); }, formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    var parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonHints: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    var _a = seg.eventRange, def = _a.def, instance = _a.instance;\n    var url = def.url;\n    if (url) {\n        return { href: url };\n    }\n    var emitter = context.emitter, options = context.options;\n    var eventInteractive = options.eventInteractive;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs(function (ev) {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventApi(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nvar RAW_EN_LOCALE = __assign(__assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today: function (buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : \"This \" + buttonText;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint: function (eventCnt) {\n        return \"Show \" + eventCnt + \" more event\" + (eventCnt === 1 ? '' : 's');\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nvar DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nvar WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType, isTabbable) {\n    if (viewType === void 0) { viewType = 'day'; }\n    if (isTabbable === void 0) { isTabbable = true; }\n    var dateEnv = context.dateEnv, options = context.options, calendarApi = context.calendarApi;\n    var dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        var zonedDate = dateEnv.toDate(dateMarker);\n        var handleInteraction = function (ev) {\n            var customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return __assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n        var innerContent = this.getInnerContent();\n        var meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    };\n    ContentHookInner.prototype.getInnerContent = function () {\n        var props = this.props;\n        var innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    };\n    ContentHookInner.prototype.getContentMeta = function (innerContent) {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var contentKey = '';\n        var buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (var searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    var queryButtonTitle = function (optionsSubset) {\n        var buttonHints = optionsSubset.buttonHints || {};\n        var buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    var footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header: header, footer: footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var sectionWidgets = {};\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    for (var sectionName in sectionStrHash) {\n        var sectionStr = sectionStrHash[sectionName];\n        var sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push.apply(viewsWithButtons, sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets: sectionWidgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    var calendarButtonHints = calendarOptions.buttonHints || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    var viewsWithButtons = [];\n    var hasTitle = false;\n    var widgets = sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        var buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            var textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                var prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = function (navUnit) { return formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]); };\n            }\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText, buttonHint: buttonHint };\n    })); });\n    return { widgets: widgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: buildHtmlRenderer,\n            domNodes: buildDomNodeRenderer,\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction buildHtmlRenderer() {\n    var currentEl = null;\n    var currentHtml = '';\n    function render(el, html) {\n        if (el !== currentEl || html !== currentHtml) {\n            el.innerHTML = html;\n        }\n        currentEl = el;\n        currentHtml = html;\n    }\n    function destroy() {\n        currentEl.innerHTML = '';\n        currentEl = null;\n        currentHtml = '';\n    }\n    return { render: render, destroy: destroy };\n}\nfunction buildDomNodeRenderer() {\n    var currentEl = null;\n    var currentDomNodes = [];\n    function render(el, domNodes) {\n        var newDomNodes = Array.prototype.slice.call(domNodes);\n        if (el !== currentEl || !isArraysEqual(currentDomNodes, newDomNodes)) {\n            // append first, remove second (for scroll resetting)\n            for (var _i = 0, newDomNodes_1 = newDomNodes; _i < newDomNodes_1.length; _i++) {\n                var newNode = newDomNodes_1[_i];\n                el.appendChild(newNode);\n            }\n            destroy();\n        }\n        currentEl = el;\n        currentDomNodes = newDomNodes;\n    }\n    function destroy() {\n        currentDomNodes.forEach(removeElement);\n        currentDomNodes = [];\n        currentEl = null;\n    }\n    return { render: render, destroy: destroy };\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n        var levelCnt = levelCoords.length;\n        var candidateCoord = 0;\n        var touchingLevel = -1;\n        var touchingLateral = -1;\n        var touchingEntry = null;\n        var stackCnt = 0;\n        for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            var trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            var trackingEntries = entriesByLevel[trackingLevel];\n            var trackingEntry = void 0;\n            var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        var destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        var destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel: touchingLevel,\n            touchingLateral: touchingLateral,\n            touchingEntry: touchingEntry,\n            stackCnt: stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon, buttonHint = widget.buttonHint;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                var isPressed = buttonName === props.activeButton;\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var sectionWidgets = model.sectionWidgets;\n        var centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // eslint-disable-next-line\n        _this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        var viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { \"aria-label\": dateEnv.format(date, WEEKDAY_FORMAT), className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        var roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', roleAttrs], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', roleAttrs], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', roleAttrs], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', roleAttrs], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg, context)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            titleId: getUniqueDomId(),\n        };\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMouseDown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleDocumentKeyDown = function (ev) {\n            if (ev.key === 'Escape') {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this, props = _b.props, state = _b.state;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : \"+\" + moreCnt + \" \" + moreLinkText;\n            var title = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick, title, state.isPopoverOpen, state.isPopoverOpen ? state.popoverId : ''); })),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.10.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkAttrs, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createAriaClickAttrs, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegAnchorAttrs, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, getUniqueDomId, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n//# sourceMappingURL=main.js.map\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var Ripple = {\n    bind: function(el, binding){\n\n        // Default values.\n        var props = {\n            event: 'mousedown',\n            transition: 600\n        };\n\n        setProps(Object.keys(binding.modifiers),props);\n\n        el.addEventListener(props.event, function(event) {\n            rippler(event, el, binding.value);\n        });\n\n        var bg = binding.value || Ripple.color || 'rgba(0, 0, 0, 0.35)';\n        var zIndex = Ripple.zIndex || '9999';\n\n        function rippler(event, el) {\n            var target = el;\n            // Get border to avoid offsetting on ripple container position\n            var targetBorder = parseInt((getComputedStyle(target).borderWidth).replace('px', ''));\n\n            // Get necessary variables\n            var rect        = target.getBoundingClientRect(),\n                left        = rect.left,\n                top         = rect.top,\n                width       = target.offsetWidth,\n                height      = target.offsetHeight,\n                dx          = event.clientX - left,\n                dy          = event.clientY - top,\n                maxX        = Math.max(dx, width - dx),\n                maxY        = Math.max(dy, height - dy),\n                style       = window.getComputedStyle(target),\n                radius      = Math.sqrt((maxX * maxX) + (maxY * maxY)),\n                border      = (targetBorder > 0 ) ? targetBorder : 0;\n\n            // Create the ripple and its container\n            var ripple = document.createElement(\"div\"),\n                rippleContainer = document.createElement(\"div\");\n                rippleContainer.className = 'ripple-container';\n                ripple.className = 'ripple';\n\n            //Styles for ripple\n            ripple.style.marginTop= '0px';\n            ripple.style.marginLeft= '0px';\n            ripple.style.width= '1px';\n            ripple.style.height= '1px';\n            ripple.style.transition= 'all ' + props.transition + 'ms cubic-bezier(0.4, 0, 0.2, 1)';\n            ripple.style.borderRadius= '50%';\n            ripple.style.pointerEvents= 'none';\n            ripple.style.position= 'relative';\n            ripple.style.zIndex= zIndex;\n            ripple.style.backgroundColor  = bg;\n\n            //Styles for rippleContainer\n            rippleContainer.style.position= 'absolute';\n            rippleContainer.style.left = 0 - border + 'px';\n            rippleContainer.style.top = 0 - border + 'px';\n            rippleContainer.style.height = '0';\n            rippleContainer.style.width = '0';\n            rippleContainer.style.pointerEvents = 'none';\n            rippleContainer.style.overflow = 'hidden';\n\n            // Store target position to change it after\n            var storedTargetPosition =  ((target.style.position).length > 0) ? target.style.position : getComputedStyle(target).position;\n            // Change target position to relative to guarantee ripples correct positioning\n            if (storedTargetPosition !== 'relative') {\n                target.style.position = 'relative';\n            }\n\n            rippleContainer.appendChild(ripple);\n            target.appendChild(rippleContainer);\n\n            ripple.style.marginLeft   = dx + \"px\";\n            ripple.style.marginTop    = dy + \"px\";\n\n            // No need to set positioning because ripple should be child of target and to it's relative position.\n            // rippleContainer.style.left    = left + (((window.pageXOffset || document.scrollLeft) - (document.clientLeft || 0)) || 0) + \"px\";\n            // rippleContainer.style.top     = top + (((window.pageYOffset || document.scrollTop) - (document.clientTop || 0)) || 0) + \"px\";\n            rippleContainer.style.width   = width + \"px\";\n            rippleContainer.style.height  = height + \"px\";\n            rippleContainer.style.borderTopLeftRadius  = style.borderTopLeftRadius;\n            rippleContainer.style.borderTopRightRadius  = style.borderTopRightRadius;\n            rippleContainer.style.borderBottomLeftRadius  = style.borderBottomLeftRadius;\n            rippleContainer.style.borderBottomRightRadius  = style.borderBottomRightRadius;\n\n            rippleContainer.style.direction = 'ltr';\n\n            setTimeout(function() {\n                ripple.style.width  = radius * 2 + \"px\";\n                ripple.style.height = radius * 2 + \"px\";\n                ripple.style.marginLeft   = dx - radius + \"px\";\n                ripple.style.marginTop    = dy - radius + \"px\";\n            }, 0);\n\n            function clearRipple() {\n                setTimeout(function() {\n                    ripple.style.backgroundColor = \"rgba(0, 0, 0, 0)\";\n                }, 250);\n\n                // Timeout set to get a smooth removal of the ripple\n                setTimeout(function() {\n                    rippleContainer.parentNode.removeChild(rippleContainer);\n                }, 850);\n\n                el.removeEventListener('mouseup', clearRipple, false);\n\n                // After removing event set position to target to it's original one\n                // Timeout it's needed to avoid jerky effect of ripple jumping out parent target\n                setTimeout(function () {\n\n                    var clearPosition = true;\n                    for(var i = 0; i < target.childNodes.length; i++) {\n                        if(target.childNodes[i].className === 'ripple-container') {\n                            clearPosition = false;\n                        }\n                    }\n\n                    if(clearPosition) {\n                        if(storedTargetPosition !== 'static') {\n                            target.style.position = storedTargetPosition;\n                        } else {\n                            target.style.position = '';\n                        }\n                    }\n\n                }, props.transition + 250)\n            }\n\n            if(event.type === 'mousedown') {\n                el.addEventListener('mouseup', clearRipple, false);\n            } else {\n                clearRipple();\n            }\n        }\n    }\n};\n\nfunction setProps(modifiers,props) {\n    modifiers.forEach(function(item) {\n        if(isNaN(Number(item)))\n            props.event = item;\n        else\n            props.transition = item;\n    });\n}\n\nexport default Ripple;","// `Symbol.prototype.description` getter\n// https://tc39.github.io/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","/*!\nFullCalendar v5.10.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { getUniqueDomId, getDateMeta, buildNavLinkAttrs, getDayClassNames, createElement, RenderHook, formatDayString, BaseComponent, Fragment, createFormatter, EventRoot, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, memoize, ViewRoot, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, DateComponent, startOfDay, addDays, identity, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nvar ListViewHeaderRow = /** @class */ (function (_super) {\n    __extends(ListViewHeaderRow, _super);\n    function ListViewHeaderRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            textId: getUniqueDomId(),\n        };\n        return _this;\n    }\n    ListViewHeaderRow.prototype.render = function () {\n        var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options, viewApi = _a.viewApi;\n        var _b = this.props, cellId = _b.cellId, dayDate = _b.dayDate, todayRange = _b.todayRange;\n        var textId = this.state.textId;\n        var dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId: textId,\n            text: text,\n            sideText: sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n            createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n                createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n    };\n    return ListViewHeaderRow;\n}(BaseComponent));\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", __assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", __assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nvar ListViewEventRow = /** @class */ (function (_super) {\n    __extends(ListViewEventRow, _super);\n    function ListViewEventRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ListViewEventRow.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg, timeHeaderId = props.timeHeaderId, eventHeaderId = props.eventHeaderId, dateHeaderId = props.dateHeaderId;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n            , disableDragging: true, disableResizing: true, defaultContent: function () { return renderEventInnerContent(seg, context); } /* weird */, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n            createElement(\"td\", { ref: innerElRef, headers: eventHeaderId + \" \" + dateHeaderId, className: \"fc-list-event-title\" }, innerContent))); }));\n    };\n    return ListViewEventRow;\n}(BaseComponent));\nfunction renderEventInnerContent(seg, context) {\n    var interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", __assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    var options = context.options;\n    if (options.displayEventTime !== false) {\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        var doAllDay = false;\n        var timeText = void 0;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            var hookProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, headers: timeHeaderId + \" \" + dateHeaderId, className: ['fc-list-event-time'].concat(classNames).join(' ') }, innerContent)); }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nvar ListView = /** @class */ (function (_super) {\n    __extends(ListView, _super);\n    function ListView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.computeDateVars = memoize(computeDateVars);\n        _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n        _this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        _this.setRootEl = function (rootEl) {\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    ListView.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var extraClassNames = [\n            'fc-list',\n            context.theme.getClass('table'),\n            context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n        ];\n        var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n        var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                _this.renderSegList(eventSegs, dayDates) :\n                _this.renderEmptyMessage()))); }));\n    };\n    ListView.prototype.renderEmptyMessage = function () {\n        var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n        var hookProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n    };\n    ListView.prototype.renderSegList = function (allSegs, dayDates) {\n        var _a = this.context, theme = _a.theme, options = _a.options;\n        var _b = this.state, timeHeaderId = _b.timeHeaderId, eventHeaderId = _b.eventHeaderId, dateHeaderIdRoot = _b.dateHeaderIdRoot;\n        var segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n            var innerNodes = [];\n            for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                var daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    var dayStr = formatDayString(dayDates[dayIndex]);\n                    var dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                        var seg = daySegs_1[_i];\n                        innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    };\n    ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    };\n    ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    };\n    ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n        var dateEnv = this.context.dateEnv;\n        var nextDayThreshold = this.context.options.nextDayThreshold;\n        var range = eventRange.range;\n        var allDay = eventRange.def.allDay;\n        var dayIndex;\n        var segRange;\n        var seg;\n        var segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange: eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex: dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    };\n    return ListView;\n}(DateComponent));\nfunction renderNoEventsInner(hookProps) {\n    return hookProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    var dayStart = startOfDay(dateProfile.renderRange.start);\n    var viewEnd = dateProfile.renderRange.end;\n    var dayDates = [];\n    var dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates: dayDates, dayRanges: dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    var segsByDay = []; // sparse array\n    var i;\n    var seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar main = createPlugin({\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport default main;\nexport { ListView };\n//# sourceMappingURL=main.js.map\n","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../vue';\nimport { PROP_TYPE_BOOLEAN, PROP_TYPE_BOOLEAN_STRING, PROP_TYPE_STRING } from '../constants/props';\nimport { SLOT_NAME_FIRST } from '../constants/slots';\nimport { htmlOrText } from '../utils/html';\nimport { looseEqual } from '../utils/loose-equal';\nimport { makeModelMixin } from '../utils/model';\nimport { omit, pick, sortKeys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { BFormCheckbox } from '../components/form-checkbox/form-checkbox';\nimport { BFormRadio } from '../components/form-radio/form-radio';\nimport { formControlMixin, props as formControlProps } from './form-control';\nimport { formCustomMixin, props as formCustomProps } from './form-custom';\nimport { formOptionsMixin, props as formOptionsProps } from './form-options';\nimport { formSizeMixin, props as formSizeProps } from './form-size';\nimport { formStateMixin, props as formStateProps } from './form-state';\nimport { idMixin, props as idProps } from './id';\nimport { normalizeSlotMixin } from './normalize-slot'; // --- Constants ---\n// Attributes to pass down to checks/radios instead of applying them to the group\n\nvar PASS_DOWN_ATTRS = ['aria-describedby', 'aria-labelledby'];\n\nvar _makeModelMixin = makeModelMixin('checked'),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nexport { MODEL_PROP_NAME, MODEL_EVENT_NAME }; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formOptionsProps), formSizeProps), formStateProps), formCustomProps), {}, {\n  ariaInvalid: makeProp(PROP_TYPE_BOOLEAN_STRING, false),\n  // Only applicable when rendered with button style\n  buttonVariant: makeProp(PROP_TYPE_STRING),\n  // Render as button style\n  buttons: makeProp(PROP_TYPE_BOOLEAN, false),\n  stacked: makeProp(PROP_TYPE_BOOLEAN, false),\n  validated: makeProp(PROP_TYPE_BOOLEAN, false)\n})), 'formRadioCheckGroups'); // --- Mixin ---\n// @vue/component\n\nexport var formRadioCheckGroupMixin = Vue.extend({\n  mixins: [idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formOptionsMixin, formSizeMixin, formStateMixin, formCustomMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      localChecked: this[MODEL_PROP_NAME]\n    };\n  },\n  computed: {\n    inline: function inline() {\n      return !this.stacked;\n    },\n    groupName: function groupName() {\n      // Checks/Radios tied to the same model must have the same name,\n      // especially for ARIA accessibility\n      return this.name || this.safeId();\n    },\n    groupClasses: function groupClasses() {\n      var inline = this.inline,\n          size = this.size,\n          validated = this.validated;\n      var classes = {\n        'was-validated': validated\n      };\n\n      if (this.buttons) {\n        classes = [classes, 'btn-group-toggle', _defineProperty({\n          'btn-group': inline,\n          'btn-group-vertical': !inline\n        }, \"btn-group-\".concat(size), size)];\n      }\n\n      return classes;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!looseEqual(newValue, this.localChecked)) {\n      this.localChecked = newValue;\n    }\n  }), _defineProperty(_watch, \"localChecked\", function localChecked(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      this.$emit(MODEL_EVENT_NAME, newValue);\n    }\n  }), _watch),\n  render: function render(h) {\n    var _this = this;\n\n    var isRadioGroup = this.isRadioGroup;\n    var attrs = pick(this.$attrs, PASS_DOWN_ATTRS);\n    var optionComponent = isRadioGroup ? BFormRadio : BFormCheckbox;\n    var $inputs = this.formOptions.map(function (option, index) {\n      var key = \"BV_option_\".concat(index);\n      return h(optionComponent, {\n        props: {\n          // Individual radios or checks can be disabled in a group\n          disabled: option.disabled || false,\n          id: _this.safeId(key),\n          value: option.value // We don't need to include these, since the input's will know they are inside here\n          // form: this.form || null,\n          // name: this.groupName,\n          // required: Boolean(this.name && this.required)\n\n        },\n        attrs: attrs,\n        key: key\n      }, [h('span', {\n        domProps: htmlOrText(option.html, option.text)\n      })]);\n    });\n    return h('div', {\n      class: [this.groupClasses, 'bv-no-focus-ring'],\n      attrs: _objectSpread(_objectSpread({}, omit(this.$attrs, PASS_DOWN_ATTRS)), {}, {\n        'aria-invalid': this.computedAriaInvalid,\n        'aria-required': this.required ? 'true' : null,\n        id: this.safeId(),\n        role: isRadioGroup ? 'radiogroup' : 'group',\n        // Add `tabindex=\"-1\"` to allow group to be focused if needed by screen readers\n        tabindex: '-1'\n      })\n    }, [this.normalizeSlot(SLOT_NAME_FIRST), $inputs, this.normalizeSlot()]);\n  }\n});","import { Vue } from '../vue';\nimport { PROP_TYPE_ARRAY_OBJECT, PROP_TYPE_STRING } from '../constants/props';\nimport { get } from '../utils/get';\nimport { stripTags } from '../utils/html';\nimport { isArray, isPlainObject, isUndefined } from '../utils/inspect';\nimport { keys } from '../utils/object';\nimport { makeProp, makePropsConfigurable } from '../utils/props';\nimport { warn } from '../utils/warn'; // --- Constants ---\n\nvar OPTIONS_OBJECT_DEPRECATED_MSG = 'Setting prop \"options\" to an object is deprecated. Use the array format instead.'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  disabledField: makeProp(PROP_TYPE_STRING, 'disabled'),\n  htmlField: makeProp(PROP_TYPE_STRING, 'html'),\n  options: makeProp(PROP_TYPE_ARRAY_OBJECT, []),\n  textField: makeProp(PROP_TYPE_STRING, 'text'),\n  valueField: makeProp(PROP_TYPE_STRING, 'value')\n}, 'formOptionControls'); // --- Mixin ---\n// @vue/component\n\nexport var formOptionsMixin = Vue.extend({\n  props: props,\n  computed: {\n    formOptions: function formOptions() {\n      return this.normalizeOptions(this.options);\n    }\n  },\n  methods: {\n    normalizeOption: function normalizeOption(option) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      // When the option is an object, normalize it\n      if (isPlainObject(option)) {\n        var value = get(option, this.valueField);\n        var text = get(option, this.textField);\n        return {\n          value: isUndefined(value) ? key || text : value,\n          text: stripTags(String(isUndefined(text) ? key : text)),\n          html: get(option, this.htmlField),\n          disabled: Boolean(get(option, this.disabledField))\n        };\n      } // Otherwise create an `<option>` object from the given value\n\n\n      return {\n        value: key || option,\n        text: stripTags(String(option)),\n        disabled: false\n      };\n    },\n    normalizeOptions: function normalizeOptions(options) {\n      var _this = this;\n\n      // Normalize the given options array\n      if (isArray(options)) {\n        return options.map(function (option) {\n          return _this.normalizeOption(option);\n        });\n      } else if (isPlainObject(options)) {\n        // Deprecate the object options format\n        warn(OPTIONS_OBJECT_DEPRECATED_MSG, this.$options.name); // Normalize a `options` object to an array of options\n\n        return keys(options).map(function (key) {\n          return _this.normalizeOption(options[key] || {}, key);\n        });\n      } // If not an array or object, return an empty array\n\n      /* istanbul ignore next */\n\n\n      return [];\n    }\n  }\n});","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&(\"function\"==typeof u.type&&null!=x[h].__e&&x[h].__e==u.__d&&(u.__d=_(i,h+1)),N(x[h],x[h]));if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof H){if(g=u.props,m=(a=H.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in H&&H.prototype.render?u.__c=h=new H(g,x):(u.__c=h=new d(g,x),h.constructor=H,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=H.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,H.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==H.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==H.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,A=l.__r,C=0,\"prototype\"in H&&H.prototype.render)h.state=h.__s,h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context);else do{h.__d=!1,A&&A(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++C<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),$=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray($)?$:[$],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{P as render,S as hydrate,h as createElement,h,p as Fragment,y as createRef,i as isValidElement,d as Component,q as cloneElement,B as createContext,x as toChildArray,l as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,u,r,o,i=0,c=[],f=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function p(t,r){n.__h&&n.__h(u,t,i||r),i=0;var o=u.__H||(u.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:f}),o.__[t]}function y(n){return i=1,d(z,n)}function d(n,r,o){var i=p(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):z(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function _(r,o){var i=p(t++,3);!n.__s&&w(i.__H,o)&&(i.__=r,i.u=o,u.__H.__h.push(i))}function h(r,o){var i=p(t++,4);!n.__s&&w(i.__H,o)&&(i.__=r,i.u=o,u.__h.push(i))}function s(n){return i=5,F(function(){return{current:n}},[])}function A(n,t,u){i=6,h(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==u?u:u.concat(n))}function F(n,u){var r=p(t++,7);return w(r.__H,u)?(r.__V=n(),r.u=u,r.__h=n,r.__V):r.__}function T(n,t){return i=8,F(function(){return n},t)}function q(n){var r=u.context[n.__c],o=p(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function x(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function V(n){var r=p(t++,10),o=y();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function b(){for(var t;t=c.shift();)if(t.__P)try{t.__H.__h.forEach(j),t.__H.__h.forEach(k),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}n.__b=function(n){u=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var o=(u=n.__c).__H;o&&(r===u?(o.__h=[],u.__h=[],o.__.forEach(function(n){n.__V=f,n.u=void 0})):(o.__h.forEach(j),o.__h.forEach(k),o.__h=[])),r=u},n.diffed=function(t){v&&v(t);var i=t.__c;i&&i.__H&&(i.__H.__h.length&&(1!==c.push(i)&&o===n.requestAnimationFrame||((o=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),g&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);g&&(t=requestAnimationFrame(u))})(b)),i.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.__V!==f&&(n.__=n.__V),n.u=void 0,n.__V=f})),r=u=null},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(j),t.__h=t.__h.filter(function(n){return!n.__||k(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),l&&l(t,u)},n.unmount=function(t){m&&m(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{j(n)}catch(n){u=n}}),u&&n.__e(u,r.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function k(n){var t=u;n.__c=n.__(),u=t}function w(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function z(n,t){return\"function\"==typeof t?t(n):t}export{y as useState,d as useReducer,_ as useEffect,h as useLayoutEffect,s as useRef,A as useImperativeHandle,F as useMemo,T as useCallback,q as useContext,x as useDebugValue,V as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as v,Fragment as d,render as p,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function S(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:C(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var x=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function R(n){function t(t){var e=S({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=x,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:v(v(n).map(t))},k={map:N,forEach:N,count:function(n){return n?v(n).length:0},only:function(n){var t=v(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:v},A=h.__e;h.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);A(n,t,e,r)};var O=h.unmount;function T(){this.__u=0,this.t=null,this.__b=null}function L(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function U(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function D(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(T.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=L(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},T.prototype.componentWillUnmount=function(){this.t=[]},T.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=S({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__a&&s(d,null,n.fallback);return u&&(u.__h=null),[s(d,null,t.__a?null:n.children),u]};var F=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function I(n){return this.getChildContext=function(){return n.context},n.children}function M(n){var t=this,e=n.i;t.componentWillUnmount=function(){p(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),p(s(I,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function V(n,t){var e=s(M,{__v:n,i:t});return e.containerInfo=t,e}(D.prototype=new a).__a=function(n){var t=this,e=L(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),F(t,n,r)):u()};e?e(o):o()}},D.prototype.render=function(n){this.u=null,this.o=new Map;var t=v(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},D.prototype.componentDidUpdate=D.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){F(n,e,t)})};var W=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$=\"undefined\"!=typeof document,j=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),p(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function q(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];$&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!j(e.type)?o=\"oninput\":/^onfocus$/i.test(o)?o=\"onfocusin\":/^onblur$/i.test(o)?o=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():u&&P.test(o)?o=o.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===i&&(i=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o=\"oninputCapture\")),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=v(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=v(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r,e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J))}n.$$typeof=W,K&&K(n)};var Q=h.__r;h.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return s.bind(null,n)}function en(n){return!!n&&n.$$typeof===W}function rn(n){return en(n)?y.apply(null,arguments):n}function un(n){return!!n.__k&&(p(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},fn=function(n,t){return n(t)},cn=d;function an(n){n()}function sn(n){return n}function hn(){return[!1,an]}var vn=r;function dn(t,r){var u=n(r),o=u[0],i=u[1];return e(function(){return t(function(){i(r())})},[t,r]),o}export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useInsertionEffect:r,useTransition:hn,useDeferredValue:sn,useSyncExternalStore:dn,startTransition:an,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"17.0.2\",Children:k,render:z,hydrate:B,unmountComponentAtNode:un,createPortal:V,createElement:s,createContext:_,createFactory:tn,cloneElement:rn,createRef:b,Fragment:d,isValidElement:en,findDOMNode:on,Component:a,PureComponent:E,memo:g,forwardRef:R,flushSync:fn,unstable_batchedUpdates:ln,StrictMode:d,Suspense:T,SuspenseList:D,lazy:U,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X};export{an as startTransition,sn as useDeferredValue,hn as useTransition,vn as useInsertionEffect,dn as useSyncExternalStore,nn as version,k as Children,z as render,B as hydrate,un as unmountComponentAtNode,V as createPortal,tn as createFactory,rn as cloneElement,en as isValidElement,on as findDOMNode,E as PureComponent,g as memo,R as forwardRef,fn as flushSync,ln as unstable_batchedUpdates,cn as StrictMode,T as Suspense,D as SuspenseList,U as lazy,X as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED};\n//# sourceMappingURL=compat.module.js.map\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.10.1\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n//# sourceMappingURL=main.js.map\n","export var OPTION_IS_COMPLEX = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n//# sourceMappingURL=options.js.map","// TODO: add types!\nimport { __assign } from \"tslib\";\n/*\nworks with objects and arrays\n*/\nexport function shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = __assign({}, val);\n        }\n    }\n    return val;\n}\nexport function mapHash(input, func) {\n    var output = {};\n    for (var key in input) {\n        if (input.hasOwnProperty(key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n//# sourceMappingURL=utils.js.map","import Vue from 'vue';\nimport { createPlugin } from '@fullcalendar/core';\n/*\nwrap it in an object with a `vue` key, which the custom content-type handler system will look for\n*/\nexport function wrapVDomGenerator(vDomGenerator) {\n    return function (props) {\n        return { vue: vDomGenerator(props) };\n    };\n}\nexport function createVueContentTypePlugin(parent) {\n    return createPlugin({\n        contentTypeHandlers: {\n            vue: function () { return buildVDomHandler(parent); }, // looks for the `vue` key\n        }\n    });\n}\nfunction buildVDomHandler(parent) {\n    var currentEl;\n    var v; // the Vue instance\n    function render(el, vDomContent) {\n        if (currentEl !== el) {\n            if (currentEl && v) { // if changing elements, recreate the vue\n                v.$destroy();\n            }\n            currentEl = el;\n        }\n        if (!v) {\n            v = initVue(vDomContent, parent);\n            // vue's mount method *replaces* the given element. create an artificial inner el\n            var innerEl = document.createElement('span');\n            el.appendChild(innerEl);\n            v.$mount(innerEl);\n        }\n        else {\n            v.content = vDomContent;\n        }\n    }\n    function destroy() {\n        if (v) { // needed?\n            v.$destroy();\n        }\n    }\n    return { render: render, destroy: destroy };\n}\nfunction initVue(initialContent, parent) {\n    return new Vue({\n        parent: parent,\n        data: {\n            content: initialContent,\n        },\n        render: function (h) {\n            var content = this.content;\n            // the slot result can be an array, but the returned value of a vue component's\n            // render method must be a single node.\n            if (content.length === 1) {\n                return content[0];\n            }\n            else {\n                return h('span', {}, content);\n            }\n        }\n    });\n}\n//# sourceMappingURL=custom-content-type.js.map","import { __assign } from \"tslib\";\nimport Vue from 'vue';\nimport { Calendar } from '@fullcalendar/core';\nimport { OPTION_IS_COMPLEX } from './options';\nimport { shallowCopy, mapHash } from './utils';\nimport { wrapVDomGenerator, createVueContentTypePlugin } from './custom-content-type';\nvar FullCalendar = Vue.extend({\n    props: {\n        options: Object\n    },\n    data: initData,\n    render: function (createElement) {\n        return createElement('div', {\n            // when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated\n            attrs: { 'data-fc-render-id': this.renderId }\n        });\n    },\n    mounted: function () {\n        var internal = this.$options;\n        internal.scopedSlotOptions = mapHash(this.$scopedSlots, wrapVDomGenerator); // needed for buildOptions\n        var calendar = new Calendar(this.$el, this.buildOptions(this.options, this));\n        internal.calendar = calendar;\n        calendar.render();\n    },\n    methods: {\n        getApi: getApi,\n        buildOptions: buildOptions,\n    },\n    beforeUpdate: function () {\n        this.getApi().resumeRendering(); // the watcher handlers paused it\n    },\n    beforeDestroy: function () {\n        this.getApi().destroy();\n    },\n    watch: buildWatchers()\n});\nfunction initData() {\n    return {\n        renderId: 0\n    };\n}\nfunction buildOptions(suppliedOptions, parent) {\n    var internal = this.$options;\n    suppliedOptions = suppliedOptions || {};\n    return __assign(__assign(__assign({}, internal.scopedSlotOptions), suppliedOptions), { plugins: (suppliedOptions.plugins || []).concat([\n            createVueContentTypePlugin(parent)\n        ]) });\n}\nfunction getApi() {\n    var internal = this.$options;\n    return internal.calendar;\n}\nfunction buildWatchers() {\n    var watchers = {\n        // watches changes of ALL options and their nested objects,\n        // but this is only a means to be notified of top-level non-complex options changes.\n        options: {\n            deep: true,\n            handler: function (options) {\n                var calendar = this.getApi();\n                calendar.pauseRendering();\n                calendar.resetOptions(this.buildOptions(options, this));\n                this.renderId++; // will queue a rerender\n            }\n        }\n    };\n    var _loop_1 = function (complexOptionName) {\n        // handlers called when nested objects change\n        watchers[\"options.\" + complexOptionName] = {\n            deep: true,\n            handler: function (val) {\n                var _a;\n                // unfortunately the handler is called with undefined if new props were set, but the complex one wasn't ever set\n                if (val !== undefined) {\n                    var calendar = this.getApi();\n                    calendar.pauseRendering();\n                    calendar.resetOptions((_a = {},\n                        // the only reason we shallow-copy is to trick FC into knowing there's a nested change.\n                        // TODO: future versions of FC will more gracefully handle event option-changes that are same-reference.\n                        _a[complexOptionName] = shallowCopy(val),\n                        _a), true);\n                    this.renderId++; // will queue a rerender\n                }\n            }\n        };\n    };\n    for (var complexOptionName in OPTION_IS_COMPLEX) {\n        _loop_1(complexOptionName);\n    }\n    return watchers;\n}\nexport default FullCalendar;\n//# sourceMappingURL=FullCalendar.js.map","import FullCalendarComponent from './FullCalendar';\n/*\nRegisters the component globally if appropriate.\nThis modules exposes the component AND an install function.\n\nDerived from:\nhttps://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html\n*/\nvar installed = false;\n// declare install function executed by Vue.use()\nexport function install(Vue) {\n    if (!installed) {\n        installed = true;\n        Vue.component('FullCalendar', FullCalendarComponent);\n    }\n}\n// detect a globally availble version of Vue (eg. in browser via <script> tag)\nvar GlobalVue;\nif (typeof globalThis !== 'undefined') {\n    GlobalVue = globalThis.Vue;\n}\nelse {\n    GlobalVue = window.Vue;\n}\n// auto-install if possible\nif (GlobalVue) {\n    GlobalVue.use({\n        install: install\n    });\n}\n// to allow use as module (npm/webpack/etc.) export component\nexport default FullCalendarComponent;\n// so can access any of the utils/types from this lib\nexport * from '@fullcalendar/core';\n//# sourceMappingURL=main.js.map","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calendar.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"mb-0\",attrs:{\"no-body\":\"\"}},[_c('div',{staticClass:\"m-2\"},[_c('b-row',[_c('b-col',{staticClass:\"d-flex align-items-center justify-content-start mb-1 mb-md-0\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('ul',{staticClass:\"nav nav-tabs nav-justified\",attrs:{\"id\":\"myTab2\",\"role\":\"tablist\"}},[_c('li',{staticClass:\"nav-item\"},[_c('router-link',{attrs:{\"to\":{ name: 'workflowschedules', params: { id: this.id } }}},[_c('a',{staticClass:\"nav-link\",attrs:{\"id\":\"profile-tab-justified\"}},[_vm._v(\" List\")])])],1),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link active\",attrs:{\"id\":\"profile-tab-justified\"}},[_vm._v(\"Calendar\")])])])])],1),_c('FullCalendar',{attrs:{\"options\":_vm.calendarOptions}})],1),_c('b-modal',{attrs:{\"id\":\"event-modal\",\"hide-footer\":\"\"},scopedSlots:_vm._u([{key:\"modal-title\",fn:function(){return [_vm._v(\" Schedule Info \")]},proxy:true}])},[_c('div',{staticClass:\"d-block text-left\"},[(_vm.eventinfo.extendedProps)?_c('div',{staticClass:\"mb-2\"},[_c('label',[_vm._v(\"Title: \")]),_c('div',[_vm._v(_vm._s(_vm.eventinfo.extendedProps.title))])]):_vm._e(),(_vm.eventinfo.extendedProps)?_c('div',{staticClass:\"mb-2\"},[_c('label',[_vm._v(\"Type: \")]),_c('div',[_vm._v(_vm._s(_vm.eventinfo.extendedProps.type))])]):_vm._e(),(_vm.eventinfo.extendedProps)?_c('div',{staticClass:\"mb-2\"},[_c('label',[_vm._v(\"Schedule Time & Date: \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.eventinfo.extendedProps.schedule_datettime)+\" \")])]):_vm._e(),(_vm.eventinfo.extendedProps)?_c('div',{staticClass:\"mb-2\"},[_c('label',[_vm._v(\"Client Name: \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.eventinfo.extendedProps.client_name)+\" \")])]):_vm._e(),(_vm.eventinfo.extendedProps)?_c('div',{staticClass:\"mb-2\"},[_c('label',[_vm._v(\"Assigned To: \")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.eventinfo.extendedProps.assignedto)+\" \")])]):_vm._e(),(_vm.eventinfo.extendedProps)?_c('div',{staticClass:\"mb-2\"},[_c('label',[_vm._v(\"Instructions: \")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.eventinfo.extendedProps.instruction)}})]):_vm._e()]),_c('b-button',{staticClass:\"mt-3\",attrs:{\"block\":\"\"},on:{\"click\":function($event){return _vm.$bvModal.hide('event-modal')}}},[_vm._v(\"Close Me\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-card no-body class=\"mb-0\">\r\n    <div class=\"m-2\">\r\n      <!-- Table Top -->\r\n      <b-row>\r\n        <!-- Per Page -->\r\n        <b-col cols=\"12\" md=\"6\" class=\"d-flex align-items-center justify-content-start mb-1 mb-md-0\">\r\n          <ul class=\"nav nav-tabs nav-justified\" id=\"myTab2\" role=\"tablist\">\r\n            <li class=\"nav-item\">\r\n              <router-link :to=\"{ name: 'workflowschedules', params: { id: this.id } }\"><a class=\"nav-link\"\r\n                  id=\"profile-tab-justified\"> List</a></router-link>\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link active\" id=\"profile-tab-justified\">Calendar</a>\r\n            </li>\r\n          </ul>\r\n        </b-col>\r\n      </b-row>\r\n      <FullCalendar :options=\"calendarOptions\" />\r\n    </div>\r\n    <b-modal id=\"event-modal\" hide-footer>\r\n      <template #modal-title> Schedule Info </template>\r\n      <div class=\"d-block text-left\">\r\n        <div class=\"mb-2\" v-if=\"eventinfo.extendedProps\">\r\n          <label>Title: </label>\r\n          <div>{{ eventinfo.extendedProps.title }}</div>\r\n        </div>\r\n        <!-- <div class=\"mb-2\" v-if=\"eventinfo.extendedProps\">\r\n          <label>Description: </label>\r\n          <div>\r\n            {{ eventinfo.extendedProps.description }}\r\n          </div>\r\n        </div> -->\r\n        <div class=\"mb-2\" v-if=\"eventinfo.extendedProps\">\r\n          <label>Type: </label>\r\n          <div>{{ eventinfo.extendedProps.type }}</div>\r\n        </div>\r\n        <div class=\"mb-2\" v-if=\"eventinfo.extendedProps\">\r\n          <label>Schedule Time & Date: </label>\r\n          <div>\r\n            {{ eventinfo.extendedProps.schedule_datettime }}\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2\" v-if=\"eventinfo.extendedProps\">\r\n          <label>Client Name: </label>\r\n          <div>\r\n            {{ eventinfo.extendedProps.client_name }}\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2\" v-if=\"eventinfo.extendedProps\">\r\n          <label>Assigned To: </label>\r\n          <div>\r\n            {{ eventinfo.extendedProps.assignedto }}\r\n          </div>\r\n        </div>\r\n        <div class=\"mb-2\" v-if=\"eventinfo.extendedProps\">\r\n          <label>Instructions: </label>\r\n          <div v-html=\"eventinfo.extendedProps.instruction\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <b-button class=\"mt-3\" block @click=\"$bvModal.hide('event-modal')\">Close Me</b-button>\r\n    </b-modal>\r\n  </b-card>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BButton,\r\n  BMedia,\r\n  BAvatar,\r\n  BRow,\r\n  BCol,\r\n  BFormGroup,\r\n  BFormInput,\r\n  BForm,\r\n  BTable,\r\n  BCard,\r\n  BCardHeader,\r\n  BCardTitle,\r\n  BFormCheckbox,\r\n  BFormInvalidFeedback,\r\n  BFormFile,\r\n  BMediaAside,\r\n  BMediaBody,\r\n  BModal,\r\n  BLink,\r\n  BImg,\r\n  BFormRadioGroup,\r\n  BFormTextarea,\r\n} from \"bootstrap-vue\";\r\nimport vSelect from \"vue-select\";\r\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport Ripple from \"vue-ripple-directive\";\r\nimport FullCalendar from \"@fullcalendar/vue\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport listPlugin from \"@fullcalendar/list\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\n\r\nimport { validateSize } from \"@core/utils/utils\";\r\n\r\nimport VoerroTagsInput from \"@voerro/vue-tagsinput\";\r\n\r\nrequire(\"@voerro/vue-tagsinput/dist/style.css\");\r\n\r\nimport ToastificationContent from \"@core/components/toastification/ToastificationContent.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    BButton,\r\n    BMedia,\r\n    BAvatar,\r\n    BRow,\r\n    BCol,\r\n    BFormGroup,\r\n    BFormInput,\r\n    BForm,\r\n    BTable,\r\n    BCard,\r\n    BCardHeader,\r\n    BCardTitle,\r\n    BFormCheckbox,\r\n    BFormFile,\r\n    vSelect,\r\n    BFormInvalidFeedback,\r\n    BMedia,\r\n    BMediaAside,\r\n    BMediaBody,\r\n    BLink,\r\n    BImg,\r\n    BModal,\r\n    flatPickr,\r\n    BFormRadioGroup,\r\n    BFormTextarea,\r\n    \"tags-input\": VoerroTagsInput,\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n    FullCalendar,\r\n  },\r\n  directives: {\r\n    Ripple,\r\n  },\r\n  props: {\r\n    id: {\r\n      type: [Number, String, null],\r\n      default: null,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      client_id: this.id,\r\n      tabId: \"calendar\",\r\n      list: [],\r\n      calendarOptions: {\r\n        plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin, listPlugin],\r\n        initialView: \"dayGridMonth\",\r\n        eventClick: this.handleEventClick,\r\n        events: [],\r\n      },\r\n      eventinfo: [],\r\n      pagination: {\r\n        filters: {},\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n\r\n  methods: {\r\n    validateSize,\r\n    async getList() {\r\n      try {\r\n        this.loading = true;\r\n        if (this.$store.getters.user.role_id == \"3\") {\r\n          this.pagination.filters.client_id = this.$store.getters.user.id;\r\n        } else {\r\n          this.pagination.filters.user_id = this.$store.getters.user.id;\r\n        }\r\n        const { data } = await axios.get(\"workflowschedules/events\", {\r\n          params: this.pagination,\r\n        });\r\n        if (data.events) {\r\n          this.list = data.events;\r\n          this.calendarOptions.events = data.events;\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      this.loading = false;\r\n    },\r\n    handleEventClick: function (info) {\r\n      this.eventinfo = info.event;\r\n      this.$bvModal.show(\"event-modal\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@core/scss/vue/libs/vue-select.scss\";\r\n@import \"@core/scss/vue/libs/vue-flatpicker.scss\";\r\n\r\n.custom-radio {\r\n  margin-top: 0 !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./calendar.vue?vue&type=template&id=591f13ce&\"\nimport script from \"./calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./calendar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}