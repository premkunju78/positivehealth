(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-016c537b"],{"11de":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("2b0e"),a=r("b42e"),i=r("c637"),o=r("a723"),s=r("cf75"),c=Object(s["d"])({id:Object(s["c"])(o["u"]),inline:Object(s["c"])(o["g"],!1),novalidate:Object(s["c"])(o["g"],!1),validated:Object(s["c"])(o["g"],!1)},i["B"]),u=n["default"].extend({name:i["B"],functional:!0,props:c,render:function(e,t){var r=t.props,n=t.data,i=t.children;return e("form",Object(a["a"])(n,{class:{"form-inline":r.inline,"was-validated":r.validated},attrs:{id:r.id,novalidate:r.novalidate}}),i)}})},4296:function(e,t,r){},5319:function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),i=r("7b0b"),o=r("50c4"),s=r("a691"),c=r("1d80"),u=r("8aa5"),l=r("14c3"),d=Math.max,f=Math.min,p=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,b=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=n.REPLACE_KEEPS_$0,w=g?"$":"$0";return[function(r,n){var a=c(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,a,n):t.call(String(a),r,n)},function(e,n){if(!g&&h||"string"===typeof n&&-1===n.indexOf(w)){var i=r(t,e,this,n);if(i.done)return i.value}var c=a(e),p=String(this),v="function"===typeof n;v||(n=String(n));var m=c.global;if(m){var R=c.unicode;c.lastIndex=0}var S=[];while(1){var k=l(c,p);if(null===k)break;if(S.push(k),!m)break;var q=String(k[0]);""===q&&(c.lastIndex=u(p,o(c.lastIndex),R))}for(var $="",y=0,B=0;B<S.length;B++){k=S[B];for(var E=String(k[0]),_=d(f(s(k.index),p.length),0),j=[],O=1;O<k.length;O++)j.push(b(k[O]));var D=k.groups;if(v){var I=[E].concat(j,_,p);void 0!==D&&I.push(D);var C=String(n.apply(void 0,I))}else C=x(E,p,_,j,D,n);_>=y&&($+=p.slice(y,_)+C,y=_+E.length)}return $+p.slice(y)}];function x(e,r,n,a,o,s){var c=n+e.length,u=a.length,l=m;return void 0!==o&&(o=i(o),l=v),t.call(s,l,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return t;if(l>u){var d=p(l/10);return 0===d?t:d<=u?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):t}s=a[l-1]}return void 0===s?"":s}))}}))},"7d6c":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",[r("b-row",{staticStyle:{"margin-top":"2%"}},[r("b-col",{attrs:{cols:"2"}}),r("b-col",{attrs:{cols:"8"}},[e.errors&&e.errors.content?r("span",{staticClass:"text-danger"},[e._v(" "+e._s(e.errors.content)+" ")]):e._e(),r("div",{attrs:{id:"fb-view"}})])],1),r("b-row",[r("b-col",[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}},{name:"permission",rawName:"v-permission",value:["edit-questionnaire"],expression:"['edit-questionnaire']"}],staticStyle:{float:"right"},attrs:{type:"submit",variant:"primary"},on:{click:e.onSubmit}},[e._v(" Update ")]),r("router-link",{attrs:{to:{name:"questionnaires"}}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1",staticStyle:{float:"right"},attrs:{type:"reset",variant:"outline-secondary"}},[e._v(" cancel ")])],1)],1)],1)],1)},a=[],i=r("1da1"),o=(r("96cf"),r("b0c0"),r("d81d"),r("ac1f"),r("5319"),r("205f")),s=r("d6e4"),c=r("a15b7"),u=r("b28b"),l=r("11de"),d=r("1947"),f=r("e009"),p=r("223c"),v=r("1157"),m=r.n(v),b=r("0910");r("ff52");window.jQuery=m.a,window.$=m.a,r("3afa"),r("17c5");var g={name:"FillQuestionnaire",components:{BCard:o["a"],BCardText:s["a"],BRow:c["a"],BCol:u["a"],BForm:l["a"],BButton:d["a"]},directives:{Ripple:f["a"]},props:["id"],data:function(){return{formRenderer:null,formData:null,questionnaire:{},errors:{}}},created:function(){this.getFormData()},methods:{getFormData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.get("/questionnaire/user/".concat(e.id));case 3:r=t.sent,n=r.data,e.formData=n.content,a=[{label:"Star Rating",attrs:{type:"starRating"},icon:"ðŸŒŸ"}],i={starRating:function(e){return{field:'<span id="'+e.name+'">',onRender:function(){Object(b["a"])(document.getElementById(e.name),{numStars:10})}}}},e.formRenderer=m()("#fb-view").formRender({fields:a,templates:i,formData:n.content,render:!0}),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.$toast({component:p["a"],props:{title:"something went wrong contact admin",icon:"BellIcon",variant:"danger"}});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},onSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.questionnaire.result=e.formRenderer.userData,r=!0,e.questionnaire.result.map((function(e){e.required&&(e.userData.length||(r=!1))})),!r){t.next=23;break}if(e.questionnaire.id=e.id,!e.questionnaire.result.length){t.next=20;break}return t.prev=6,t.next=9,axios.put("/questionnaire/result/".concat(e.id),e.questionnaire);case 9:n=t.sent,a=n.data,e.$toast({component:p["a"],props:{title:a.message,icon:"BellIcon",variant:a.success?"success":"danger"}}),e.$router.replace({name:"questionnaires"}),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](6),e.errors=t.t0.response.data.errors;case 18:t.next=21;break;case 20:e.errors.content="Please fill form first";case 21:t.next=24;break;case 23:e.$toast({component:p["a"],props:{title:"Please fill all the required fields first",icon:"BellIcon",variant:"danger"}});case 24:case"end":return t.stop()}}),t,null,[[6,15]])})))()},resetQuestionnaire:function(){this.questionnaire.result=this.formData}}},h=g,w=(r("e245"),r("2877")),x=Object(w["a"])(h,n,a,!1,null,null,null);t["default"]=x.exports},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,i=r("1dde"),o=r("ae40"),s=i("map"),c=o("map");n({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},e245:function(e,t,r){"use strict";r("4296")}}]);
//# sourceMappingURL=chunk-016c537b.2c184e6b.js.map